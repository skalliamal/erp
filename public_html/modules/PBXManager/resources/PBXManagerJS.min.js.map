{"version":3,"file":"PBXManagerJS.min.js","sources":["PBXManagerJS.js"],"sourcesContent":["/*+***********************************************************************************\n * The contents of this file are subject to the vtiger CRM Public License Version 1.0\n * (\"License\"); You may not use this file except in compliance with the License\n * The Original Code is:  vtiger CRM Open Source\n * The Initial Developer of the Original Code is vtiger.\n * Portions created by vtiger are Copyright (C) vtiger.\n * All Rights Reserved.\n *************************************************************************************/\n\nvar Vtiger_PBXManager_Js = {\n\t/**\n\t * Function registers PBX for popups\n\t */\n\tregisterPBXCall: function () {\n\t\tVtiger_PBXManager_Js.requestPBXgetCalls();\n\t},\n\t/**\n\t * Function registers PBX for Outbound Call\n\t */\n\tregisterPBXOutboundCall: function (number, record) {\n\t\tVtiger_PBXManager_Js.makeOutboundCall(number, record);\n\t},\n\t/**\n\t * Function request for PBX popups\n\t */\n\trequestPBXgetCalls: function () {\n\t\tvar url = 'index.php?module=PBXManager&action=IncomingCallPoll&mode=searchIncomingCalls';\n\t\tAppConnector.request(url).done(function (data) {\n\t\t\tif (data.success && data.result) {\n\t\t\t\tfor (i = 0; i < data.result.length; i++) {\n\t\t\t\t\tvar record = data.result[i];\n\t\t\t\t\tif (jQuery('#pbxcall_' + record.pbxmanagerid + '').size() == 0)\n\t\t\t\t\t\tVtiger_PBXManager_Js.showPBXIncomingCallPopup(record);\n\t\t\t\t\telse\n\t\t\t\t\t\tVtiger_PBXManager_Js.updatePBXIncomingCallPopup(record);\n\t\t\t\t}\n\t\t\t}\n\t\t});\n\t\tVtiger_PBXManager_Js.removeCompletedCallPopup();\n\t},\n\t/**\n\t * Function display the PBX popup\n\t */\n\tshowPBXIncomingCallPopup: function (record) {\n\t\tvar params = {\n\t\t\ttitle: app.vtranslate('JS_PBX_INCOMING_CALL'),\n\t\t\ttext: '<div class=\"row pbxcall\" id=\"pbxcall_' + record.pbxmanagerid + '\" callid=' + record.pbxmanagerid + ' style=\"color:black\"><span class=\"col-md-12\" id=\"caller\" value=\"' + record.customernumber + '\">' + app.vtranslate('JS_PBX_CALL_FROM') + ' : ' + record.customernumber + '</span><span class=\"d-none col-md-12\" id=\"contactsave_' + record.pbxmanagerid + '\">\\n\\\n                        <span><input class=\"col-md-3\" id=\"email_' + record.pbxmanagerid + '\" type=\"text\" placeholder=\"Enter Email-id\"></input>&nbsp;&nbsp;&nbsp;<select class=\"input-small\" id=\"module_' + record.pbxmanagerid + '\" placeholder=\"Select\"><option>Select</option></select><h5 class=\"alert-danger d-none col-md-3\" id=\"alert_msg\">' + app.vtranslate('JS_PBX_FILL_ALL_FIELDS') + '</h5>\\n\\\n                        <button class=\"btn btn-success pull-right\"  id=\"pbxcontactsave_' + record.pbxmanagerid + '\" recordid=\"' + record.pbxmanagerid + '\" type=\"submit\">Save</button>\\n\\\n                        </span></span><br /><span class=\"col-md-12\" style=\"display:none\" id=\"answeredby\"><i class=\"icon-headphones\"></i>&nbsp;<span id=\"answeredbyname\"></span></span></div>',\n\t\t\twidth: '28%',\n\t\t\tmin_height: '75px',\n\t\t\taddclass: 'vtCall',\n\t\t\ticon: 'vtCall-icon',\n\t\t\thide: false,\n\t\t\tcloser: true,\n\t\t\ttype: 'info',\n\t\t\tafter_open: function (p) {\n\t\t\t\tjQuery(p).data('info', record);\n\t\t\t}\n\t\t};\n\t\tVtiger_Helper_Js.showPnotify(params);\n\n\t\t//To remove the popup for all users except answeredby (existing record)\n\t\tif (record.user) {\n\t\t\tif (record.user != record.current_user_id) {\n\t\t\t\tVtiger_PBXManager_Js.removeCallPopup(record.pbxmanagerid);\n\t\t\t}\n\t\t}\n\n\t\t// To check if it is new or existing contact\n\t\tVtiger_PBXManager_Js.checkIfRelatedModuleRecordExist(record);\n\n\t\tif (record.answeredby != null) {\n\t\t\tjQuery('#answeredbyname', '#pbxcall_' + record.pbxmanagerid + '').text(record.answeredby);\n\t\t\tjQuery('#answeredby', '#pbxcall_' + record.pbxmanagerid + '').show();\n\t\t}\n\n\t\tjQuery('#pbxcontactsave_' + record.pbxmanagerid + '').bind('click', function (e) {\n\t\t\tvar pbxmanagerid = jQuery(e.currentTarget).attr('recordid');\n\n\t\t\tif (jQuery('#module_' + pbxmanagerid + '').val() == 'Select') {\n\t\t\t\tjQuery('#alert_msg').show();\n\t\t\t\treturn false;\n\t\t\t}\n\t\t\tif (jQuery('#email_' + pbxmanagerid + '').val() == \"\") {\n\t\t\t\tjQuery('#alert_msg').show();\n\t\t\t\treturn false;\n\t\t\t}\n\n\t\t\tVtiger_PBXManager_Js.createRecord(e, record);\n\t\t\t//To restrict the save button action to one click\n\t\t\tjQuery('#pbxcontactsave_' + record.pbxmanagerid + '').unbind('click');\n\t\t});\n\t},\n\tcreateRecord: function (e, record) {\n\t\tvar pbxmanagerid = jQuery(e.currentTarget).attr('recordid');\n\t\tvar email = jQuery('#email_' + pbxmanagerid + '').val();\n\t\tvar moduleName = jQuery('#module_' + pbxmanagerid + '').val();\n\n\t\tvar number = jQuery('#caller', '#pbxcall_' + pbxmanagerid + '').attr(\"value\");\n\t\tvar url = 'index.php?module=PBXManager&action=IncomingCallPoll&mode=createRecord&number=' + encodeURIComponent(number) + '&email=' + encodeURIComponent(email) + '&callid=' + record.sourceuuid + '&modulename=' + moduleName;\n\t\tAppConnector.request(url).done(function (data) {\n\t\t\tif (data.success && data.result) {\n\t\t\t\tjQuery('#contactsave_' + pbxmanagerid + '').hide();\n\t\t\t}\n\t\t});\n\t},\n\tcheckIfRelatedModuleRecordExist: function (record) {\n\t\tswitch (record.callername) {\n\t\t\tcase null:\n\t\t\t\tvar url = 'index.php?module=PBXManager&action=IncomingCallPoll&mode=checkModuleViewPermission&view=EditView';\n\t\t\t\tAppConnector.request(url).done(function (data) {\n\t\t\t\t\tvar responsedata = JSON.parse(data);\n\t\t\t\t\tvar showSaveOption = false;\n\t\t\t\t\tvar moduleList = responsedata.result.modules;\n\t\t\t\t\tvar contents = jQuery('#module_' + record.pbxmanagerid + '');\n\t\t\t\t\tvar newEle;\n\t\t\t\t\tfor (var module in moduleList) {\n\t\t\t\t\t\tif (moduleList.hasOwnProperty(module)) {\n\t\t\t\t\t\t\tif (moduleList[module]) {\n\t\t\t\t\t\t\t\tnewEle = '<option id=\"select_' + module + '\" value=\"' + module + '\">' + app.vtranslate(module) + '</option>';\n\t\t\t\t\t\t\t\tcontents.append(newEle);\n\t\t\t\t\t\t\t\tshowSaveOption = true;\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\t\t\t\tif (responsedata.success && showSaveOption)\n\t\t\t\t\t\tjQuery('#contactsave_' + record.pbxmanagerid + '').show();\n\t\t\t\t});\n\t\t\t\tbreak;\n\t\t\tdefault:\n\t\t\t\tjQuery('#caller', '#pbxcall_' + record.pbxmanagerid + '').html(app.vtranslate('JS_PBX_CALL_FROM') + ' :&nbsp;<a href=\"index.php?module=' + record.customertype + '&view=Detail&record=' + record.customer + '\">' + record.callername + '</a>');\n\t\t\t\tbreak;\n\t\t}\n\t},\n\t/**\n\t * Function to update the popup with answeredby, hide contactsave option e.t.c.,\n\t */\n\tupdatePBXIncomingCallPopup: function (record) {\n\t\tif (record.answeredby != null) {\n\t\t\tjQuery('#answeredbyname', '#pbxcall_' + record.pbxmanagerid + '').text(record.answeredby);\n\t\t\tjQuery('#answeredby', '#pbxcall_' + record.pbxmanagerid + '').show();\n\t\t}\n\t\tif (record.customer != null && record.customer != '') {\n\t\t\tjQuery('#caller', '#pbxcall_' + record.pbxmanagerid + '').html(app.vtranslate('JS_PBX_CALL_FROM') + ' :&nbsp;<a href=\"index.php?module=' + record.customertype + '&view=Detail&record=' + record.customer + '\">' + record.callername + '</a>');\n\t\t\tjQuery('#contactsave_' + record.pbxmanagerid + '').hide();\n\t\t}\n\t\t//To remove the popup for all users except answeredby (new record)\n\t\tif (record.user) {\n\t\t\tif (record.user != record.current_user_id) {\n\t\t\t\tVtiger_PBXManager_Js.removeCallPopup(record.pbxmanagerid);\n\t\t\t}\n\t\t}\n\t},\n\t/**\n\t * Function to remove the call popup which is completed\n\t */\n\tremoveCompletedCallPopup: function () {\n\t\tvar callid = null;\n\t\tvar pbxcall = jQuery('.pbxcall');\n\t\tfor (var i = 0; i < pbxcall.length; i++) {\n\t\t\tcallid = pbxcall[i].getAttribute('callid');\n\t\t\tvar url = 'index.php?module=PBXManager&action=IncomingCallPoll&mode=getCallStatus&callid=' + encodeURIComponent(callid) + '';\n\t\t\tAppConnector.request(url).done(function (data) {\n\t\t\t\tif (data.result) {\n\t\t\t\t\tif (data.result != 'in-progress' && data.result != 'ringing') {\n\t\t\t\t\t\tVtiger_PBXManager_Js.removeCallPopup(callid);\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t});\n\t\t}\n\t},\n\t/**\n\t * Function to remove call popup\n\t */\n\tremoveCallPopup: function (callid) {\n\t\tjQuery('#pbxcall_' + callid + '').parent().parent().parent().remove();\n\t},\n\t/**\n\t * To get contents holder based on the view\n\t */\n\tgetContentHolder: function (view) {\n\t\tif (view == 'List')\n\t\t\treturn jQuery('.listViewContentDiv');\n\t\telse\n\t\t\treturn jQuery('.detailViewContainer');\n\t},\n\t/**\n\t * Function to forward call to number\n\t */\n\tmakeOutboundCall: function (number, record) {\n\t\tvar params = {\n\t\t\t'number': number,\n\t\t\t'record': record,\n\t\t\t'module': 'PBXManager',\n\t\t\t'action': 'OutgoingCall'\n\t\t};\n\t\tAppConnector.request(params).done(function (data) {\n\t\t\tif (data.result) {\n\t\t\t\tparams = {\n\t\t\t\t\t'text': app.vtranslate('JS_PBX_OUTGOING_SUCCESS'),\n\t\t\t\t\t'type': 'info'\n\t\t\t\t};\n\t\t\t} else {\n\t\t\t\tparams = {\n\t\t\t\t\t'text': app.vtranslate('JS_PBX_OUTGOING_FAILURE'),\n\t\t\t\t\t'type': 'error'\n\t\t\t\t};\n\t\t\t}\n\t\t\tVtiger_Helper_Js.showPnotify(params);\n\t\t});\n\t},\n\t/**\n\t * Function to register required events\n\t */\n\tregisterEvents: function () {\n\t\tvar thisInstance = this;\n\t\t//for polling\n\t\tvar url = 'index.php?module=PBXManager&action=IncomingCallPoll&mode=checkPermissionForPolling';\n\t\tAppConnector.request(url).done(function (data) {\n\t\t\tif (data.result) {\n\t\t\t\tVtiger_PBXManager_Js.registerPBXCall();\n\t\t\t\tsetInterval(\"Vtiger_PBXManager_Js.registerPBXCall()\", 3000);\n\t\t\t}\n\t\t});\n\t}\n\n};\n\n//On Page Load\njQuery(document).ready(function () {\n\tVtiger_PBXManager_Js.registerEvents();\n});\n"],"names":["registerPBXCall","Vtiger_PBXManager_Js","requestPBXgetCalls","registerPBXOutboundCall","number","record","makeOutboundCall","AppConnector","request","done","data","success","result","i","length","pbxmanagerid","size","showPBXIncomingCallPopup","updatePBXIncomingCallPopup","removeCompletedCallPopup","title","app","vtranslate","text","customernumber","width","min_height","addclass","icon","hide","closer","type","after_open","p","jQuery","Vtiger_Helper_Js","showPnotify","params","user","current_user_id","removeCallPopup","checkIfRelatedModuleRecordExist","answeredby","show","bind","e","currentTarget","attr","val","createRecord","unbind","email","moduleName","url","encodeURIComponent","sourceuuid","callername","responsedata","JSON","parse","showSaveOption","moduleList","modules","contents","hasOwnProperty","module","newEle","append","html","customertype","customer","pbxcall","callid","getAttribute","parent","remove","getContentHolder","view","registerEvents","setInterval","document","ready"],"mappings":"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"}