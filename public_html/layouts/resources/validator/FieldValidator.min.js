'use strict';

Vtiger_Base_Validator_Js('Vtiger_Email_Validator_Js',{invokeValidation:function d(a){var b=new Vtiger_Email_Validator_Js;b.setElement(a);var c=b.validate();if(!0!=c)return b.getError()}},{validate:function b(){var a=this.getFieldValue();return this.validateValue(a)},validateValue:function g(a){var b=/^[_/a-zA-Z0-9*]+([!"#$%&'()*+,./:;<=>?\^_`{|}~-]?[a-zA-Z0-9/_/-])*@[a-zA-Z0-9]+([\_\-\.]?[a-zA-Z0-9]+)*\.([\-\_]?[a-zA-Z0-9])+(\.?[a-zA-Z0-9]+)?$/,c=/[\(\)\<\>\,\;\:\\\"\[\]]/;if(!b.test(a))return this.setError(app.vtranslate('JS_PLEASE_ENTER_VALID_EMAIL_ADDRESS')),!1;if(a.match(c))return this.setError(app.vtranslate('JS_CONTAINS_ILLEGAL_CHARACTERS')),!1;var d=this.getElement(),e=d.data(),f=e.fieldinfo;return !(f&&f.restrictedDomains&&-1!==f.restrictedDomains.indexOf(a.split('@').pop()))||(this.setError(app.vtranslate('JS_EMAIL_RESTRICTED_DOMAINS')),!1)}}),Vtiger_Base_Validator_Js('Vtiger_Phone_Validator_Js',{},{validate:function b(){var a=this.getFieldValue();return this.validateValue(a)},validateValue:function j(a){if(''==a)return !0;var b=this.getElement(),c=b.closest('form'),d=b.data(),e=!0;if(1==d.advancedVerification){var f=this,g=d.fieldinfo,h=b.closest('.input-group'),i=h.find('.phoneCountryList');b.attr('readonly',!0),AppConnector.request({async:!1,data:{module:c.find('[name="module"]').length?c.find('[name="module"]').val():app.getModuleName(),action:'Fields',mode:'verifyPhoneNumber',fieldName:g.name,phoneNumber:a,phoneCountry:i.val()}}).done(function(a){!1==a.result.isValidNumber?(f.setError(a.result.message),e=!1):(b.val(a.result.number),b.attr('title',a.result.geocoding+' '+a.result.carrier),i.val()!=a.result.country&&i.val(a.result.country).change().trigger('chosen:updated')),b.attr('readonly',!1);});}return e}}),Vtiger_Base_Validator_Js('Vtiger_UserName_Validator_Js',{invokeValidation:function d(a){var b=new Vtiger_UserName_Validator_Js;b.setElement(a);var c=b.validate();if(!0!=c)return b.getError()}},{validate:function e(){var a=this.getFieldValue(),b=/^[a-zA-Z0-9_.@]{3,32}$/,c=b.test(a);if(!c){var d=app.vtranslate('JS_CONTAINS_ILLEGAL_CHARACTERS');return this.setError(d),!1}return !0}}),Vtiger_Base_Validator_Js('Vtiger_Integer_Validator_Js',{invokeValidation:function d(a){var b=new Vtiger_Integer_Validator_Js;b.setElement(a);var c=b.validate();if(!0!=c)return b.getError()}},{validate:function g(){var a=this.getFieldValue(),b=/(^[-+]?\d+)$/,c=/(^[-+]?\d?).\d+$/;if(!a.match(b)&&!a.match(c)){var d=app.vtranslate('JS_PLEASE_ENTER_INTEGER_VALUE');return this.setError(d),!1}var e=this.getElement().data().fieldinfo;if(!e||!e.maximumlength)return !0;var f=e.maximumlength.split(',');if(2===f.length){if(a>parseFloat(f[1])||a<parseFloat(f[0]))return d=app.vtranslate('JS_ERROR_MAX_VALUE'),this.setError(d),!1;}else if(a>parseFloat(f[0])||0>a)return d=app.vtranslate('JS_ERROR_MAX_VALUE'),this.setError(d),!1;return !0}}),Vtiger_Integer_Validator_Js('Vtiger_Double_Validator_Js',{invokeValidation:function d(a){var b=new Vtiger_Double_Validator_Js;b.setElement(a);var c=b.validate();if(!0!=c)return b.getError()}},{validate:function e(){var a=this._super();if(!1==a){var b=this.getFieldValue(),c=/(^[-+]?\d+)\.\d+$/;if(!b.match(c)){var d=app.vtranslate('JS_PLEASE_ENTER_DECIMAL_VALUE');return this.setError(d),!1}return !0}return a}}),Vtiger_Base_Validator_Js('Vtiger_PositiveNumber_Validator_Js',{invokeValidation:function d(a){var b=new Vtiger_PositiveNumber_Validator_Js;b.setElement(a);var c=b.validate();if(!0!=c)return b.getError()}},{validate:function h(){var a=this._super();if(!0!==a)return a;var b=this.getFieldValue(),c=/(^[-]+\d+)$/,d=app.parseNumberToFloat(this.getFieldValue());if(isNaN(d)||0>b||b.match(c)){var e=app.vtranslate('JS_ACCEPT_POSITIVE_NUMBER');return this.setError(e),!1}var f=null;if(f=this.getElement().data().fieldinfo?this.getElement().data().fieldinfo.maximumlength:this.getElement().data('maximumlength'),!f)return !0;var g=f.split(',');if(2===g.length){if(b>parseFloat(g[1])||b<parseFloat(g[0]))return e=app.vtranslate('JS_ERROR_MAX_VALUE'),this.setError(e),!1;}else if(b>parseFloat(g[0])||0>b)return e=app.vtranslate('JS_ERROR_MAX_VALUE'),this.setError(e),!1;return !0}}),Vtiger_PositiveNumber_Validator_Js('Vtiger_Percentage_Validator_Js',{invokeValidation:function d(a){var b=new Vtiger_Percentage_Validator_Js;b.setElement(a);var c=b.validate();if(!0!=c)return b.getError()}},{validate:function d(){var a=this._super();if(!0!=a)return a;var b=this.getFieldValue();if(100<b){var c=app.vtranslate('JS_PERCENTAGE_VALUE_SHOULD_BE_LESS_THAN_100');return this.setError(c),!1}return !0}}),Vtiger_Base_Validator_Js('Vtiger_Url_Validator_Js',{},{validate:function e(){var a=this.getFieldValue(),b=/(^|\s)((https?:\/\/)?[\w-]+(\.[\w-]+)+\.?(:\d+)?(\/\S*)?)/gi,c=b.test(a);if(c||0!==a.indexOf('http://')&&0!==a.indexOf('https://')&&0!==a.indexOf('ftp://')&&0!==a.indexOf('ftps://')&&0!==a.indexOf('telnet://')&&0!==a.indexOf('www.')||(c=!0),!c){var d=app.vtranslate('JS_CONTAINS_ILLEGAL_CHARACTERS');return this.setError(d),!1}return !0}}),Vtiger_Base_Validator_Js('Vtiger_MultiSelect_Validator_Js',{invokeValidation:function d(a){var b=new Vtiger_MultiSelect_Validator_Js;b.setElement(a);var c=b.validate();return !0==c?c:b.getError()}},{validate:function d(){var a=this.getElement(),b=a.val();if(null==b){var c=app.vtranslate('JS_PLEASE_SELECT_ATLEAST_ONE_OPTION');return this.setError(c),!1}return !0}}),Vtiger_Email_Validator_Js('Vtiger_MultiEmails_Validator_Js',{invokeValidation:function d(a){var b=new Vtiger_MultiEmails_Validator_Js;b.setElement(a);var c=b.validate();if(!c)return b.getError()}},{validate:function f(){var a=this.getElement(),b=a.val();if(''!=b){var c,d=b.split(',');for(c=0;c<d.length;++c){var e=this.validateValue(d[c]);if(!1==e)return e}return !0}}}),Vtiger_Double_Validator_Js('Vtiger_GreaterThanZero_Validator_Js',{invokeValidation:function d(a){var b=new Vtiger_GreaterThanZero_Validator_Js;b.setElement(a);var c=b.validate();if(!0!=c)return b.getError()}},{validate:function d(){var a=this._super();if(!0!=a)return a;var b=this.getFieldValue();if(0>=b){var c=app.vtranslate('JS_VALUE_SHOULD_BE_GREATER_THAN_ZERO');return this.setError(c),!1}return !0}}),Vtiger_PositiveNumber_Validator_Js('Vtiger_WholeNumber_Validator_Js',{invokeValidation:function d(a){var b=new Vtiger_WholeNumber_Validator_Js;b.setElement(a);var c=b.validate();if(!0!=c)return b.getError()}},{validate:function g(){var a=this._super();if(!0!=a)return a;var b=this.getElement(),c=this.getFieldValue(),d=b.data(),e=d.fieldinfo;if(0!=c%1){if(!jQuery.isEmptyObject(e))var f=app.vtranslate('INVALID_NUMBER_OF')+' '+e.label;else var f=app.vtranslate('INVALID_NUMBER');return this.setError(f),!1}return !0}}),Vtiger_Base_Validator_Js('Vtiger_lessThanToday_Validator_Js',{},{validate:function i(){var a=this.getElement(),b=a.data(),c=b.dateFormat,d=b.fieldinfo,e=this.getFieldValue();try{var f=Vtiger_Helper_Js.getDateInstance(e,c);}catch(a){return this.setError(a),!1}f.setHours(0,0,0,0);var g=new Date;g.setHours(0,0,0,0);if(0>=g-f){var h=d.label+' '+app.vtranslate('JS_SHOULD_BE_LESS_THAN_CURRENT_DATE');return this.setError(h),!1}return !0}}),Vtiger_Base_Validator_Js('Vtiger_lessThanOrEqualToToday_Validator_Js',{},{validate:function i(){var a=this.getElement(),b=a.data(),c=b.dateFormat,d=b.fieldinfo,e=this.getFieldValue();try{var f=Vtiger_Helper_Js.getDateInstance(e,c);}catch(a){return this.setError(a),!1}f.setHours(0,0,0,0);var g=new Date;g.setHours(0,0,0,0);if(0>g-f){var h=d.label+' '+app.vtranslate('JS_SHOULD_BE_LESS_THAN_OR_EQUAL_TO')+' '+app.vtranslate('JS_CURRENT_DATE');return this.setError(h),!1}return !0}}),Vtiger_Base_Validator_Js('Vtiger_greaterThanOrEqualToToday_Validator_Js',{},{validate:function i(){var a=this.getElement(),b=a.data(),c=b.dateFormat,d=b.fieldinfo,e=this.getFieldValue();try{var f=Vtiger_Helper_Js.getDateInstance(e,c);}catch(a){return this.setError(a),!1}f.setHours(0,0,0,0);var g=new Date;g.setHours(0,0,0,0);if(0<g-f){var h=d.label+' '+app.vtranslate('JS_SHOULD_BE_GREATER_THAN_OR_EQUAL_TO')+' '+app.vtranslate('JS_CURRENT_DATE');return this.setError(h),!1}return !0}}),Vtiger_Base_Validator_Js('Vtiger_greaterThanDependentField_Validator_Js',{invokeValidation:function f(a){var b=a[0];if('followup_date_start'==jQuery(b).attr('name'))var c=new Array('date_start');var d=new Vtiger_greaterThanDependentField_Validator_Js;d.setElement(a);var e=d.validate(c);if(!0!=e)return d.getError()}},{validate:function n(a){var b,c=this.getElement(),d=c.data('fieldinfo');b='undefined'==typeof d?jQuery(c).attr('name'):d.label;for(var e=c.closest('form'),f=0;f<a.length;f++){var g=a[f],h=jQuery('input[name='+g+']',e);if(0<h.length){var j=h.data('fieldinfo').label,k=this.getDateTimeInstance(c),l=this.getDateTimeInstance(h);if(0>k-l){var m=b+' '+app.vtranslate('JS_SHOULD_BE_GREATER_THAN_OR_EQUAL_TO')+' '+j+'';return this.setError(m),!1}}}return !0},getDateTimeInstance:function e(a){var b=a.data('dateFormat'),c=a.val();try{var d=Vtiger_Helper_Js.getDateInstance(c,b);}catch(a){return this.setError(a),!1}return d}}),Vtiger_Base_Validator_Js('Vtiger_dateAndTimeGreaterThanDependentField_Validator_Js',{},{fieldDateTime:'',fieldDateTimeInstance:[],dateFormat:'',validate:function o(a){var b=this,c=this.getElement(),d='',e=[],f=c.closest('form'),g=f.attr('name');if('EditView'==g)return !0;for(var h=0,k=0;k<a.length;k++){var l=a[k],m=jQuery('input[name='+l+']',f);if(0<m.length)if('undefined'==typeof m.data('dateFormat')&&d)d+=' '+m.val(),e[h]=Vtiger_Helper_Js.getDateInstance(d,n),h++;else if('undefined'!=typeof m.data('dateFormat')){var n=m.data('dateFormat');d=m.val();}}return b.difference(e)},difference:function d(a){if(2==a.length){var b=a[1]-a[0];if(0>b){var c=app.vtranslate('JS_AN_INCORRECT_RANGE_OF_DATES_WAS_ENTERED');return this.setError(c),!1}}return !0}}),Vtiger_Base_Validator_Js('Vtiger_futureEventCannotBeHeld_Validator_Js',{},{validate:function q(a){for(var b=this.getElement(),c=b.data('fieldinfo').label,d=b.val(),e=b.closest('form'),f=0;f<a.length;f++){var g=a[f],h=jQuery('input[name='+g+']',e);if(0<h.length){var j=h.data('fieldinfo').label,k=new Date,l=h.data('dateFormat'),m=jQuery('input[name=time_start]',e),n=h.val()+' '+m.val(),o=Vtiger_Helper_Js.getDateInstance(n,l);if(0>k-o&&'Held'==d){var p=c+' '+app.vtranslate('JS_FUTURE_EVENT_CANNOT_BE_HELD')+' '+j+'';return this.setError(p),!1}}}return !0}}),Vtiger_Base_Validator_Js('Vtiger_lessThanDependentField_Validator_Js',{},{validate:function m(a){var b=this.getElement(),c=b.data('fieldinfo').label,d=b.closest('form');if(0!=b.val().length){for(var e=0;e<a.length;e++){var f=a[e],g=jQuery('input[name='+f+']',d);if(0<g.length){var h=g.data('fieldinfo').label,j=this.getDateTimeInstance(b);if(0==g.val().length)continue;var k=this.getDateTimeInstance(g);if(0<j-k){var l=c+' '+app.vtranslate('JS_SHOULD_BE_LESS_THAN_OR_EQUAL_TO')+' '+h+'';return this.setError(l),!1}}}return !0}},getDateTimeInstance:function e(a){var b=a.data('dateFormat'),c=a.val();try{var d=Vtiger_Helper_Js.getDateInstance(c,b);}catch(a){return this.setError(a),!1}return d}}),Vtiger_Base_Validator_Js('Vtiger_Currency_Validator_Js',{invokeValidation:function d(a){var b=new Vtiger_Currency_Validator_Js;b.setElement(a);var c=b.validate();if(!0!=c)return b.getError()}},{validate:function j(){var a=this._super();if(!0!=a)return a;var b=this.getElement().data(),c=b.decimalSeparator?b.decimalSeparator:CONFIG.currencyDecimalSeparator,d=b.groupSeparator?b.groupSeparator:CONFIG.currencyGroupingSeparator,e=this.getFieldValue().replace(c,''),f=/\s/;(f.test(c)||f.test(d))&&(e=e.replace(/ /g,''));var g;'$'===d&&(d='\\$'),'.'===d&&(d='\\.');var h=new RegExp(d,'g');if(e=e.replace(h,''),isNaN(e))return g=app.vtranslate('JS_CONTAINS_ILLEGAL_CHARACTERS'),this.setError(g),!1;if(0>e)return g=app.vtranslate('JS_ACCEPT_POSITIVE_NUMBER'),this.setError(g),!1;var i='undefined'==typeof b.fieldinfo?null:b.fieldinfo.maximumlength;return !(i&&e>parseFloat(i))||(g=app.vtranslate('JS_ERROR_MAX_VALUE'),this.setError(g),!1)}}),Vtiger_Base_Validator_Js('Vtiger_NumberUserFormat_Validator_Js',{invokeValidation:function d(a){var b=new Vtiger_NumberUserFormat_Validator_Js;b.setElement(a);var c=b.validate();if(!0!=c)return b.getError()}},{validate:function i(){var a=this._super();if(!0!=a)return a;var b=this.getFieldValue(),c=CONFIG.currencyDecimalSeparator,d=CONFIG.currencyGroupingSeparator;b=b.split(d).join('');var e=/\s/;(e.test(c)||e.test(d))&&(b=b.replace(/ /g,''));var f,g=b.replace(c,'.');if(isNaN(g))return f=app.vtranslate('JS_CONTAINS_ILLEGAL_CHARACTERS'),this.setError(f),!1;if(0>g)return f=app.vtranslate('JS_ACCEPT_POSITIVE_NUMBER'),this.setError(f),!1;if(g=parseFloat(g),g!=g.toString())return f=app.vtranslate('JS_CONTAINS_ILLEGAL_CHARACTERS'),this.setError(f),!1;var h=null;return h=this.getElement().data().fieldinfo?this.getElement().data().fieldinfo.maximumlength:this.getElement().data('maximumlength'),!h||!(h&&g>parseFloat(h))||(f=app.vtranslate('JS_ERROR_MAX_VALUE'),this.setError(f),!1)}}),Vtiger_Base_Validator_Js('Vtiger_ReferenceField_Validator_Js',{},{validate:function g(){var a=this.getElement(),b=a.closest('.fieldValue'),c=b.find('.sourceField'),d=c.val(),e=c.data().fieldinfo;if(''==d){var f=app.vtranslate('JS_REQUIRED_FIELD');return this.setError(f),!1}return !0}}),Vtiger_Base_Validator_Js('Vtiger_Date_Validator_Js',{invokeValidation:function d(a){var b=new Vtiger_Date_Validator_Js;b.setElement(a);var c=b.validate();return !0==c?c:b.getError()}},{validate:function f(){var a=this.getElement(),b=a.data(),c=b.dateFormat,d=this.getFieldValue();try{Vtiger_Helper_Js.getDateInstance(d,c);}catch(a){var e=app.vtranslate('JS_PLEASE_ENTER_VALID_DATE');return this.setError(e),!1}return !0}}),Vtiger_Base_Validator_Js('Vtiger_Time_Validator_Js',{invokeValidation:function d(a){var b=new Vtiger_Time_Validator_Js;b.setElement(a);var c=b.validate();return !0==c?c:b.getError()}},{validate:function e(){var a=this.getFieldValue(),b=a.replace(a.match(/[AP]M/i),''),c=b.split(':');if(isNaN(c[0])&&isNaN(c[1])){var d=app.vtranslate('JS_PLEASE_ENTER_VALID_TIME');return this.setError(d),!1}return !0}}),Vtiger_greaterThanDependentField_Validator_Js('Calendar_greaterThanDependentField_Validator_Js',{},{getDateTimeInstance:function g(a){var b=a.closest('form');if('date_start'==a.attr('name'))var c=b.find('[name="time_start"]'),d=c.val();else if('due_date'==a.attr('name')){var c=b.find('[name="time_end"]');if(0<c.length)var d=c.val();else d='11:59 PM';}var e=a.val()+' '+d,f=a.data('dateFormat');return Vtiger_Helper_Js.getDateInstance(e,f)}}),Vtiger_Base_Validator_Js('Calendar_greaterThanToday_Validator_Js',{},{validate:function i(){var a=this.getElement(),b=a.data(),c=b.dateFormat,d=b.fieldinfo,e=this.getFieldValue();try{var f=Vtiger_Helper_Js.getDateInstance(e,c);}catch(a){return this.setError(a),!1}f.setHours(0,0,0,0);var g=new Date;g.setHours(0,0,0,0);if(0<=g-f){var h=d.label+' '+app.vtranslate('JS_SHOULD_BE_GREATER_THAN_CURRENT_DATE');return this.setError(h),!1}return !0}}),Vtiger_Base_Validator_Js('Calendar_RepeatMonthDate_Validator_Js',{invokeValidation:function d(a){var b=new Calendar_RepeatMonthDate_Validator_Js;b.setElement(a);var c=b.validate();if(!0!=c)return b.getError()}},{validate:function c(){var a=this.getFieldValue();if(parseInt(parseFloat(a))!=a||''==a||'31'<parseInt(a)||0>=parseInt(a)){var b=app.vtranslate('JS_NUMBER_SHOULD_BE_LESS_THAN_32');return this.setError(b),!1}return !0}}),Vtiger_WholeNumber_Validator_Js('Vtiger_WholeNumberGreaterThanZero_Validator_Js',{invokeValidation:function d(a){var b=new Vtiger_WholeNumberGreaterThanZero_Validator_Js;b.setElement(a);var c=b.validate();if(!0!=c)return b.getError()}},{validate:function d(){var a=this._super();if(!0!=a)return a;var b=this.getFieldValue();if(0==b){var c=app.vtranslate('JS_VALUE_SHOULD_BE_GREATER_THAN_ZERO');return this.setError(c),!1}return !0}}),Vtiger_Base_Validator_Js('Vtiger_AlphaNumeric_Validator_Js',{invokeValidation:function d(a){var b=new Vtiger_AlphaNumeric_Validator_Js;b.setElement(a);var c=b.validate();if(!0!=c)return b.getError()}},{validate:function e(){var a=this.getElement(),b=a.val(),c=/^[a-z0-9 _-]*$/i;if(!b.match(c)){var d=app.vtranslate('JS_CONTAINS_ILLEGAL_CHARACTERS');return this.setError(d),!1}return !0}}),Vtiger_Base_Validator_Js('Vtiger_AlphaNumericWithSlashesCurlyBraces_Validator_Js',{invokeValidation:function d(a){var b=new Vtiger_AlphaNumericWithSlashesCurlyBraces_Validator_Js;b.setElement(a);var c=b.validate();if(!0!=c)return b.getError()}},{validate:function e(){var a=this.getElement(),b=a.val(),c=/^[\/a-z\\0-9{} _-]*$/i;if(!b.match(c)){var d=app.vtranslate('JS_CONTAINS_ILLEGAL_CHARACTERS');return this.setError(d),!1}return !0}}),Vtiger_Base_Validator_Js('Vtiger_InputMask_Validator_Js',{invokeValidation:function d(a){var b=new Vtiger_InputMask_Validator_Js;b.setElement(a);var c=b.validate();if(!0!=c)return b.getError()}},{validate:function g(){var a=this._super();if(!0!=a)return a;var b=this.getElement();if(b.attr('data-inputmask')){var c=b.inputmask('unmaskedvalue'),d=b.inputmask('getmetadata'),e=(d.match(/9/g)||[]).length+(d.match(/A/g)||[]).length+(d.match(/'*'/g)||[]).length;if(0!=c.length&&e>c.length){var f=app.vtranslate('JS_INVALID_LENGTH');return this.setError(f),window.inputMaskValidation=!0,!1}window.inputMaskValidation=!1;}if(window.inputMaskValidation){var f=app.vtranslate('JS_INVALID_LENGTH');return this.setError(f),!1}return !0}}),Vtiger_Base_Validator_Js('Vtiger_Textparser_Validator_Js',{invokeValidation:function d(a){var b=new Vtiger_TextParser_Validator_Js;b.setElement(a);var c=b.validate();if(!0!=c)return b.getError()}},{validate:function f(){var a=this._super();if(!0!=a)return a;var b=this.getElement(),c=b.val(),d=/^\$\((\w+) : ([,"\+\-\[\]\&\w\s\|]+)\)\$$/;if(!d.test(c)){var e=app.vtranslate('JS_INVALID_LENGTH');return this.setError(e),!1}return !0}}),Vtiger_Base_Validator_Js('Vtiger_YetiForceCompanyName_Validator_Js',{invokeValidation:function d(a){var b=new Vtiger_YetiForceCompanyName_Validator_Js;b.setElement(a);var c=b.validate();if(!0!=c)return b.getError()}},{validate:function d(){var a=this._super();if(!0!=a)return a;var b=this.getElement(),c=b.val();return !(0<=c.toLowerCase().indexOf('yetiforce'))||(this.setError(app.vtranslate('JS_YETIFORCE_COMPANY_NAME_NOT_ALLOWED')),!1)}});
//# sourceMappingURL=FieldValidator.min.js.map
