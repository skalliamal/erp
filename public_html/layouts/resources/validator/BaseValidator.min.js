'use strict';

jQuery.Class("Vtiger_Base_Validator_Js",{moduleName:!1,invokeValidation:function l(a,b,c,d){if("undefined"==typeof d||!0!=d.isError)for(var e=Vtiger_Base_Validator_Js.getValidator(a),f=0;f<e.length;f++){var g=e[f],h=g.name,j=new h;if(j.setElement(a),g.hasOwnProperty("params"))var k=j.validate(g.params);else var k=j.validate();if(!k)return j.getError()}},getValidator:function n(a){var b=[],c=a.data(),d=c.fieldinfo;"string"==typeof d&&(d=JSON.parse(d));var e=a.closest("form").find("[name=\"module\"]");!1==Vtiger_Base_Validator_Js.moduleName&&0<e.length&&(Vtiger_Base_Validator_Js.moduleName=e.val());var f=Vtiger_Field_Js.getInstance(d),g=Vtiger_Base_Validator_Js.getValidatorsFromFieldType(f);for(var h in g)if(g.hasOwnProperty(h)){var i=g[h];if(""!=i){b.push({name:i});}}if(c.hasOwnProperty("validator")){var j=c.validator;for(var h in j)if(j.hasOwnProperty(h)){var k=j[h],l=jQuery.extend({},k),m=Vtiger_Base_Validator_Js.getValidatorClassName(k.name);""!=m&&(l.name=m,!jQuery.isEmptyObject(l)&&b.push(l));}}return b},getValidatorsFromFieldType:function d(a){var b=a.getType(),c=[];return b=b.charAt(0).toUpperCase()+b.slice(1).toLowerCase(),c.push(Vtiger_Base_Validator_Js.getValidatorClassName(b)),c},getValidatorClassName:function e(a){var b="",c=Vtiger_Base_Validator_Js.getClassName(a),d=Vtiger_Base_Validator_Js.getFallBackClassName(a);return "undefined"==typeof window[c]?"undefined"!=typeof window[d]&&(b=window[d]):b=window[c],b},getClassName:function c(a){if(!1!=Vtiger_Base_Validator_Js.moduleName)var b=Vtiger_Base_Validator_Js.moduleName;else var b=app.getModuleName();return "Events"==b&&(b="Calendar"),b+"_"+a+"_Validator_Js"},getFallBackClassName:function b(a){return "Vtiger_"+a+"_Validator_Js"}},{field:"",error:"",validate:function a(){return !0},getError:function a(){return null==this.error?"Validation Failed":this.error},setError:function b(a){return this.error=a,this},setElement:function b(a){return this.field=a,this},getElement:function a(){return this.field},getFieldValue:function b(){var a=this.getElement();return jQuery.trim(a.val())}});
//# sourceMappingURL=BaseValidator.min.js.map
