'use strict';

var _typeof = typeof Symbol === "function" && typeof Symbol.iterator === "symbol" ? function (obj) {
  return typeof obj;
} : function (obj) {
  return obj && typeof Symbol === "function" && obj.constructor === Symbol && obj !== Symbol.prototype ? "symbol" : typeof obj;
};

AppConnector={requestPjax:function b(a){return AppConnector._request(a,!0)},request:function c(a,b){return AppConnector._request(a,!1,b)},_request:function o(a,b,c){var d=jQuery.Deferred();"undefined"==typeof c&&(c=!1),"undefined"==typeof b&&(b=!1),"undefined"==typeof a&&(a={});var e="";if("undefined"==typeof a.data||c){if("string"==typeof a){var f=e=a,g=f.indexOf("?");if(-1!==g){var h=f.substr(0,g+1);f=f.replace(h,"");}}else f=jQuery.extend({},a);a={},a.data=f;}if(("undefined"==typeof a.type||c)&&(a.type="POST"),("undefined"==typeof a.jsonp||c)&&(a.jsonp=!1),"undefined"==typeof a.dataType||c){var i=a.data;a.dataType="json",i.hasOwnProperty("view")?a.dataType="html":"string"==typeof i&&-1!==i.indexOf("&view=")&&(a.dataType="html"),"undefined"!=typeof a.url&&-1!==a.url.indexOf("&view=")&&(a.dataType="html");}if("undefined"!=typeof a.url&&-1!==a.url.indexOf("?")){e=a.url;var j=a.url.split("?"),k=j[1];a.url=j[0];for(var l=k.split("&"),g=0;g<l.length;g++){var m=l[g],n=m.split("=");a.data[n[0]]=n[1];}}if(("undefined"==typeof a.url||0>=a.url.length)&&(a.url="index.php"),a.success=function(a){null!==a&&"object"===("undefined"==typeof a?"undefined":_typeof(a))&&a.error&&(app.errorLog(a.error),a.error.message&&Vtiger_Helper_Js.showMessage({text:a.error.message,type:"error"})),d.resolve(a);},a.error=function(b,c,e){var f=b.getResponseHeader("yf-action");if("logout"===f&&(window.location.href="index.php"),CONFIG.debug)if(406===b.status){console.warn("%cYetiForce debug mode!!!","color: red; font-family: sans-serif; font-size: 1.5em; font-weight: bolder; text-shadow: #000 1px 1px;"),console.error("Error: "+e,"\n------------------------------------------------------------------------------------------------------------------------------------------------------\nTrace:\n------------------------------------------------------------------------------------------------------------------------------------------------------\n"+b.responseJSON.error.trace,"\n------------------------------------------------------------------------------------------------------------------------------------------------------\nParams:\n------------------------------------------------------------------------------------------------------------------------------------------------------\n"+JSON.stringify(a,null,"\t"));}else app.errorLog(b,c,e);d.reject(c,e);},jQuery.ajax(a),b&&(""===e?e="index.php?"+$.param(a.data):-1===e.indexOf("index.php?")&&(e="index.php?"+e),history.pushState&&""!==e)){var p=window.location.href;history.state||history.replaceState(p,"title 1",p),history.pushState(e,"title 2",e);}return d.promise()},requestForm:function e(a,b){var c="<form action="+a+" method=\"POST\">";"undefined"!=typeof csrfMagicName&&(c+="<input type=\"hidden\" name=\""+csrfMagicName+"\"  value='"+csrfMagicToken+"'>"),"undefined"!=typeof b&&jQuery.each(b,function(a,b){c+="<input type=\"hidden\" name=\""+a+"\"  value='"+b+"'>";}),c+="</form>";var d=new jQuery(c);d.appendTo("body").submit();}};
//# sourceMappingURL=Connector.min.js.map
