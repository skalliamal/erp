{"version":3,"file":"SharingAccess.min.js","sources":["SharingAccess.js"],"sourcesContent":["/* {[The file is published on the basis of YetiForce Public License 3.0 that can be found in the following directory: licenses/LicenseEN.txt or yetiforce.com]} */\n'use strict';\n\njQuery.Class('Settings_Sharing_Access_Js', {}, {\n\n\tcontentTable: false,\n\tcontentsContainer: false,\n\n\tinit: function () {\n\t\tthis.setContentTable('.sharingAccessDetails').setContentContainer('#sharingAccessContainer');\n\n\t},\n\n\tsetContentTable: function (element) {\n\t\tif (element instanceof jQuery) {\n\t\t\tthis.contentTable = element;\n\t\t\treturn this;\n\t\t}\n\t\tthis.contentTable = jQuery(element);\n\t\treturn this;\n\t},\n\n\tsetContentContainer: function (element) {\n\t\tif (element instanceof jQuery) {\n\t\t\tthis.contentsContainer = element;\n\t\t\treturn this;\n\t\t}\n\t\tthis.contentsContainer = jQuery(element);\n\t\treturn this;\n\t},\n\n\tgetContentTable: function () {\n\t\treturn this.contentTable;\n\t},\n\n\tgetContentContainer: function () {\n\t\treturn this.contentsContainer;\n\t},\n\n\tgetCustomRuleContainerClassName: function (parentModuleName) {\n\t\treturn 'js-' + parentModuleName + '-custom-rule-list';\n\t},\n\n\tshowCustomRulesNextToElement: function (parentElement, rulesListElement) {\n\t\tvar moduleName = parentElement.data('moduleName')\n\t\tvar trElementForRuleList = jQuery('<tr class=\"' + this.getCustomRuleContainerClassName(moduleName) + '\"><td class=\"js-custom-rule-container\" data-js=\"container\" colspan=\"6\"></td></tr>');\n\t\tjQuery('td', trElementForRuleList).append(rulesListElement);\n\t\tjQuery('.ruleListContainer', trElementForRuleList).css('display', 'none');\n\t\tparentElement.after(trElementForRuleList).addClass('collapseRow');\n\t\tjQuery('.ruleListContainer', trElementForRuleList).slideDown('slow');\n\t},\n\n\t/*\n\t * function to get custom rules data based on the module\n\t * @params: forModule.\n\t */\n\tgetCustomRules: function (forModule) {\n\t\tvar aDeferred = jQuery.Deferred();\n\t\tvar params = {}\n\t\tparams['for_module'] = forModule;\n\t\tparams['module'] = app.getModuleName();\n\t\tparams['parent'] = app.getParentModuleName();\n\t\tparams['view'] = 'IndexAjax';\n\t\tparams['mode'] = 'showRules';\n\t\tAppConnector.request(params).done(function (data) {\n\t\t\taDeferred.resolve(data);\n\t\t}).fail(function (error) {\n\t\t\taDeferred.reject(error);\n\t\t});\n\t\treturn aDeferred.promise();\n\t},\n\n\tsave: function (data) {\n\t\tvar aDeferred = jQuery.Deferred();\n\n\t\tvar progressIndicatorElement = jQuery.progressIndicator({\n\t\t\tposition: 'html',\n\t\t\tblockInfo: {\n\t\t\t\tenabled: true\n\t\t\t}\n\t\t});\n\t\tif (typeof data === \"undefined\") {\n\t\t\tdata = {};\n\t\t}\n\t\tAppConnector.request(data).done(function (data) {\n\t\t\tprogressIndicatorElement.progressIndicator({'mode': 'hide'});\n\t\t\taDeferred.resolve(data);\n\t\t}).fail(function (error, errorThrown) {\n\t\t\tprogressIndicatorElement.progressIndicator({'mode': 'hide'});\n\t\t\taDeferred.reject(error);\n\t\t});\n\t\treturn aDeferred.promise();\n\t},\n\n\t/*\n\t * function to Save the Custom Rule\n\t */\n\tsaveCustomRule: function (form, e) {\n\t\tvar thisInstance = this;\n\t\tvar data = form.serializeFormData();\n\t\tif (typeof data === \"undefined\") {\n\t\t\tdata = {};\n\t\t}\n\t\tvar progressIndicatorElement = jQuery.progressIndicator({\n\t\t\tposition: 'html',\n\t\t\tblockInfo: {\n\t\t\t\tenabled: true\n\t\t\t}\n\t\t});\n\t\tdata.module = app.getModuleName();\n\t\tdata.parent = app.getParentModuleName();\n\t\tdata.action = 'IndexAjax';\n\t\tdata.mode = 'saveRule';\n\t\tAppConnector.request(data).done(function (data) {\n\t\t\tprogressIndicatorElement.progressIndicator({mode: 'hide'});\n\t\t\tapp.hideModalWindow();\n\t\t\tthisInstance.displaySaveCustomRuleResponse(data);\n\t\t\tvar moduleName = jQuery('[name=\"for_module\"]', form).val();\n\t\t\tthisInstance.loadCustomRulesList(moduleName);\n\t\t});\n\t},\n\n\t/*\n\t * function to load the CustomRules List for the module after save the custom rule\n\t */\n\tloadCustomRulesList: function (moduleName) {\n\t\tvar thisInstance = this;\n\t\tvar contentTable = this.getContentTable();\n\n\t\tthisInstance.getCustomRules(moduleName).done(function (data) {\n\t\t\tvar customRuleListContainer = jQuery('.' + thisInstance.getCustomRuleContainerClassName(moduleName), contentTable);\n\t\t\tcustomRuleListContainer.find('td.js-custom-rule-container').html(data);\n\t\t});\n\t},\n\n\t/*\n\t * Function to display the SaveCustomRule response message\n\t */\n\tdisplaySaveCustomRuleResponse: function (data) {\n\t\tvar thisInstance = this;\n\t\tvar success = data['success'];\n\t\tvar params = {};\n\t\tif (success) {\n\t\t\tparams = {\n\t\t\t\ttext: app.vtranslate('JS_CUSTOM_RULE_SAVED_SUCCESSFULLY'),\n\t\t\t\ttype: 'success'\n\t\t\t};\n\t\t} else {\n\t\t\tparams = {\n\t\t\t\ttext: app.vtranslate('JS_CUSTOM_RULE_SAVING_FAILED'),\n\t\t\t\ttype: 'error'\n\t\t\t};\n\t\t}\n\t\tthisInstance.showNotify(params);\n\t},\n\n\t//This will show the notification message of SaveCustomRule using pnotify\n\tshowNotify: function (customParams) {\n\t\tvar params = {\n\t\t\ttext: customParams.text,\n\t\t\ttype: customParams.type,\n\t\t\tdelay: '3000'\n\t\t};\n\t\tVtiger_Helper_Js.showPnotify(params);\n\t},\n\n\teditCustomRule: function (url) {\n\t\tvar thisInstance = this;\n\t\tvar progressIndicatorElement = jQuery.progressIndicator({\n\t\t\tposition: 'html',\n\t\t\tblockInfo: {\n\t\t\t\tenabled: true\n\t\t\t}\n\t\t});\n\t\tapp.showModalWindow(null, url, function (modalContainer) {\n\t\t\tprogressIndicatorElement.progressIndicator({mode: 'hide'});\n\t\t\tvar form = modalContainer.find('.js-edit-rule-form');\n\t\t\tform.on('submit', function (e) {\n\t\t\t\t//To stop the submit of form\n\t\t\t\te.preventDefault();\n\t\t\t\tvar formElement = $(e.currentTarget);\n\t\t\t\tthisInstance.saveCustomRule(formElement, e);\n\t\t\t});\n\t\t});\n\t},\n\n\t/*\n\t * function to delete Custom Rule from the list\n\t * @params: deleteElement.\n\t */\n\tdeleteCustomRule: function (deleteElement) {\n\t\tvar deleteUrl = deleteElement.data('url');\n\t\tvar currentRow = deleteElement.closest('.js-custom-rule-entries');\n\t\tvar message = app.vtranslate('LBL_DELETE_CONFIRMATION');\n\t\tVtiger_Helper_Js.showConfirmationBox({'message': message}).done(function (data) {\n\t\t\tAppConnector.request(deleteUrl).done(function (data) {\n\t\t\t\tif (data.success == true) {\n\t\t\t\t\tcurrentRow.fadeOut('slow');\n\t\t\t\t\tvar customRuleTable = currentRow.closest('.js-custom-rule-table');\n\t\t\t\t\t//after delete the custom rule, update the sequence number of existing rules\n\t\t\t\t\tvar nextRows = currentRow.nextAll('js-custom-rule-entries');\n\t\t\t\t\tif (nextRows.length > 0) {\n\t\t\t\t\t\tjQuery.each(nextRows, function (i, element) {\n\t\t\t\t\t\t\tvar currentSequenceElement = jQuery(element).find('.js-sequence-number');\n\t\t\t\t\t\t\tvar updatedNumber = parseInt(currentSequenceElement.text()) - 1;\n\t\t\t\t\t\t\tcurrentSequenceElement.text(updatedNumber);\n\t\t\t\t\t\t});\n\t\t\t\t\t}\n\t\t\t\t\tcurrentRow.remove();\n\t\t\t\t\tvar customRuleEntries = customRuleTable.find('.js-custom-rule-entries');\n\t\t\t\t\t//if there are no custom rule entries, we have to hide headers also and show the empty message div\n\t\t\t\t\tif (customRuleEntries.length < 1) {\n\t\t\t\t\t\tcustomRuleTable.find('.js-custom-rule-headers').fadeOut('slow').remove();\n\t\t\t\t\t\tcustomRuleTable.parent().find('.js-record-details').removeClass('d-none');\n\t\t\t\t\t\tcustomRuleTable.addClass('d-none');\n\t\t\t\t\t}\n\t\t\t\t} else {\n\t\t\t\t\tVtiger_Helper_Js.showPnotify(data.error.message);\n\t\t\t\t}\n\t\t\t});\n\t\t});\n\t},\n\n\t/*\n\t * function to register click event for radio buttons\n\t */\n\tregisterSharingAccessEdit: function () {\n\t\tvar contentContainer = this.getContentContainer();\n\t\tcontentContainer.one('click', 'input:radio', function (e) {\n\t\t\tcontentContainer.find('button:submit').removeClass('d-none');\n\t\t});\n\t},\n\n\t/*\n\t * Function to register change event for dependent modules privileges\n\t */\n\tregisterDependentModulesPrivilegesChange: function () {\n\t\tvar thisInstance = this;\n\t\tvar container = thisInstance.getContentContainer();\n\t\tvar contentTable = this.getContentTable();\n\t\tvar modulesList = JSON.parse(container.find('.dependentModules').val());\n\n\t\tjQuery.each(modulesList, function (moduleName, dependentList) {\n\t\t\tvar dependentPrivilege = contentTable.find('[data-module-name=\"' + moduleName + '\"]').find('[data-action-state=\"Private\"]');\n\t\t\tdependentPrivilege.on('change', function (e) {\n\t\t\t\tvar currentTarget = jQuery(e.currentTarget);\n\t\t\t\tif (currentTarget.is(':checked')) {\n\t\t\t\t\tvar message = app.vtranslate('JS_DEPENDENT_PRIVILEGES_SHOULD_CHANGE');\n\t\t\t\t\tbootbox.alert(message);\n\t\t\t\t\tjQuery.each(dependentList, function (index, module) {\n\t\t\t\t\t\tcontentTable.find('[data-module-name=\"' + module + '\"]').find('[data-action-state=\"Private\"]').attr('checked', 'checked');\n\t\t\t\t\t})\n\t\t\t\t}\n\t\t\t})\n\t\t})\n\t},\n\n\tregisterEvents: function () {\n\t\tvar thisInstance = this;\n\t\tvar contentTable = this.getContentTable();\n\t\tvar contentContainer = this.getContentContainer();\n\t\tthisInstance.registerSharingAccessEdit();\n\t\tthisInstance.registerDependentModulesPrivilegesChange();\n\n\t\tcontentTable.on('click', 'td.triggerCustomSharingAccess', function (e) {\n\t\t\tvar element = jQuery(e.currentTarget);\n\t\t\tvar trElement = element.closest('tr');\n\t\t\tvar moduleName = trElement.data('moduleName');\n\t\t\tvar customRuleListContainer = jQuery('.' + thisInstance.getCustomRuleContainerClassName(moduleName), contentTable);\n\t\t\tif (customRuleListContainer.length > 0) {\n\t\t\t\tif (app.isHidden(customRuleListContainer)) {\n\t\t\t\t\tcustomRuleListContainer.show();\n\t\t\t\t\tjQuery('.ruleListContainer', customRuleListContainer).slideDown('slow');\n\t\t\t\t\ttrElement.addClass('collapseRow');\n\t\t\t\t\telement.find('button.arrowDown').addClass('d-none');\n\t\t\t\t\telement.find('button.arrowUp').removeClass('d-none').show();\n\t\t\t\t} else {\n\t\t\t\t\tjQuery('.ruleListContainer', customRuleListContainer).slideUp('slow', function (e) {\n\t\t\t\t\t\tcustomRuleListContainer.css('display', 'none');\n\t\t\t\t\t});\n\t\t\t\t\telement.find('button.arrowUp').addClass('d-none');\n\t\t\t\t\telement.find('button.arrowDown').removeClass('d-none').show();\n\t\t\t\t\ttrElement.removeClass('collapseRow');\n\t\t\t\t}\n\t\t\t\treturn;\n\t\t\t}\n\n\t\t\tvar progressIndicatorElement = jQuery.progressIndicator({\n\t\t\t\tposition: 'html',\n\t\t\t\tblockInfo: {\n\t\t\t\t\tenabled: true\n\t\t\t\t}\n\t\t\t});\n\n\t\t\tthisInstance.getCustomRules(moduleName).done(function (data) {\n\t\t\t\tprogressIndicatorElement.progressIndicator({'mode': 'hide'});\n\t\t\t\tthisInstance.showCustomRulesNextToElement(trElement, data);\n\t\t\t\telement.find('button.arrowDown').addClass('d-none');\n\t\t\t\telement.find('button.arrowUp').removeClass('d-none').show();\n\t\t\t});\n\t\t});\n\t\tcontentTable.on('click', '.js-add-custom-rule', function (e) {\n\t\t\tvar button = jQuery(e.currentTarget);\n\t\t\tthisInstance.editCustomRule(button.data('url'));\n\t\t});\n\t\tcontentTable.on('click', '.js-edit', function (e) {\n\t\t\tvar editElement = jQuery(e.currentTarget);\n\t\t\tvar editUrl = editElement.data('url');\n\t\t\tthisInstance.editCustomRule(editUrl);\n\t\t});\n\t\tcontentTable.on('click', '.js-delete', function (e) {\n\t\t\tvar deleteElement = jQuery(e.currentTarget);\n\t\t\tthisInstance.deleteCustomRule(deleteElement);\n\t\t});\n\t\tcontentContainer.on('submit', '#js-edit-sharing-access', function (e) {\n\t\t\te.preventDefault();\n\t\t\tvar form = jQuery(e.currentTarget);\n\t\t\tvar data = form.serializeFormData();\n\t\t\tthisInstance.save(data).done(function (data) {\n\t\t\t\tcontentContainer.find('button:submit').addClass('d-none');\n\t\t\t\tthisInstance.registerSharingAccessEdit();\n\t\t\t\tvar params = {\n\t\t\t\t\ttext: app.vtranslate('JS_NEW_SHARING_RULES_APPLIED_SUCCESSFULLY'),\n\t\t\t\t\ttype: 'success'\n\t\t\t\t};\n\t\t\t\tthisInstance.showNotify(params);\n\t\t\t});\n\t\t});\n\t}\n});\n\njQuery(document).ready(function () {\n\tvar settingSharingAcessInstance = new Settings_Sharing_Access_Js();\n\tsettingSharingAcessInstance.registerEvents();\n});\n"],"names":["jQuery","Class","contentTable","contentsContainer","init","setContentTable","setContentContainer","element","getContentTable","getContentContainer","getCustomRuleContainerClassName","parentModuleName","showCustomRulesNextToElement","parentElement","rulesListElement","data","trElementForRuleList","moduleName","append","css","after","addClass","slideDown","getCustomRules","forModule","Deferred","params","app","getModuleName","getParentModuleName","AppConnector","request","done","aDeferred","resolve","fail","error","reject","promise","save","progressIndicatorElement","progressIndicator","position","blockInfo","enabled","saveCustomRule","form","serializeFormData","module","parent","action","mode","hideModalWindow","thisInstance","displaySaveCustomRuleResponse","val","loadCustomRulesList","customRuleListContainer","find","html","success","text","vtranslate","type","showNotify","customParams","delay","Vtiger_Helper_Js","showPnotify","editCustomRule","url","showModalWindow","modalContainer","on","e","preventDefault","$","currentTarget","formElement","deleteCustomRule","deleteElement","currentRow","closest","message","showConfirmationBox","deleteUrl","fadeOut","nextRows","nextAll","length","each","i","updatedNumber","parseInt","currentSequenceElement","remove","customRuleTable","removeClass","registerSharingAccessEdit","contentContainer","one","registerDependentModulesPrivilegesChange","container","modulesList","JSON","parse","dependentList","dependentPrivilege","is","bootbox","alert","index","attr","registerEvents","trElement","isHidden","show","slideUp","button","editUrl","editElement","document","ready","settingSharingAcessInstance"],"mappings":"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"}