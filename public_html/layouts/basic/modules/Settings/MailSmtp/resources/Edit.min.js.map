{"version":3,"file":"Edit.min.js","sources":["Edit.js"],"sourcesContent":["/* {[The file is published on the basis of YetiForce Public License 3.0 that can be found in the following directory: licenses/LicenseEN.txt or yetiforce.com]} */\n'use strict';\n\nSettings_Vtiger_Edit_Js('Settings_MailSmtp_Edit_Js', {}, {\n\tregisterSubmitForm: function () {\n\t\tvar form = this.getForm();\n\t\tform.on('submit', function (e) {\n\t\t\tif (form.validationEngine('validate') === true) {\n\t\t\t\tvar paramsForm = form.serializeFormData();\n\t\t\t\tvar progressIndicatorElement = jQuery.progressIndicator({\n\t\t\t\t\tblockInfo: {'enabled': true}\n\t\t\t\t});\n\t\t\t\tapp.saveAjax('updateSmtp', paramsForm).done(function (respons) {\n\t\t\t\t\tprogressIndicatorElement.progressIndicator({'mode': 'hide'});\n\t\t\t\t\tif (true == respons.result.success) {\n\t\t\t\t\t\twindow.location.href = respons.result.url;\n\t\t\t\t\t} else {\n\t\t\t\t\t\tform.find('.alert').removeClass('d-none');\n\t\t\t\t\t\tform.find('.alert p').text(respons.result.message);\n\t\t\t\t\t}\n\t\t\t\t});\n\t\t\t\treturn false;\n\t\t\t} else {\n\t\t\t\tapp.formAlignmentAfterValidation(form);\n\t\t\t}\n\t\t})\n\t},\n\t/**\n\t * Register events to preview password\n\t */\n\tregisterPreviewPassword: function () {\n\t\tconst container = this.getForm();\n\t\tconst button = container.find('.previewPassword');\n\t\tbutton.on('mousedown', function (e) {\n\t\t\tcontainer.find('[name=\"' + $(e.currentTarget).data('targetName') + '\"]').attr('type', 'text');\n\t\t});\n\t\tbutton.on('mouseup', function (e) {\n\t\t\tcontainer.find('[name=\"' + $(e.currentTarget).data('targetName') + '\"]').attr('type', 'password');\n\t\t});\n\t\tbutton.on('mouseout', function (e) {\n\t\t\tcontainer.find('[name=\"' + $(e.currentTarget).data('targetName') + '\"]').attr('type', 'password');\n\t\t});\n\t},\n\tregisterEvents: function () {\n\t\tvar form = this.getForm()\n\t\tif (form.length) {\n\t\t\tform.validationEngine(app.validationEngineOptions);\n\t\t\tform.find(\"[data-inputmask]\").inputmask();\n\t\t}\n\t\tthis.registerSubmitForm();\n\t\tthis.registerPreviewPassword();\n\t\tapp.showPopoverElementView(form.find('.js-popover-tooltip'));\n\n\t\tform.find(\".saveSendMail\").on('click', function () {\n\t\t\tif (form.find(\".saveMailContent\").hasClass(\"d-none\")) {\n\t\t\t\tform.find(\".saveMailContent\").removeClass(\"d-none\");\n\t\t\t} else {\n\t\t\t\tform.find(\".saveMailContent\").addClass(\"d-none\");\n\t\t\t}\n\t\t});\n\t}\n})\n"],"names":["Settings_Vtiger_Edit_Js","registerSubmitForm","getForm","form","on","validationEngine","serializeFormData","progressIndicatorElement","jQuery","progressIndicator","blockInfo","saveAjax","paramsForm","done","respons","result","success","window","location","href","url","find","removeClass","text","message","app","formAlignmentAfterValidation","registerPreviewPassword","button","container","e","$","currentTarget","data","attr","registerEvents","length","validationEngineOptions","inputmask","showPopoverElementView","hasClass","addClass"],"mappings":";;AAGAA,wBAAwB,2BAAxB,CAAqD,EAArD,CAAyD,CACxDC,mBAAoB,YAAY,CAC/B,MAAW,KAAKC,OAAL,EAAX,CACAC,EAAKC,EAAL,CAAQ,QAAR,CAAkB,UAAa,CAC9B,GAAI,OAAKC,gBAAL,CAAsB,UAAtB,CAAJ,CAAgD,OAC9BF,EAAKG,iBAAL,EAD8B,CAE3CC,EAA2BC,OAAOC,iBAAP,CAAyB,CACvDC,UAAW,CAAC,UAAD,CAD4C,CAAzB,CAFgB,CAc/C,WATIC,QAAJ,CAAa,YAAb,CAA2BC,CAA3B,EAAuCC,IAAvC,CAA4C,SAAUC,CAAV,CAAmB,CAC9DP,EAAyBE,iBAAzB,CAA2C,CAAC,KAAQ,MAAT,CAA3C,CAD8D,CAE1D,IAAQK,EAAQC,MAAR,CAAeC,OAFmC,CAG7DC,OAAOC,QAAP,CAAgBC,IAAhB,CAAuBL,EAAQC,MAAR,CAAeK,GAHuB,EAK7DjB,EAAKkB,IAAL,CAAU,QAAV,EAAoBC,WAApB,CAAgC,QAAhC,CAL6D,CAM7DnB,EAAKkB,IAAL,CAAU,UAAV,EAAsBE,IAAtB,CAA2BT,EAAQC,MAAR,CAAeS,OAA1C,CAN6D,EAQ9D,CARD,CASA,GACA,CACAC,IAAIC,4BAAJ,CAAiCvB,CAAjC,EAED,CAnBD,EAoBA,CAvBuD,CA2BxDwB,wBAAyB,YAAY,OAClB,KAAKzB,OAAL,EADkB,CAE9B0B,EAASC,EAAUR,IAAV,CAAe,kBAAf,CAFqB,CAGpCO,EAAOxB,EAAP,CAAU,WAAV,CAAuB,SAAU0B,CAAV,CAAa,CACnCD,EAAUR,IAAV,CAAe,UAAYU,EAAED,EAAEE,aAAJ,EAAmBC,IAAnB,CAAwB,YAAxB,CAAZ,CAAoD,IAAnE,EAAyEC,IAAzE,CAA8E,MAA9E,CAAsF,MAAtF,EACA,CAFD,CAHoC,CAMpCN,EAAOxB,EAAP,CAAU,SAAV,CAAqB,SAAU0B,CAAV,CAAa,CACjCD,EAAUR,IAAV,CAAe,UAAYU,EAAED,EAAEE,aAAJ,EAAmBC,IAAnB,CAAwB,YAAxB,CAAZ,CAAoD,IAAnE,EAAyEC,IAAzE,CAA8E,MAA9E,CAAsF,UAAtF,EACA,CAFD,CANoC,CASpCN,EAAOxB,EAAP,CAAU,UAAV,CAAsB,SAAU0B,CAAV,CAAa,CAClCD,EAAUR,IAAV,CAAe,UAAYU,EAAED,EAAEE,aAAJ,EAAmBC,IAAnB,CAAwB,YAAxB,CAAZ,CAAoD,IAAnE,EAAyEC,IAAzE,CAA8E,MAA9E,CAAsF,UAAtF,EACA,CAFD,EAGA,CAvCuD,CAwCxDC,eAAgB,YAAY,CAC3B,MAAW,KAAKjC,OAAL,EAAX,CACIC,EAAKiC,MAFkB,GAG1BjC,EAAKE,gBAAL,CAAsBoB,IAAIY,uBAA1B,CAH0B,CAI1BlC,EAAKkB,IAAL,CAAU,kBAAV,EAA8BiB,SAA9B,EAJ0B,EAM3B,KAAKrC,kBAAL,EAN2B,CAO3B,KAAK0B,uBAAL,EAP2B,CAQ3BF,IAAIc,sBAAJ,CAA2BpC,EAAKkB,IAAL,CAAU,qBAAV,CAA3B,CAR2B,CAU3BlB,EAAKkB,IAAL,CAAU,eAAV,EAA2BjB,EAA3B,CAA8B,OAA9B,CAAuC,UAAY,CAC9CD,EAAKkB,IAAL,CAAU,kBAAV,EAA8BmB,QAA9B,CAAuC,QAAvC,CAD8C,CAEjDrC,EAAKkB,IAAL,CAAU,kBAAV,EAA8BC,WAA9B,CAA0C,QAA1C,CAFiD,CAIjDnB,EAAKkB,IAAL,CAAU,kBAAV,EAA8BoB,QAA9B,CAAuC,QAAvC,EAED,CAND,EAOA,CAzDuD,CAAzD"}