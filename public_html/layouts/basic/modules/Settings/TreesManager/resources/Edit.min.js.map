{"version":3,"file":"Edit.min.js","sources":["Edit.js"],"sourcesContent":["/* {[The file is published on the basis of YetiForce Public License 3.0 that can be found in the following directory: licenses/LicenseEN.txt or yetiforce.com]} */\n'use strict';\n\njQuery.Class('Settings_TreesManager_Edit_Js', {}, {\n\tjstreeInstance: false,\n\tjstreeLastID: 0,\n\tregisterEvents: function () {\n\t\tconst thisInstance = this,\n\t\t\teditContainer = $(\"#EditView\"),\n\t\t\tjstreeInstance = thisInstance.createTree();\n\t\teditContainer.validationEngine();\n\t\t$('.addNewElementBtn').on('click', function (e) {\n\t\t\tconst newElement = $('input.addNewElement'),\n\t\t\t\tref = jstreeInstance.jstree(true);\n\t\t\tif (newElement.val() === '') {\n\t\t\t\tconst message = app.vtranslate('JS_FIELD_CAN_NOT_BE_EMPTY');\n\t\t\t\tnewElement.validationEngine('showPrompt', message, 'error', 'bottomLeft', true);\n\t\t\t\treturn false;\n\t\t\t}\n\t\t\tthisInstance.jstreeLastID += 1;\n\t\t\tref.create_node('#', {\n\t\t\t\tid: thisInstance.jstreeLastID,\n\t\t\t\ttext: newElement.val(),\n\t\t\t\ticon: false\n\t\t\t}, 'last');\n\t\t\tnewElement.val('');\n\t\t});\n\t\t$('.saveTree').on('click', function (e) {\n\t\t\tjstreeInstance.jstree('deselect_all', true);\n\t\t\tconst json = jstreeInstance.jstree(\"get_json\");\n\t\t\tlet forSave = [];\n\t\t\t$.each(json, function (index, value) {\n\t\t\t\tif (value.text == value.li_attr.text) {\n\t\t\t\t\tvalue.text = value.li_attr.key;\n\t\t\t\t}\n\t\t\t\tforSave[index] = value;\n\t\t\t});\n\t\t\t$('#treeValues').val(JSON.stringify(forSave));\n\t\t\teditContainer.submit();\n\t\t});\n\t\t$('.addNewElement').on('keydown', function (event) {\n\t\t\tif (event.keyCode == 13) {\n\t\t\t\t$('.addNewElementBtn').trigger(\"click\");\n\t\t\t\tevent.preventDefault();\n\t\t\t\treturn false;\n\t\t\t}\n\t\t});\n\t},\n\tcreateTree: function () {\n\t\tvar thisInstance = this;\n\t\tif (this.jstreeInstance == false) {\n\t\t\tthisInstance.jstreeLastID = parseInt($('#treeLastID').val());\n\t\t\tvar treeValues = $('#treeValues').val();\n\t\t\tvar data = JSON.parse(treeValues);\n\t\t\tthisInstance.jstreeInstance = $(\"#treeContents\");\n\t\t\tthisInstance.jstreeInstance.jstree({\n\t\t\t\tcore: {\n\t\t\t\t\tdata: data,\n\t\t\t\t\tthemes: {\n\t\t\t\t\t\tname: 'proton',\n\t\t\t\t\t\tresponsive: true\n\t\t\t\t\t},\n\t\t\t\t\tcheck_callback: true,\n\t\t\t\t},\n\t\t\t\tcontextmenu: {\n\t\t\t\t\titems: {\n\t\t\t\t\t\tcreate: {\n\t\t\t\t\t\t\tlabel: app.vtranslate('JS_JSTREE_CREATE'),\n\t\t\t\t\t\t\taction: function (data) {\n\t\t\t\t\t\t\t\tvar inst = $.jstree.reference(data.reference);\n\t\t\t\t\t\t\t\tobj = inst.get_node(data.reference);\n\t\t\t\t\t\t\t\tthisInstance.jstreeLastID = thisInstance.jstreeLastID + 1;\n\t\t\t\t\t\t\t\tinst.create_node(obj, {\n\t\t\t\t\t\t\t\t\tid: thisInstance.jstreeLastID,\n\t\t\t\t\t\t\t\t\ttext: app.vtranslate('JS_NEW_ITEM')\n\t\t\t\t\t\t\t\t}, \"last\", function (new_node) {\n\t\t\t\t\t\t\t\t\tsetTimeout(function () {\n\t\t\t\t\t\t\t\t\t\tinst.edit(new_node);\n\t\t\t\t\t\t\t\t\t}, 0);\n\t\t\t\t\t\t\t\t});\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t},\n\t\t\t\t\t\trename: {\n\t\t\t\t\t\t\tlabel: app.vtranslate('JS_JSTREE_RENAME'),\n\t\t\t\t\t\t\taction: function (data) {\n\t\t\t\t\t\t\t\tvar inst = $.jstree.reference(data.reference),\n\t\t\t\t\t\t\t\t\tobj = inst.get_node(data.reference);\n\t\t\t\t\t\t\t\tinst.edit(obj);\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t},\n\t\t\t\t\t\tchangeIcon: {\n\t\t\t\t\t\t\tlabel: app.vtranslate('JS_JSTREE_CHANGE_ICON'),\n\t\t\t\t\t\t\taction: function (data) {\n\t\t\t\t\t\t\t\tvar instanceTree = $.jstree.reference(data.reference);\n\t\t\t\t\t\t\t\tvar node = instanceTree.get_node(data.reference);\n\t\t\t\t\t\t\t\tSettings_Vtiger_Index_Js.selectIcon().done(function (data) {\n\t\t\t\t\t\t\t\t\tif (data['name'] == '-') {\n\t\t\t\t\t\t\t\t\t\tthisInstance.jstreeInstance.jstree(true).set_icon(node.id, false);\n\t\t\t\t\t\t\t\t\t} else {\n\t\t\t\t\t\t\t\t\t\tthisInstance.jstreeInstance.jstree(true).set_icon(node.id, data['name']);\n\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t});\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t},\n\t\t\t\t\t\tremove: {\n\t\t\t\t\t\t\tlabel: app.vtranslate('JS_JSTREE_REMOVE'),\n\t\t\t\t\t\t\taction: function (data) {\n\t\t\t\t\t\t\t\tvar inst = $.jstree.reference(data.reference);\n\t\t\t\t\t\t\t\tvar obj = inst.get_node(data.reference);\n\t\t\t\t\t\t\t\tvar id = inst.get_selected();\n\t\t\t\t\t\t\t\tvar status = true;\n\t\t\t\t\t\t\t\t$.each(id, function (index, value) {\n\t\t\t\t\t\t\t\t\tvar menu = inst.get_node(value);\n\t\t\t\t\t\t\t\t\tif (menu.children.length > 0) {\n\t\t\t\t\t\t\t\t\t\tSettings_Vtiger_Index_Js.showMessage({\n\t\t\t\t\t\t\t\t\t\t\ttext: app.vtranslate('JS_YOU_CANNOT_DELETE_PERENT_ITEM'),\n\t\t\t\t\t\t\t\t\t\t\ttype: 'error'\n\t\t\t\t\t\t\t\t\t\t})\n\t\t\t\t\t\t\t\t\t\tstatus = false;\n\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t});\n\t\t\t\t\t\t\t\tif (status) {\n\t\t\t\t\t\t\t\t\tthisInstance.deleteItemEvent(id, inst).done(function (e) {\n\t\t\t\t\t\t\t\t\t\tif (e.length > 0) {\n\t\t\t\t\t\t\t\t\t\t\t$.each(id, function (index, value) {\n\t\t\t\t\t\t\t\t\t\t\t\tinst.delete_node(value);\n\t\t\t\t\t\t\t\t\t\t\t});\n\t\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t\t})\n\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t},\n\t\t\t\t\t\tccp: {\n\t\t\t\t\t\t\tlabel: app.vtranslate('JS_JSTREE_CCP'),\n\t\t\t\t\t\t\tsubmenu: {\n\t\t\t\t\t\t\t\tcut: {\n\t\t\t\t\t\t\t\t\tlabel: app.vtranslate('JS_JSTREE_CUT'),\n\t\t\t\t\t\t\t\t\t\"action\": function (data) {\n\t\t\t\t\t\t\t\t\t\tvar inst = $.jstree.reference(data.reference),\n\t\t\t\t\t\t\t\t\t\t\tobj = inst.get_node(data.reference);\n\t\t\t\t\t\t\t\t\t\tif (inst.is_selected(obj)) {\n\t\t\t\t\t\t\t\t\t\t\tinst.cut(inst.get_top_selected());\n\t\t\t\t\t\t\t\t\t\t} else {\n\t\t\t\t\t\t\t\t\t\t\tinst.cut(obj);\n\t\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t},\n\t\t\t\t\t\t\t\tpaste: {\n\t\t\t\t\t\t\t\t\tlabel: app.vtranslate('JS_JSTREE_PASTE'),\n\t\t\t\t\t\t\t\t\t\"action\": function (data) {\n\t\t\t\t\t\t\t\t\t\tvar inst = $.jstree.reference(data.reference),\n\t\t\t\t\t\t\t\t\t\t\tobj = inst.get_node(data.reference);\n\t\t\t\t\t\t\t\t\t\tinst.paste(obj);\n\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t},\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\t\t\t},\n\t\t\t\tplugins: [\"contextmenu\", \"dnd\"]\n\t\t\t});\n\t\t}\n\t\treturn this.jstreeInstance;\n\t},\n\tdeleteItemEvent: function (id, inst) {\n\t\tvar thisInstance = this;\n\t\tvar aDeferred = jQuery.Deferred();\n\t\tvar data = inst.get_json();\n\t\t$.each(id, function (index, id) {\n\t\t\tdata = thisInstance.checkChildren(id, data);\n\t\t});\n\t\tif (data.length == 0) {\n\t\t\tSettings_Vtiger_Index_Js.showMessage({\n\t\t\t\ttext: app.vtranslate('JS_YOU_CANNOT_DELETE_ALL_THE_ITEMS'),\n\t\t\t\ttype: 'error'\n\t\t\t})\n\t\t\taDeferred.resolve();\n\t\t\treturn aDeferred.promise();\n\t\t}\n\t\tapp.showModalWindow(null, \"index.php?module=TreesManager&parent=Settings&view=ReplaceTreeItem\", function (wizardContainer) {\n\t\t\tlet form = jQuery('form', wizardContainer),\n\t\t\t\tjstreeInstanceReplace = wizardContainer.find('#treePopupContents');\n\t\t\tjstreeInstanceReplace.jstree({\n\t\t\t\tcore: {\n\t\t\t\t\tdata: data,\n\t\t\t\t\tthemes: {\n\t\t\t\t\t\tname: 'proton',\n\t\t\t\t\t\tresponsive: true\n\t\t\t\t\t},\n\t\t\t\t},\n\t\t\t}).on(\"loaded.jstree\", function (event, data) {\n\t\t\t\t$(this).jstree(\"open_all\");\n\t\t\t});\n\t\t\tform.on('submit', function (e) {\n\t\t\t\tvar selected = jstreeInstanceReplace.jstree(\"get_selected\");\n\t\t\t\tvar replaceIds = $('#replaceIds').val();\n\t\t\t\tif (replaceIds == '') {\n\t\t\t\t\tvar data = [];\n\t\t\t\t} else {\n\t\t\t\t\tvar data = JSON.parse(replaceIds);\n\t\t\t\t}\n\t\t\t\tif (!selected.length) {\n\t\t\t\t\tvar params = {};\n\t\t\t\t\tparams['type'] = 'error';\n\t\t\t\t\tparams['text'] = app.vtranslate('JS_NO_ITEM_SELECTED');\n\t\t\t\t\tSettings_Vtiger_Index_Js.showMessage(params);\n\t\t\t\t\treturn false;\n\t\t\t\t} else if (selected.length > 1) {\n\t\t\t\t\tvar params = {};\n\t\t\t\t\tparams['type'] = 'error';\n\t\t\t\t\tparams['text'] = app.vtranslate('JS_ONLY_ONE_ITEM_SELECTED');\n\t\t\t\t\tSettings_Vtiger_Index_Js.showMessage(params);\n\t\t\t\t\treturn false;\n\t\t\t\t}\n\t\t\t\tdata = $.merge(data, [{'old': id, 'new': selected}]);\n\t\t\t\t$('#replaceIds').val(JSON.stringify(data));\n\t\t\t\tapp.hideModalWindow();\n\t\t\t\taDeferred.resolve(selected);\n\t\t\t});\n\t\t});\n\t\treturn aDeferred.promise();\n\t},\n\tcheckChildren: function (id, data) {\n\t\tvar thisInstance = this;\n\t\tvar dataNew = [];\n\t\tfor (var key in data) {\n\t\t\tif (data[key].id != id) {\n\t\t\t\tif (data[key].children.length) {\n\t\t\t\t\tdata[key].children = thisInstance.checkChildren(id, data[key].children);\n\t\t\t\t}\n\t\t\t\tdataNew.push(data[key]);\n\t\t\t}\n\t\t}\n\t\treturn dataNew;\n\t}\n});\n"],"names":["jQuery","Class","jstreeInstance","jstreeLastID","registerEvents","editContainer","$","thisInstance","createTree","validationEngine","on","ref","jstree","val","app","vtranslate","message","create_node","id","text","newElement","icon","forSave","each","json","index","value","li_attr","key","JSON","stringify","submit","event","keyCode","trigger","preventDefault","parseInt","data","parse","treeValues","core","themes","name","responsive","check_callback","contextmenu","items","create","label","action","reference","obj","inst","get_node","new_node","setTimeout","edit","rename","changeIcon","node","instanceTree","Settings_Vtiger_Index_Js","selectIcon","done","set_icon","remove","get_selected","status","children","length","showMessage","type","deleteItemEvent","e","delete_node","ccp","submenu","cut","is_selected","get_top_selected","paste","plugins","aDeferred","Deferred","get_json","checkChildren","resolve","promise","showModalWindow","wizardContainer","jstreeInstanceReplace","find","form","replaceIds","selected","params","merge","hideModalWindow","dataNew","push"],"mappings":"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"}