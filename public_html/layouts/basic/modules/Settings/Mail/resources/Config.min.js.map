{"version":3,"file":"Config.min.js","sources":["Config.js"],"sourcesContent":["/* {[The file is published on the basis of YetiForce Public License 3.0 that can be found in the following directory: licenses/LicenseEN.txt or yetiforce.com]} */\n'use strict';\n\n$.Class('Settings_Mail_Config_Js', {}, {\n\tregisterChangeConfig() {\n\t\tconst thisInstance = this;\n\t\tconst container = $('.configContainer');\n\t\tcontainer.on('change', '.configCheckbox', function () {\n\t\t\tconst progressIndicator = $.progressIndicator();\n\t\t\tconst params = {};\n\t\t\tparams['module'] = app.getModuleName();\n\t\t\tparams['parent'] = app.getParentModuleName();\n\t\t\tparams['action'] = 'SaveAjax';\n\t\t\tparams['mode'] = 'updateConfig';\n\t\t\tparams['type'] = $(this).data('type');\n\t\t\tparams['name'] = $(this).attr('name');\n\t\t\tparams['val'] = this.checked;\n\t\t\tAppConnector.request(params).done(function (data) {\n\t\t\t\tprogressIndicator.progressIndicator({'mode': 'hide'});\n\t\t\t\tlet messageParams = {};\n\t\t\t\tmessageParams['text'] = data.result.message;\n\t\t\t\tSettings_Vtiger_Index_Js.showMessage(messageParams);\n\t\t\t}).fail(function (error) {\n\t\t\t\tprogressIndicator.progressIndicator({'mode': 'hide'});\n\t\t\t});\n\t\t});\n\t},\n\tregisterSignature() {\n\t\tconst container = $('#signature');\n\t\tnew App.Fields.Text.Editor(container.find('.js-editor'), {\n\t\t\theight: '20em',\n\t\t});\n\t\tcontainer.find('button').on('click', function () {\n\t\t\tconst progressIndicator = $.progressIndicator();\n\t\t\tconst editor = CKEDITOR.instances.signatureEditor;\n\t\t\tconst params = {};\n\t\t\tparams['module'] = app.getModuleName();\n\t\t\tparams['parent'] = app.getParentModuleName();\n\t\t\tparams['action'] = 'SaveAjax';\n\t\t\tparams['mode'] = 'updateSignature';\n\t\t\tparams['val'] = editor.getData();\n\t\t\tAppConnector.request(params).done(function (data) {\n\t\t\t\tprogressIndicator.progressIndicator({'mode': 'hide'});\n\t\t\t\tSettings_Vtiger_Index_Js.showMessage({\n\t\t\t\t\ttext: data.result.message\n\t\t\t\t});\n\t\t\t}).fail(function (error) {\n\t\t\t\tprogressIndicator.progressIndicator({'mode': 'hide'});\n\t\t\t});\n\t\t});\n\t},\n\tregisterEvents() {\n\t\tconst thisInstance = this;\n\t\tthisInstance.registerChangeConfig();\n\t\tthisInstance.registerSignature();\n\t},\n});\n"],"names":["$","Class","registerChangeConfig","thisInstance","container","on","progressIndicator","params","app","getModuleName","getParentModuleName","data","attr","checked","AppConnector","request","done","messageParams","result","message","Settings_Vtiger_Index_Js","showMessage","fail","registerSignature","Fields","Text","Editor","find","height","editor","CKEDITOR","instances","signatureEditor","getData","text","registerEvents"],"mappings":";;AAGAA,EAAEC,KAAF,CAAQ,yBAAR,CAAmC,EAAnC,CAAuC,CACtCC,oBADsC,aACf,CAChBC,IACAC,EAAYJ,EAAE,kBAAF,CAFI,CAGtBI,EAAUC,EAAV,CAAa,QAAb,CAAuB,iBAAvB,CAA0C,UAAY,OAC3BL,EAAEM,iBAAF,EAD2B,CAE/CC,EAAS,EAFsC,CAGrDA,SAAmBC,IAAIC,aAAJ,EAHkC,CAIrDF,SAAmBC,IAAIE,mBAAJ,EAJkC,CAKrDH,SAAmB,UALkC,CAMrDA,OAAiB,cANoC,CAOrDA,OAAiBP,EAAE,IAAF,EAAQW,IAAR,CAAa,MAAb,CAPoC,CAQrDJ,OAAiBP,EAAE,IAAF,EAAQY,IAAR,CAAa,MAAb,CARoC,CASrDL,MAAgB,KAAKM,OATgC,CAUrDC,aAAaC,OAAb,CAAqBR,CAArB,EAA6BS,IAA7B,CAAkC,SAAUL,CAAV,CAAgB,CACjDL,EAAkBA,iBAAlB,CAAoC,CAAC,KAAQ,MAAT,CAApC,CADiD,CAEjD,MAAoB,EAApB,CACAW,OAAwBN,EAAKO,MAAL,CAAYC,OAHa,CAIjDC,yBAAyBC,WAAzB,CAAqCJ,CAArC,EACA,CALD,EAKGK,IALH,CAKQ,UAAiB,CACxBhB,EAAkBA,iBAAlB,CAAoC,CAAC,KAAQ,MAAT,CAApC,EACA,CAPD,EAQA,CAlBD,EAmBA,CAvBqC,CAwBtCiB,iBAxBsC,aAwBlB,CACnB,MAAkBvB,EAAE,YAAF,CAAlB,CACA,QAAQwB,MAAJ,CAAWC,IAAX,CAAgBC,MAApB,CAA2BtB,EAAUuB,IAAV,CAAe,YAAf,CAA3B,CAAyD,CACxDC,OAAQ,MADgD,CAAzD,CAFmB,CAKnBxB,EAAUuB,IAAV,CAAe,QAAf,EAAyBtB,EAAzB,CAA4B,OAA5B,CAAqC,UAAY,OACtBL,EAAEM,iBAAF,EADsB,CAE1CuB,EAASC,SAASC,SAAT,CAAmBC,eAFc,CAG1CzB,EAAS,EAHiC,CAIhDA,SAAmBC,IAAIC,aAAJ,EAJ6B,CAKhDF,SAAmBC,IAAIE,mBAAJ,EAL6B,CAMhDH,SAAmB,UAN6B,CAOhDA,OAAiB,iBAP+B,CAQhDA,MAAgBsB,EAAOI,OAAP,EARgC,CAShDnB,aAAaC,OAAb,CAAqBR,CAArB,EAA6BS,IAA7B,CAAkC,SAAUL,CAAV,CAAgB,CACjDL,EAAkBA,iBAAlB,CAAoC,CAAC,KAAQ,MAAT,CAApC,CADiD,CAEjDc,yBAAyBC,WAAzB,CAAqC,CACpCa,KAAMvB,EAAKO,MAAL,CAAYC,OADkB,CAArC,EAGA,CALD,EAKGG,IALH,CAKQ,UAAiB,CACxBhB,EAAkBA,iBAAlB,CAAoC,CAAC,KAAQ,MAAT,CAApC,EACA,CAPD,EAQA,CAjBD,EAkBA,CA/CqC,CAgDtC6B,cAhDsC,aAgDrB,CAChB,MAAqB,IAArB,CACAhC,EAAaD,oBAAb,EAFgB,CAGhBC,EAAaoB,iBAAb,GACA,CApDqC,CAAvC"}