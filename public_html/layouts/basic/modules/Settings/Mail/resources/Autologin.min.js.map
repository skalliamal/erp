{"version":3,"file":"Autologin.min.js","sources":["Autologin.js"],"sourcesContent":["/* {[The file is published on the basis of YetiForce Public License 3.0 that can be found in the following directory: licenses/LicenseEN.txt or yetiforce.com]} */\n'use strict';\n\njQuery.Class('Settings_Mail_Autologin_Js', {}, {\n\tregisterChangeUser: function () {\n\t\tvar thisInstance = this;\n\t\tvar container = jQuery('.autologinContainer');\n\t\tcontainer.on('change', '.users', function () {\n\t\t\tvar row = jQuery(this).closest('tr');\n\t\t\tvar users = jQuery(this).val();\n\t\t\tif (users == null)\n\t\t\t\tusers = [];\n\t\t\tvar progressIndicator = jQuery.progressIndicator();\n\t\t\tvar params = {};\n\t\t\tparams['module'] = app.getModuleName();\n\t\t\tparams['parent'] = app.getParentModuleName();\n\t\t\tparams['action'] = 'SaveAjax';\n\t\t\tparams['mode'] = 'updateUsers';\n\t\t\tparams['id'] = row.data('id');\n\t\t\tparams['user'] = users;\n\t\t\tAppConnector.request(params).done(function (data) {\n\t\t\t\tprogressIndicator.progressIndicator({'mode': 'hide'});\n\t\t\t\tvar params = {};\n\t\t\t\tparams['text'] = data.result.message;\n\t\t\t\tSettings_Vtiger_Index_Js.showMessage(params);\n\t\t\t}).fail(function (error) {\n\t\t\t\tprogressIndicator.progressIndicator({'mode': 'hide'});\n\t\t\t});\n\t\t});\n\t},\n\tregisterChangeConfig: function () {\n\t\tvar thisInstance = this;\n\t\tvar container = jQuery('.autologinContainer');\n\t\tcontainer.on('change', '.configCheckbox', function () {\n\t\t\tvar name = jQuery(this).attr('name');\n\t\t\tvar val = this.checked;\n\t\t\tvar progressIndicator = jQuery.progressIndicator();\n\t\t\tvar params = {};\n\t\t\tparams['module'] = app.getModuleName();\n\t\t\tparams['parent'] = app.getParentModuleName();\n\t\t\tparams['action'] = 'SaveAjax';\n\t\t\tparams['mode'] = 'updateConfig';\n\t\t\tparams['type'] = 'autologin';\n\t\t\tparams['name'] = name;\n\t\t\tparams['val'] = val;\n\n\t\t\tAppConnector.request(params).done(function (data) {\n\t\t\t\tprogressIndicator.progressIndicator({'mode': 'hide'});\n\t\t\t\tvar params = {};\n\t\t\t\tparams['text'] = data.result.message;\n\t\t\t\tSettings_Vtiger_Index_Js.showMessage(params);\n\t\t\t}).fail(function (error) {\n\t\t\t\tprogressIndicator.progressIndicator({'mode': 'hide'});\n\t\t\t});\n\t\t});\n\t},\n\tregisterEvents: function () {\n\t\tvar thisInstance = this;\n\t\tthisInstance.registerChangeUser();\n\t\tthisInstance.registerChangeConfig();\n\t},\n});\n"],"names":["jQuery","Class","registerChangeUser","thisInstance","container","on","closest","users","val","progressIndicator","params","app","getModuleName","getParentModuleName","row","data","AppConnector","request","done","result","message","Settings_Vtiger_Index_Js","showMessage","fail","registerChangeConfig","attr","checked","name","registerEvents"],"mappings":";;AAGAA,OAAOC,KAAP,CAAa,4BAAb,CAA2C,EAA3C,CAA+C,CAC9CC,mBAAoB,YAAY,CAC3BC,IACAC,EAAYJ,OAAO,qBAAP,CAFe,CAG/BI,EAAUC,EAAV,CAAa,QAAb,CAAuB,QAAvB,CAAiC,UAAY,OAClCL,OAAO,IAAP,EAAaM,OAAb,CAAqB,IAArB,CADkC,CAExCC,EAAQP,OAAO,IAAP,EAAaQ,GAAb,EAFgC,CAG/B,IAAT,GAHwC,GAI3CD,EAAQ,EAJmC,QAKpBP,OAAOS,iBAAP,EALoB,CAMxCC,EAAS,EAN+B,CAO5CA,SAAmBC,IAAIC,aAAJ,EAPyB,CAQ5CF,SAAmBC,IAAIE,mBAAJ,EARyB,CAS5CH,SAAmB,UATyB,CAU5CA,OAAiB,aAV2B,CAW5CA,KAAeI,EAAIC,IAAJ,CAAS,IAAT,CAX6B,CAY5CL,OAAiBH,CAZ2B,CAa5CS,aAAaC,OAAb,CAAqBP,CAArB,EAA6BQ,IAA7B,CAAkC,SAAUH,CAAV,CAAgB,CACjDN,EAAkBA,iBAAlB,CAAoC,CAAC,KAAQ,MAAT,CAApC,CADiD,CAEjD,MAAa,EAAb,CACAC,OAAiBK,EAAKI,MAAL,CAAYC,OAHoB,CAIjDC,yBAAyBC,WAAzB,CAAqCZ,CAArC,EACA,CALD,EAKGa,IALH,CAKQ,UAAiB,CACxBd,EAAkBA,iBAAlB,CAAoC,CAAC,KAAQ,MAAT,CAApC,EACA,CAPD,EAQA,CArBD,EAsBA,CA1B6C,CA2B9Ce,qBAAsB,YAAY,CAC7BrB,IACAC,EAAYJ,OAAO,qBAAP,CAFiB,CAGjCI,EAAUC,EAAV,CAAa,QAAb,CAAuB,iBAAvB,CAA0C,UAAY,OAC1CL,OAAO,IAAP,EAAayB,IAAb,CAAkB,MAAlB,CAD0C,CAEjDjB,EAAM,KAAKkB,OAFsC,CAGjDjB,EAAoBT,OAAOS,iBAAP,EAH6B,CAIjDC,EAAS,EAJwC,CAKrDA,SAAmBC,IAAIC,aAAJ,EALkC,CAMrDF,SAAmBC,IAAIE,mBAAJ,EANkC,CAOrDH,SAAmB,UAPkC,CAQrDA,OAAiB,cARoC,CASrDA,OAAiB,WAToC,CAUrDA,OAAiBiB,CAVoC,CAWrDjB,MAAgBF,CAXqC,CAarDQ,aAAaC,OAAb,CAAqBP,CAArB,EAA6BQ,IAA7B,CAAkC,SAAUH,CAAV,CAAgB,CACjDN,EAAkBA,iBAAlB,CAAoC,CAAC,KAAQ,MAAT,CAApC,CADiD,CAEjD,MAAa,EAAb,CACAC,OAAiBK,EAAKI,MAAL,CAAYC,OAHoB,CAIjDC,yBAAyBC,WAAzB,CAAqCZ,CAArC,EACA,CALD,EAKGa,IALH,CAKQ,UAAiB,CACxBd,EAAkBA,iBAAlB,CAAoC,CAAC,KAAQ,MAAT,CAApC,EACA,CAPD,EAQA,CArBD,EAsBA,CApD6C,CAqD9CmB,eAAgB,YAAY,CAC3B,MAAmB,IAAnB,CACAzB,EAAaD,kBAAb,EAF2B,CAG3BC,EAAaqB,oBAAb,GACA,CAzD6C,CAA/C"}