{"version":3,"file":"Edit.min.js","sources":["Edit.js"],"sourcesContent":["/* {[The file is published on the basis of YetiForce Public License 3.0 that can be found in the following directory: licenses/LicenseEN.txt or yetiforce.com]} */\n'use strict';\n\nVtiger_Edit_Js('Settings_WebserviceUsers_Edit_Js', {}, {\n\tgetForm: function () {\n\t\tif (this.formElement == false) {\n\t\t\tthis.setForm(jQuery('#modalEdit'));\n\t\t}\n\t\treturn this.formElement;\n\t},\n\tshowHideFields: function (typeElement) {\n\t\tvar elementContainer = this.getForm().find('[name=\"crmid\"]').closest('.form-group');\n\t\tif (typeElement.val() === '1') {\n\t\t\telementContainer.addClass('d-none').find('.clearReferenceSelection').trigger('click');\n\t\t} else {\n\t\t\telementContainer.removeClass('d-none');\n\t\t}\n\t},\n\tregisterEvents: function () {\n\t\tvar thisInstance = this;\n\t\tvar container = this.getForm();\n\t\tthis.registerBasicEvents(container);\n\t\tvar form = container.find('form');\n\t\tform.on('submit', function (e) {\n\t\t\te.preventDefault();\n\t\t\tif (form.validationEngine('validate')) {\n\t\t\t\tvar formData = form.serializeFormData();\n\t\t\t\tvar param = {typeApi: container.find('#typeApi').val(), record: container.find('#record').val()};\n\t\t\t\tapp.saveAjax('', formData, param).done(function (data) {\n\t\t\t\t\tif (data.result) {\n\t\t\t\t\t\tSettings_Vtiger_Index_Js.showMessage({text: app.vtranslate('JS_SAVE_SUCCESS')});\n\t\t\t\t\t\tlet listInstance = Settings_WebserviceUsers_List_Js.getInstance();\n\t\t\t\t\t\tlistInstance.reloadTab();\n\t\t\t\t\t} else {\n\t\t\t\t\t\tVtiger_Helper_Js.showPnotify(app.vtranslate('JS_ERROR'));\n\t\t\t\t\t}\n\t\t\t\t\tapp.hideModalWindow();\n\t\t\t\t});\n\t\t\t}\n\t\t});\n\t\tvar typeElement = form.find('[name=\"type\"]');\n\t\tthisInstance.showHideFields(typeElement);\n\t\ttypeElement.on('change', function (e) {\n\t\t\tthisInstance.showHideFields(jQuery(e.currentTarget));\n\t\t});\n\t}\n})\njQuery(document).ready(function (e) {\n\tvar instance = new Settings_WebserviceUsers_Edit_Js();\n\tinstance.registerEvents();\n})\n"],"names":["Vtiger_Edit_Js","getForm","formElement","setForm","jQuery","showHideFields","typeElement","find","closest","val","elementContainer","addClass","trigger","removeClass","registerEvents","container","registerBasicEvents","form","on","e","preventDefault","validationEngine","serializeFormData","param","typeApi","record","app","saveAjax","formData","done","data","result","Settings_Vtiger_Index_Js","showMessage","text","vtranslate","Settings_WebserviceUsers_List_Js","getInstance","listInstance","reloadTab","showPnotify","hideModalWindow","thisInstance","currentTarget","document","ready","instance"],"mappings":";;AAGAA,eAAe,kCAAf,CAAmD,EAAnD,CAAuD,CACtDC,QAAS,YAAY,CAIpB,OAHI,SAAKC,WAGT,EAFC,KAAKC,OAAL,CAAaC,OAAO,YAAP,CAAb,CAED,CAAO,KAAKF,WACZ,CANqD,CAOtDG,eAAgB,WAAUC,CAAV,CAAuB,CACtC,MAAuB,KAAKL,OAAL,GAAeM,IAAf,CAAoB,gBAApB,EAAsCC,OAAtC,CAA8C,aAA9C,CAAvB,CAC0B,GAAtB,KAAYC,GAAZ,EAFkC,CAGrCC,EAAiBC,QAAjB,CAA0B,QAA1B,EAAoCJ,IAApC,CAAyC,0BAAzC,EAAqEK,OAArE,CAA6E,OAA7E,CAHqC,CAKrCF,EAAiBG,WAAjB,CAA6B,QAA7B,EAED,CAdqD,CAetDC,eAAgB,YAAY,OACR,IADQ,CAEvBC,EAAY,KAAKd,OAAL,EAFW,CAG3B,KAAKe,mBAAL,CAAyBD,CAAzB,CAH2B,CAI3B,MAAWA,EAAUR,IAAV,CAAe,MAAf,CAAX,CACAU,EAAKC,EAAL,CAAQ,QAAR,CAAkB,SAAUC,CAAV,CAAa,CAE9B,GADAA,EAAEC,cAAF,EACA,CAAIH,EAAKI,gBAAL,CAAsB,UAAtB,CAAJ,CAAuC,OACvBJ,EAAKK,iBAAL,EADuB,CAElCC,EAAQ,CAACC,QAAST,EAAUR,IAAV,CAAe,UAAf,EAA2BE,GAA3B,EAAV,CAA4CgB,OAAQV,EAAUR,IAAV,CAAe,SAAf,EAA0BE,GAA1B,EAApD,CAF0B,CAGtCiB,IAAIC,QAAJ,CAAa,EAAb,CAAiBC,CAAjB,CAA2BL,CAA3B,EAAkCM,IAAlC,CAAuC,SAAUC,CAAV,CAAgB,CACtD,GAAIA,EAAKC,MAAT,CAAiB,CAChBC,yBAAyBC,WAAzB,CAAqC,CAACC,KAAMR,IAAIS,UAAJ,CAAe,iBAAf,CAAP,CAArC,CADgB,CAEhB,MAAmBC,iCAAiCC,WAAjC,EAAnB,CACAC,EAAaC,SAAb,GACA,CAJD,sBAKkBC,WAAjB,CAA6Bd,IAAIS,UAAJ,CAAe,UAAf,CAA7B,CALD,CAOAT,IAAIe,eAAJ,GACA,CATD,EAUA,CACD,CAhBD,CAL2B,CAsB3B,MAAkBxB,EAAKV,IAAL,CAAU,eAAV,CAAlB,CACAmC,EAAarC,cAAb,CAA4BC,CAA5B,CAvB2B,CAwB3BA,EAAYY,EAAZ,CAAe,QAAf,CAAyB,SAAUC,CAAV,CAAa,CACrCuB,EAAarC,cAAb,CAA4BD,OAAOe,EAAEwB,aAAT,CAA5B,EACA,CAFD,EAGA,CA1CqD,CAAvD,EA4CAvC,OAAOwC,QAAP,EAAiBC,KAAjB,CAAuB,UAAa,CACnC,MAAe,oCAAf,CACAC,EAAShC,cAAT,GACA,CAHD"}