{"version":3,"file":"UserColors.min.js","sources":["UserColors.js"],"sourcesContent":["/* {[The file is published on the basis of YetiForce Public License 3.0 that can be found in the following directory: licenses/LicenseEN.txt or yetiforce.com]} */\n'use strict';\n\nvar Settings_UserColors_Js = {\n\tinitEvants: function () {\n\t\t$('.UserColors #update_event').on('click', Settings_UserColors_Js.updateEvent);\n\t},\n\tupdateEvent: function (e) {\n\t\tvar progress = $.progressIndicator({\n\t\t\t'message': app.vtranslate('Update labels'),\n\t\t\t'blockInfo': {\n\t\t\t\t'enabled': true\n\t\t\t}\n\t\t});\n\t\tvar target = $(e.currentTarget);\n\t\tvar metod = target.data('metod');\n\t\tvar value = 0;\n\t\tif (target.prop('checked')) {\n\t\t\tvalue = 1;\n\t\t}\n\t\tvar params = {};\n\t\tparams.color = value;\n\t\tparams.id = target.attr('id');\n\t\tparams = jQuery.extend({}, params);\n\t\tSettings_UserColors_Js.registerSaveEvent(metod, params);\n\t\tprogress.progressIndicator({'mode': 'hide'});\n\t},\n\tregisterSaveEvent: function (mode, data) {\n\t\tvar params = {}\n\t\tparams.data = {\n\t\t\tmodule: app.getModuleName(),\n\t\t\tparent: app.getParentModuleName(),\n\t\t\taction: 'SaveAjax',\n\t\t\tmode: mode,\n\t\t\tparams: data\n\t\t}\n\t\tparams.async = false;\n\t\tparams.dataType = 'json';\n\t\tAppConnector.request(params).done(function (data) {\n\t\t\tvar response = data['result'];\n\t\t\tvar params = {\n\t\t\t\ttext: response['message'],\n\t\t\t\ttype: 'success'\n\t\t\t};\n\t\t\tapp.hideModalWindow();\n\t\t\tVtiger_Helper_Js.showPnotify(params);\n\t\t\treturn response;\n\t\t});\n\t},\n\tregisterSaveWorkingDays: function (content) {\n\t\tcontent.find('.workignDaysField').on('change', function (e) {\n\t\t\tvar target = $(e.currentTarget);\n\t\t\tvar params = {};\n\t\t\tparams['type'] = target.data('type');\n\t\t\tparams['param'] = target.attr('name');\n\t\t\tif (target.attr('type') == 'checkbox') {\n\t\t\t\tparams['val'] = this.checked;\n\t\t\t} else {\n\t\t\t\tparams['val'] = target.val();\n\t\t\t}\n\t\t\tapp.saveAjax('updateNotWorkingDays', params).done(function (data) {\n\t\t\t\tSettings_Vtiger_Index_Js.showMessage({type: 'success', text: data.result.message});\n\t\t\t});\n\t\t});\n\t},\n\tregisterEvents: function () {\n\t\tSettings_UserColors_Js.initEvants();\n\t\tvar content = $('.workingDaysTable');\n\t\tthis.registerSaveWorkingDays(content);\n\t}\n}\n$(document).ready(function () {\n\tSettings_UserColors_Js.registerEvents();\n})\n"],"names":["initEvants","$","on","Settings_UserColors_Js","updateEvent","e","progressIndicator","app","vtranslate","target","currentTarget","metod","data","value","prop","params","color","id","attr","jQuery","extend","registerSaveEvent","progress","mode","module","getModuleName","parent","getParentModuleName","action","async","dataType","AppConnector","request","done","text","response","type","hideModalWindow","Vtiger_Helper_Js","showPnotify","registerSaveWorkingDays","content","find","checked","val","saveAjax","Settings_Vtiger_Index_Js","showMessage","result","message","registerEvents","document","ready"],"mappings":";;AAGA,2BAA6B,CAC5BA,WAAY,YAAY,CACvBC,EAAE,2BAAF,EAA+BC,EAA/B,CAAkC,OAAlC,CAA2CC,uBAAuBC,WAAlE,EACA,CAH2B,CAI5BA,YAAa,WAAUC,CAAV,CAAa,OACVJ,EAAEK,iBAAF,CAAoB,CAClC,QAAWC,IAAIC,UAAJ,CAAe,eAAf,CADuB,CAElC,UAAa,CACZ,UADY,CAFqB,CAApB,CADU,CAOrBC,EAASR,EAAEI,EAAEK,aAAJ,CAPY,CAQrBC,EAAQF,EAAOG,IAAP,CAAY,OAAZ,CARa,CASrBC,EAAQ,CATa,CAUrBJ,EAAOK,IAAP,CAAY,SAAZ,CAVqB,GAWxBD,EAAQ,CAXgB,EAazB,MAAa,EAAb,CACAE,EAAOC,KAAP,CAAeH,CAdU,CAezBE,EAAOE,EAAP,CAAYR,EAAOS,IAAP,CAAY,IAAZ,CAfa,CAgBzBH,EAASI,OAAOC,MAAP,CAAc,EAAd,CAAkBL,CAAlB,CAhBgB,CAiBzBZ,uBAAuBkB,iBAAvB,CAAyCV,CAAzC,CAAgDI,CAAhD,CAjByB,CAkBzBO,EAAShB,iBAAT,CAA2B,CAAC,KAAQ,MAAT,CAA3B,EACA,CAvB2B,CAwB5Be,kBAAmB,WAAUE,CAAV,CAAgBX,CAAhB,CAAsB,CACxC,MAAa,EAAb,CACAG,EAAOH,IAAP,CAAc,CACbY,OAAQjB,IAAIkB,aAAJ,EADK,CAEbC,OAAQnB,IAAIoB,mBAAJ,EAFK,CAGbC,OAAQ,UAHK,CAIbL,KAAMA,CAJO,CAKbR,OAAQH,CALK,CAF0B,CASxCG,EAAOc,KAAP,GATwC,CAUxCd,EAAOe,QAAP,CAAkB,MAVsB,CAWxCC,aAAaC,OAAb,CAAqBjB,CAArB,EAA6BkB,IAA7B,CAAkC,SAAUrB,CAAV,CAAgB,OAClCA,QADkC,CAE7CG,EAAS,CACZmB,KAAMC,SADM,CAEZC,KAAM,SAFM,CAFoC,CAQjD,WAFIC,eAAJ,EAEA,CADAC,iBAAiBC,WAAjB,CAA6BxB,CAA7B,CACA,CAAOoB,CACP,CATD,EAUA,CA7C2B,CA8C5BK,wBAAyB,WAAUC,CAAV,CAAmB,CAC3CA,EAAQC,IAAR,CAAa,mBAAb,EAAkCxC,EAAlC,CAAqC,QAArC,CAA+C,SAAUG,CAAV,CAAa,OAC9CJ,EAAEI,EAAEK,aAAJ,CAD8C,CAEvDK,EAAS,EAF8C,CAG3DA,OAAiBN,EAAOG,IAAP,CAAY,MAAZ,CAH0C,CAI3DG,QAAkBN,EAAOS,IAAP,CAAY,MAAZ,CAJyC,CAM1DH,KAN0D,CAKhC,UAAvB,IAAOG,IAAP,CAAY,MAAZ,CALuD,CAM1C,KAAKyB,OANqC,CAQ1ClC,EAAOmC,GAAP,EAR0C,CAU3DrC,IAAIsC,QAAJ,CAAa,sBAAb,CAAqC9B,CAArC,EAA6CkB,IAA7C,CAAkD,SAAUrB,CAAV,CAAgB,CACjEkC,yBAAyBC,WAAzB,CAAqC,CAACX,KAAM,SAAP,CAAkBF,KAAMtB,EAAKoC,MAAL,CAAYC,OAApC,CAArC,EACA,CAFD,EAGA,CAbD,EAcA,CA7D2B,CA8D5BC,eAAgB,YAAY,CAC3B/C,uBAAuBH,UAAvB,EAD2B,CAE3B,MAAcC,EAAE,mBAAF,CAAd,CACA,KAAKuC,uBAAL,CAA6BC,CAA7B,EACA,CAlE2B,CAA7B,CAoEAxC,EAAEkD,QAAF,EAAYC,KAAZ,CAAkB,UAAY,CAC7BjD,uBAAuB+C,cAAvB,GACA,CAFD"}