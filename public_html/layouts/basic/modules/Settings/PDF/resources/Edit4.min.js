'use strict';

Settings_PDF_Edit_Js("Settings_PDF_Edit4_Js",{},{step4Container:!1,advanceFilterInstance:!1,init:function a(){this.initialize();},getContainer:function a(){return this.step4Container},setContainer:function b(a){return this.step4Container=a,this},initialize:function b(a){"undefined"==typeof a&&(a=jQuery("#pdf_step4")),a.is("#pdf_step4")?this.setContainer(a):this.setContainer(jQuery("#pdf_step4"));},submit:function g(){for(var a in CKEDITOR.instances)CKEDITOR.instances[a].updateElement();var b=jQuery.Deferred(),c=this.getContainer(),d=c.serializeFormData(),e=jQuery.progressIndicator({position:"html",blockInfo:{enabled:!0}}),f=c.serializeFormData();return f.action="Save",f.step=4,AppConnector.request(f).done(function(a){a=JSON.parse(a),!0==a.success&&(Settings_Vtiger_Index_Js.showMessage({text:app.vtranslate("JS_PDF_SAVED_SUCCESSFULLY")}),AppConnector.request(d).done(function(a){c.hide(),e.progressIndicator({mode:"hide"}),b.resolve(a);}).fail(function(a,b){app.errorLog(a,b);}));}).fail(function(a,b){app.errorLog(a,b);}),b.promise()},registerCancelStepClickEvent:function b(a){jQuery("button.cancelLink",a).on("click",function(){window.history.back();});},registerEvents:function c(){var a=this.getContainer(),b=app.validationEngineOptions;b.onValidationComplete=function(a,b){return b},b.promptPosition="bottomRight",a.validationEngine(b),App.Fields.Picklist.showSelect2ElementView(a.find("select")),new App.Fields.Text.Editor(".js-editor",{toolbar:"Full"}),this.registerCancelStepClickEvent(a);}});
//# sourceMappingURL=Edit4.min.js.map
