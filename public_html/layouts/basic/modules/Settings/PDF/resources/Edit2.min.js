'use strict';

Settings_PDF_Edit_Js("Settings_PDF_Edit2_Js",{},{step2Container:!1,advanceFilterInstance:!1,init:function a(){this.initialize();},getContainer:function a(){return this.step2Container},setContainer:function b(a){return this.step2Container=a,this},initialize:function b(a){"undefined"==typeof a&&(a=jQuery("#pdf_step2")),a.is("#pdf_step2")?this.setContainer(a):this.setContainer(jQuery("#pdf_step2"));},submit:function f(){var a=jQuery.Deferred(),b=this.getContainer(),c=b.serializeFormData(),d=jQuery.progressIndicator({position:"html",blockInfo:{enabled:!0}}),e=b.serializeFormData();return e.action="Save",e.step=2,AppConnector.request(e).done(function(e){e=JSON.parse(e),!0==e.success&&(Settings_Vtiger_Index_Js.showMessage({text:app.vtranslate("JS_PDF_SAVED_SUCCESSFULLY")}),AppConnector.request(c).done(function(c){b.hide(),d.progressIndicator({mode:"hide"}),a.resolve(c);}).fail(function(a,b){app.errorLog(a,b);}));}).fail(function(a,b){app.errorLog(a,b);}),a.promise()},registerCancelStepClickEvent:function b(a){jQuery("button.cancelLink",a).on("click",function(){window.history.back();});},registerMarginCheckboxClickEvent:function b(a){a.find("#margin_chkbox").on("change",function(){var b=jQuery(this).is(":checked");b?a.find(".margin_inputs").addClass("d-none"):a.find(".margin_inputs").removeClass("d-none");});},registerEvents:function c(){var a=this.getContainer(),b=app.validationEngineOptions;b.onValidationComplete=function(a,b){return b},b.promptPosition="topLeft",a.validationEngine(b),App.Fields.Picklist.showSelect2ElementView(a.find(".select2")),this.registerCancelStepClickEvent(a),this.registerMarginCheckboxClickEvent(a),app.showPopoverElementView(a.find(".js-popover-tooltip"));}});
//# sourceMappingURL=Edit2.min.js.map
