{"version":3,"file":"List.min.js","sources":["List.js"],"sourcesContent":["/* {[The file is published on the basis of YetiForce Public License 3.0 that can be found in the following directory: licenses/LicenseEN.txt or yetiforce.com]} */\n'use strict';\n\nSettings_Vtiger_List_Js(\"Settings_PDF_List_Js\", {}, {\n\tgetListContainer: function () {\n\t\treturn jQuery('#listViewContainer');\n\t},\n\tregisterFilterChangeEvent: function () {\n\t\tvar thisInstance = this;\n\t\tjQuery('#moduleFilter').on('change', function (e) {\n\t\t\tjQuery('#pageNumber').val('1');\n\t\t\tjQuery('#pageToJump').val('1');\n\t\t\tjQuery('#orderBy').val('');\n\t\t\tjQuery(\"#sortOrder\").val('');\n\t\t\tvar params = {\n\t\t\t\tmodule: app.getModuleName(),\n\t\t\t\tparent: app.getParentModuleName(),\n\t\t\t\tsourceModule: jQuery(e.currentTarget).val()\n\t\t\t}\n\t\t\t//Make the select all count as empty\n\t\t\tjQuery('#recordsCount').val('');\n\t\t\t//Make total number of pages as empty\n\t\t\tjQuery('#totalPageCount').text('');\n\t\t\tthisInstance.getListViewRecords(params).done(function (data) {\n\t\t\t\tthisInstance.updatePagination();\n\t\t\t});\n\t\t});\n\t},\n\t/*\n\t * Function to register the list view row click event\n\t */\n\tregisterRowClickEvent: function () {\n\t\tvar listViewContentDiv = this.getListViewContentContainer();\n\t\tlistViewContentDiv.on('click', '.listViewEntries', function (e) {\n\t\t\tvar editUrl = jQuery(e.currentTarget).find('[data-fa-i2svg]').closest('a').attr('href');\n\t\t\twindow.location.href = editUrl;\n\t\t});\n\t},\n\tgetDefaultParams: function () {\n\t\tvar pageNumber = jQuery('#pageNumber').val();\n\t\tvar module = app.getModuleName();\n\t\tvar parent = app.getParentModuleName();\n\t\tvar params = {\n\t\t\t'module': module,\n\t\t\t'parent': parent,\n\t\t\t'page': pageNumber,\n\t\t\t'view': \"List\",\n\t\t\tsourceModule: jQuery('#moduleFilter').val()\n\t\t};\n\t\treturn params;\n\t},\n\tregisterAddNewTemplate: function (container) {\n\t\tjQuery('#addButton', container).on('click', function () {\n\t\t\tvar selectedModule = jQuery('#moduleFilter option:selected').val();\n\t\t\tvar url = jQuery(this).data('url');\n\t\t\tif (selectedModule.length) {\n\t\t\t\turl += '&source_module=' + selectedModule;\n\t\t\t}\n\t\t\twindow.location.href = url;\n\t\t});\n\t},\n\tregisterImportTemplate: function (container) {\n\t\tjQuery('#importButton', container).on('click', function () {\n\t\t\twindow.location.href = jQuery(this).data('url');\n\t\t});\n\t},\n\tregisterTemplateDelete: function (container) {\n\t\tvar thisInstance = this;\n\t\tif (container == undefined) {\n\t\t\tcontainer = thisInstance.getListContainer();\n\t\t}\n\t\tcontainer.find('.templateDelete').on('click', function (e) {\n\t\t\te.stopPropagation();\n\t\t\te.preventDefault();\n\t\t\tvar templateId = jQuery(this).closest('tr').data('id');\n\t\t\tSettings_PDF_List_Js.deleteById(templateId).done(function () {\n\t\t\t\tthisInstance.registerTemplateDelete(container);\n\t\t\t});\n\t\t});\n\t},\n\t/*\n\t * Function which will give you all the list view params\n\t */\n\tgetListViewRecords: function (urlParams) {\n\t\tvar thisInstance = this;\n\t\tvar aDeferred = jQuery.Deferred();\n\t\tthis._super(urlParams).done(function (data) {\n\t\t\tthisInstance.registerTemplateDelete();\n\t\t\taDeferred.resolve(data);\n\t\t});\n\t\treturn aDeferred.promise();\n\t},\n\tregisterEvents: function () {\n\t\tthis._super();\n\t\tvar container = this.getListContainer();\n\t\tthis.registerFilterChangeEvent();\n\t\tthis.registerAddNewTemplate(container);\n\t\tthis.registerTemplateDelete(container);\n\t\tthis.registerImportTemplate(container);\n\t}\n});\n"],"names":["Settings_Vtiger_List_Js","getListContainer","registerFilterChangeEvent","jQuery","on","e","val","module","app","getModuleName","parent","getParentModuleName","sourceModule","currentTarget","text","thisInstance","getListViewRecords","params","done","updatePagination","registerRowClickEvent","getListViewContentContainer","listViewContentDiv","find","closest","attr","window","location","href","editUrl","getDefaultParams","pageNumber","registerAddNewTemplate","container","url","data","selectedModule","length","registerImportTemplate","registerTemplateDelete","stopPropagation","preventDefault","Settings_PDF_List_Js","deleteById","templateId","urlParams","aDeferred","Deferred","_super","resolve","promise","registerEvents"],"mappings":";;AAGAA,wBAAwB,sBAAxB,CAAgD,EAAhD,CAAoD,CACnDC,iBAAkB,YAAY,CAC7B,cAAc,oBAAP,CACP,CAHkD,CAInDC,0BAA2B,YAAY,CACtC,MAAmB,IAAnB,CACAC,OAAO,eAAP,EAAwBC,EAAxB,CAA2B,QAA3B,CAAqC,SAAUC,CAAV,CAAa,CACjDF,OAAO,aAAP,EAAsBG,GAAtB,CAA0B,GAA1B,CADiD,CAEjDH,OAAO,aAAP,EAAsBG,GAAtB,CAA0B,GAA1B,CAFiD,CAGjDH,OAAO,UAAP,EAAmBG,GAAnB,CAAuB,EAAvB,CAHiD,CAIjDH,OAAO,YAAP,EAAqBG,GAArB,CAAyB,EAAzB,CAJiD,CAKjD,MAAa,CACZC,OAAQC,IAAIC,aAAJ,EADI,CAEZC,OAAQF,IAAIG,mBAAJ,EAFI,CAGZC,aAAcT,OAAOE,EAAEQ,aAAT,EAAwBP,GAAxB,EAHF,CAAb,CAMAH,OAAO,eAAP,EAAwBG,GAAxB,CAA4B,EAA5B,CAXiD,CAajDH,OAAO,iBAAP,EAA0BW,IAA1B,CAA+B,EAA/B,CAbiD,CAcjDC,EAAaC,kBAAb,CAAgCC,CAAhC,EAAwCC,IAAxC,CAA6C,UAAgB,CAC5DH,EAAaI,gBAAb,GACA,CAFD,EAGA,CAjBD,EAkBA,CAxBkD,CA4BnDC,sBAAuB,YAAY,CAClC,MAAyB,KAAKC,2BAAL,EAAzB,CACAC,EAAmBlB,EAAnB,CAAsB,OAAtB,CAA+B,kBAA/B,CAAmD,SAAUC,CAAV,CAAa,CAC/D,MAAcF,OAAOE,EAAEQ,aAAT,EAAwBU,IAAxB,CAA6B,iBAA7B,EAAgDC,OAAhD,CAAwD,GAAxD,EAA6DC,IAA7D,CAAkE,MAAlE,CAAd,CACAC,OAAOC,QAAP,CAAgBC,IAAhB,CAAuBC,EACvB,CAHD,EAIA,CAlCkD,CAmCnDC,iBAAkB,YAAY,OACZ3B,OAAO,aAAP,EAAsBG,GAAtB,EADY,CAEzBC,EAASC,IAAIC,aAAJ,EAFgB,CAGzBC,EAASF,IAAIG,mBAAJ,EAHgB,CAIzBM,EAAS,CACZ,OAAUV,CADE,CAEZ,OAAUG,CAFE,CAGZ,KAAQqB,CAHI,CAIZ,KAAQ,MAJI,CAKZnB,aAAcT,OAAO,eAAP,EAAwBG,GAAxB,EALF,CAJgB,CAW7B,QACA,CA/CkD,CAgDnD0B,uBAAwB,WAAUC,CAAV,CAAqB,CAC5C9B,OAAO,YAAP,CAAqB8B,CAArB,EAAgC7B,EAAhC,CAAmC,OAAnC,CAA4C,UAAY,OAClCD,OAAO,+BAAP,EAAwCG,GAAxC,EADkC,CAEnD4B,EAAM/B,OAAO,IAAP,EAAagC,IAAb,CAAkB,KAAlB,CAF6C,CAGnDC,EAAeC,MAHoC,GAItDH,GAAO,kBAAoBE,CAJ2B,EAMvDV,OAAOC,QAAP,CAAgBC,IAAhB,CAAuBM,EACvB,CAPD,EAQA,CAzDkD,CA0DnDI,uBAAwB,WAAUL,CAAV,CAAqB,CAC5C9B,OAAO,eAAP,CAAwB8B,CAAxB,EAAmC7B,EAAnC,CAAsC,OAAtC,CAA+C,UAAY,CAC1DsB,OAAOC,QAAP,CAAgBC,IAAhB,CAAuBzB,OAAO,IAAP,EAAagC,IAAb,CAAkB,KAAlB,EACvB,CAFD,EAGA,CA9DkD,CA+DnDI,uBAAwB,WAAUN,CAAV,CAAqB,CAC5C,MAAmB,IAAnB,CACIA,OAFwC,GAG3CA,EAAYlB,EAAad,gBAAb,EAH+B,EAK5CgC,EAAUV,IAAV,CAAe,iBAAf,EAAkCnB,EAAlC,CAAqC,OAArC,CAA8C,SAAUC,CAAV,CAAa,CAC1DA,EAAEmC,eAAF,EAD0D,CAE1DnC,EAAEoC,cAAF,EAF0D,CAG1D,MAAiBtC,OAAO,IAAP,EAAaqB,OAAb,CAAqB,IAArB,EAA2BW,IAA3B,CAAgC,IAAhC,CAAjB,CACAO,qBAAqBC,UAArB,CAAgCC,CAAhC,EAA4C1B,IAA5C,CAAiD,UAAY,CAC5DH,EAAawB,sBAAb,CAAoCN,CAApC,EACA,CAFD,EAGA,CAPD,EAQA,CA5EkD,CAgFnDjB,mBAAoB,WAAU6B,CAAV,CAAqB,OACrB,IADqB,CAEpCC,EAAY3C,OAAO4C,QAAP,EAFwB,CAOxC,YAJKC,MAAL,CAAYH,CAAZ,EAAuB3B,IAAvB,CAA4B,SAAUiB,CAAV,CAAgB,CAC3CpB,EAAawB,sBAAb,EAD2C,CAE3CO,EAAUG,OAAV,CAAkBd,CAAlB,EACA,CAHD,CAIA,CAAOW,EAAUI,OAAV,EACP,CAxFkD,CAyFnDC,eAAgB,YAAY,CAC3B,KAAKH,MAAL,EAD2B,CAE3B,MAAgB,KAAK/C,gBAAL,EAAhB,CACA,KAAKC,yBAAL,EAH2B,CAI3B,KAAK8B,sBAAL,CAA4BC,CAA5B,CAJ2B,CAK3B,KAAKM,sBAAL,CAA4BN,CAA5B,CAL2B,CAM3B,KAAKK,sBAAL,CAA4BL,CAA5B,EACA,CAhGkD,CAApD"}