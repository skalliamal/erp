{"version":3,"file":"Index.min.js","sources":["Index.js"],"sourcesContent":["/* {[The file is published on the basis of YetiForce Public License 3.0 that can be found in the following directory: licenses/LicenseEN.txt or yetiforce.com]} */\n'use strict';\n\njQuery.Class(\"Settings_Inventory_Index_Js\", {}, {\n\t//Stored history of Name and duplicate check result\n\tduplicateCheckCache: {},\n\t/**\n\t * This function will show the model for Add/Edit\n\t */\n\tedit: function (url, currentTrElement) {\n\t\tvar aDeferred = jQuery.Deferred();\n\t\tvar thisInstance = this;\n\n\t\tvar progressIndicatorElement = jQuery.progressIndicator({\n\t\t\t'position': 'html',\n\t\t\t'blockInfo': {\n\t\t\t\t'enabled': true\n\t\t\t}\n\t\t});\n\t\tAppConnector.request(url).done(function (data) {\n\t\t\tvar callBackFunction = function (data) {\n\t\t\t\t//cache should be empty when modal opened\n\t\t\t\tthisInstance.duplicateCheckCache = {};\n\t\t\t\tvar form = jQuery('#formInventory');\n\t\t\t\tvar params = app.validationEngineOptions;\n\t\t\t\tparams.onValidationComplete = function (form, valid) {\n\t\t\t\t\tif (valid) {\n\t\t\t\t\t\tthisInstance.saveDetails(form, currentTrElement);\n\t\t\t\t\t\treturn valid;\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t\tform.validationEngine(params);\n\t\t\t\tform.on('submit', function (e) {\n\t\t\t\t\te.preventDefault();\n\t\t\t\t})\n\t\t\t}\n\t\t\tprogressIndicatorElement.progressIndicator({'mode': 'hide'});\n\t\t\tapp.showModalWindow(data, function (data) {\n\t\t\t\tif (typeof callBackFunction == 'function') {\n\t\t\t\t\tcallBackFunction(data);\n\t\t\t\t}\n\t\t\t}, {});\n\t\t}).fail(function (error) {\n\t\t\taDeferred.reject(error);\n\t\t});\n\t\treturn aDeferred.promise();\n\t},\n\t/*\n\t * Function to Save the Details\n\t */\n\tsaveDetails: function (form, currentTrElement) {\n\t\tvar thisInstance = this;\n\t\tvar params = form.serializeFormData();\n\t\tvar saveButton = form.find('[type=\"submit\"]');\n\t\tsaveButton.prop('disabled', true);\n\t\tif (typeof params === \"undefined\") {\n\t\t\tparams = {};\n\t\t}\n\t\tthisInstance.validateName(params).done(function (data) {\n\t\t\tif (typeof data === \"undefined\") {\n\t\t\t\tsaveButton.prop('disabled', false);\n\t\t\t\treturn false;\n\t\t\t}\n\t\t\tvar progressIndicatorElement = jQuery.progressIndicator({\n\t\t\t\t'position': 'html',\n\t\t\t\t'blockInfo': {\n\t\t\t\t\t'enabled': true\n\t\t\t\t}\n\t\t\t});\n\n\t\t\tparams.module = app.getModuleName();\n\t\t\tparams.parent = app.getParentModuleName();\n\t\t\tparams.action = 'SaveAjax';\n\t\t\tparams.view = app.getViewName();\n\t\t\tAppConnector.request(params).done(function (data) {\n\t\t\t\tprogressIndicatorElement.progressIndicator({'mode': 'hide'});\n\t\t\t\tapp.hideModalWindow();\n\t\t\t\tif (typeof data == 'string') {\n\t\t\t\t\tdata = JSON.parse(data);\n\t\t\t\t}\n\t\t\t\t//Adding or update details in the list\n\t\t\t\tif (form.find('.addView').val() == 'true') {\n\t\t\t\t\tthisInstance.addDetails(data['result']);\n\t\t\t\t} else {\n\t\t\t\t\tthisInstance.updateDetails(data['result'], currentTrElement);\n\t\t\t\t}\n\t\t\t\t//show notification after details saved\n\t\t\t\tvar params = {\n\t\t\t\t\ttext: app.vtranslate('JS_SAVE_CHANGES')\n\t\t\t\t};\n\t\t\t\tSettings_Vtiger_Index_Js.showMessage(params);\n\t\t\t});\n\t\t}).fail(function (data, err) {\n\t\t\tsaveButton.prop('disabled', false);\n\t\t\treturn false;\n\t\t});\n\t},\n\t/*\n\t * Function to add the Details in the list after saving\n\t */\n\taddDetails: function (details) {\n\t\tvar container = jQuery('#inventory');\n\t\tvar currency = jQuery('#currency');\n\t\tvar symbol = '%';\n\t\tif (currency.length > 0) {\n\t\t\tvar currency = JSON.parse(currency.val());\n\t\t\tsymbol = currency.currency_symbol;\n\t\t}\n\t\tvar table = $('.inventoryTable', container);\n\t\tif (details.default === 1) {\n\t\t\tvar defaultCheck = ' checked';\n\t\t\ttable.find('.default').prop('checked', false);\n\t\t}\n\t\tvar trElement =\n\t\t\tjQuery('<tr class=\"opacity\" data-id=\"' + details.id + '\">\\n\\\n\t\t\t\t\t<td class=\"textAlignCenter ' + details.row_type + '\"><label class=\"name\">' + details.name + '</label></td>\\n\\\n\t\t\t\t\t<td class=\"textAlignCenter ' + details.row_type + '\"><span class=\"value\">' + details.value + ' ' + symbol + '</span></td>\\n\\\n\t\t\t\t\t<td class=\"textAlignCenter ' + details.row_type + '\"><input class=\"status js-update-field\" checked type=\"checkbox\"></td>\\n\\\n\t\t\t\t\t<td class=\"textAlignCenter ' + details.row_type + '\"><input class=\"default js-update-field\"' + defaultCheck + ' data-field-name=\"default\" type=\"checkbox\">\\n\\\n\t\t\t\t\t\t<div class=\"float-right actions\">\\n\\\n\t\t\t\t\t\t\t<button class=\"btn btn-info btn-sm text-white editInventory u-cursor-pointer\" data-url=\"' + details._editurl + '\"><span title=\"Edycja\" class=\"fas fa-edit alignBottom\"></span></button>\\n\\\n\t\t\t\t\t\t\t<button class=\"removeInventory u-cursor-pointer btn btn-danger btn-sm text-white\" data-url=\"' + details._editurl + '\"><span title=\"UsuÅ„\" class=\"fas fa-trash-alt alignBottom\"></span></button>&nbsp;\\n\\\n\t\t\t\t\t\t</div>\\n\\\n\t\t\t\t\t</td></tr>');\n\t\ttable.append(trElement);\n\t},\n\t/*\n\t * Function to update the details in the list after edit\n\t */\n\tupdateDetails: function (data, currentTrElement) {\n\t\tvar currency = jQuery('#currency');\n\t\tvar symbol = '%';\n\t\tif (currency.length > 0) {\n\t\t\tcurrency = JSON.parse(currency.val());\n\t\t\tsymbol = currency.currency_symbol;\n\t\t}\n\t\tcurrentTrElement.find('.name').text(data['name']);\n\t\tcurrentTrElement.find('.value').text(data['value'] + ' ' + symbol);\n\t\tif (data['status'] === 0) {\n\t\t\tcurrentTrElement.find('.status').prop('checked', true);\n\t\t} else {\n\t\t\tcurrentTrElement.find('.status').prop('checked', false);\n\t\t}\n\t\tif (data['default'] === 1) {\n\t\t\tlet table = $('.inventoryTable');\n\t\t\ttable.find('.default').prop('checked', false);\n\t\t\tcurrentTrElement.find('.default').prop('checked', true);\n\t\t} else {\n\t\t\tcurrentTrElement.find('.default').prop('checked', false);\n\t\t}\n\t},\n\t/*\n\t * Function to validate the Name to avoid duplicates\n\t */\n\tvalidateName: function (data) {\n\t\tvar thisInstance = this;\n\t\tvar aDeferred = jQuery.Deferred();\n\n\t\tvar name = data.name;\n\t\tvar form = jQuery('#formInventory');\n\t\tvar nameElement = form.find('[name=\"name\"]');\n\t\tif (!(name in thisInstance.duplicateCheckCache)) {\n\t\t\tthisInstance.checkDuplicateName(data).done(function (data) {\n\t\t\t\tthisInstance.duplicateCheckCache[name] = data['success'];\n\t\t\t\tif (data['success']) {\n\t\t\t\t\tthisInstance.duplicateCheckCache['message'] = data['message'];\n\t\t\t\t\tnameElement.validationEngine('showPrompt', data['message'], 'error', 'bottomLeft', true);\n\t\t\t\t\taDeferred.reject(data);\n\t\t\t\t}\n\t\t\t\taDeferred.resolve(data);\n\t\t\t}).fail(function (data, err) {\n\t\t\t\taDeferred.reject(data);\n\t\t\t});\n\t\t} else {\n\t\t\tif (thisInstance.duplicateCheckCache[name] == true) {\n\t\t\t\tvar result = thisInstance.duplicateCheckCache['message'];\n\t\t\t\tnameElement.validationEngine('showPrompt', result, 'error', 'bottomLeft', true);\n\t\t\t\taDeferred.reject();\n\t\t\t} else {\n\t\t\t\taDeferred.resolve();\n\t\t\t}\n\t\t}\n\t\treturn aDeferred.promise();\n\t},\n\t/*\n\t * Function to check Duplication of inventory Name\n\t */\n\tcheckDuplicateName: function (details) {\n\t\tvar aDeferred = jQuery.Deferred();\n\t\tvar name = details.name;\n\t\tvar id = details.id;\n\t\tvar moduleName = app.getModuleName();\n\t\tvar params = {\n\t\t\t'module': moduleName,\n\t\t\t'parent': app.getParentModuleName(),\n\t\t\t'action': 'SaveAjax',\n\t\t\t'mode': 'checkDuplicateName',\n\t\t\t'name': name,\n\t\t\t'id': id,\n\t\t\t'view': app.getViewName()\n\t\t}\n\n\t\tAppConnector.request(params).done(function (data) {\n\t\t\tif (typeof data == 'string') {\n\t\t\t\tdata = JSON.parse(data);\n\t\t\t}\n\t\t\tvar response = data['result'];\n\t\t\tvar result = response['success'];\n\t\t\taDeferred.resolve(response);\n\t\t}).fail(function (error, err) {\n\t\t\taDeferred.reject(error, err);\n\t\t});\n\t\treturn aDeferred.promise();\n\t},\n\t/*\n\t * Function to update status as enabled or disabled\n\t */\n\tupdateCheckbox: function (currentTarget) {\n\t\tvar aDeferred = jQuery.Deferred();\n\n\t\tvar currentTrElement = currentTarget.closest('tr');\n\t\tvar id = currentTrElement.data('id');\n\t\tvar progressIndicatorElement = jQuery.progressIndicator({\n\t\t\t'position': 'html',\n\t\t\t'blockInfo': {\n\t\t\t\t'enabled': true\n\t\t\t}\n\t\t});\n\t\tvar updatedCheckbox = currentTarget.data('field-name');\n\n\t\tvar params = {\n\t\t\t'module': app.getModuleName(),\n\t\t\t'parent': app.getParentModuleName(),\n\t\t\t'action': 'SaveAjax',\n\t\t\t'id': id,\n\t\t\t'view': app.getViewName(),\n\t\t}\n\n\t\tif (updatedCheckbox === 'status') {\n\t\t\tparams.status = currentTarget.is(':checked') ? 0 : 1;\n\t\t} else if (updatedCheckbox === 'default') {\n\t\t\tparams.default = currentTarget.is(':checked') ? 1 : 0;\n\t\t\tlet table = $('.inventoryTable');\n\t\t\tif (params.default === 1) {\n\t\t\t\ttable.find('.default').not(currentTarget).prop('checked', false);\n\t\t\t}\n\t\t}\n\n\t\tAppConnector.request(params).done(function (data) {\n\t\t\tprogressIndicatorElement.progressIndicator({'mode': 'hide'});\n\t\t\taDeferred.resolve(data);\n\t\t}).fail(function (error, err) {\n\t\t\tprogressIndicatorElement.progressIndicator({'mode': 'hide'});\n\t\t\taDeferred.reject(error);\n\t\t});\n\t\treturn aDeferred.promise();\n\t},\n\tremoveInventory: function (inventoryElement) {\n\t\tvar thisInstance = this;\n\t\tvar message = app.vtranslate('JS_DELETE_INVENTORY_CONFIRMATION');\n\t\tVtiger_Helper_Js.showConfirmationBox({'message': message}).done(function (e) {\n\t\t\tvar params = {};\n\t\t\tparams['view'] = app.getViewName();\n\t\t\tparams['id'] = inventoryElement.data('id');\n\t\t\tapp.saveAjax('deleteInventory', params).done(function (data) {\n\t\t\t\tSettings_Vtiger_Index_Js.showMessage({type: 'success', text: data.result.message});\n\t\t\t\tinventoryElement.remove();\n\t\t\t});\n\t\t});\n\t},\n\t/*\n\t * Function to register all actions in the List\n\t */\n\tregisterActions: function () {\n\t\tvar thisInstance = this;\n\t\tvar container = jQuery('#inventory');\n\t\t//register click event for Add New Inventory button\n\t\tcontainer.find('.addInventory').on('click', function (e) {\n\t\t\tvar addInventoryButton = jQuery(e.currentTarget);\n\t\t\tvar createUrl = addInventoryButton.data('url');\n\t\t\tthisInstance.edit(createUrl);\n\t\t});\n\n\t\t//register event for edit icon\n\t\tcontainer.on('click', '.editInventory', function (e) {\n\t\t\tvar editButton = jQuery(e.currentTarget);\n\t\t\tvar currentTrElement = editButton.closest('tr');\n\t\t\tthisInstance.edit(editButton.data('url'), currentTrElement);\n\t\t});\n\n\t\t//register event for edit icon\n\t\tcontainer.on('click', '.removeInventory', function (e) {\n\t\t\tvar removeInventoryButton = jQuery(e.currentTarget);\n\t\t\tvar currentTrElement = removeInventoryButton.closest('tr');\n\t\t\tthisInstance.removeInventory(currentTrElement);\n\t\t});\n\n\t\t//register event for checkbox to change the Status\n\t\tcontainer.on('click', '[type=\"checkbox\"]', function (e) {\n\t\t\tvar currentTarget = jQuery(e.currentTarget);\n\n\t\t\tthisInstance.updateCheckbox(currentTarget).done(function (data) {\n\t\t\t\tvar params = {};\n\t\t\t\tparams.text = app.vtranslate('JS_SAVE_CHANGES');\n\t\t\t\tSettings_Vtiger_Index_Js.showMessage(params);\n\t\t\t});\n\t\t});\n\n\t},\n\tregisterEvents: function () {\n\t\tthis.registerActions();\n\t}\n\n});\n\njQuery(document).ready(function (e) {\n\tvar instance = new Settings_Inventory_Index_Js();\n\tinstance.registerEvents();\n})\n"],"names":["jQuery","Class","duplicateCheckCache","edit","url","currentTrElement","Deferred","thisInstance","progressIndicatorElement","progressIndicator","request","done","data","params","app","validationEngineOptions","onValidationComplete","form","valid","saveDetails","validationEngine","on","e","preventDefault","showModalWindow","callBackFunction","fail","error","aDeferred","reject","promise","serializeFormData","saveButton","find","prop","validateName","module","getModuleName","parent","getParentModuleName","action","view","getViewName","AppConnector","hideModalWindow","JSON","parse","val","addDetails","updateDetails","text","vtranslate","Settings_Vtiger_Index_Js","showMessage","details","currency","symbol","length","currency_symbol","$","container","default","table","id","row_type","name","value","defaultCheck","_editurl","append","trElement","nameElement","checkDuplicateName","resolve","result","moduleName","response","err","updateCheckbox","currentTarget","closest","updatedCheckbox","status","is","not","removeInventory","inventoryElement","message","Vtiger_Helper_Js","showConfirmationBox","saveAjax","type","remove","registerActions","createUrl","addInventoryButton","editButton","removeInventoryButton","registerEvents","document","ready","instance"],"mappings":"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"}