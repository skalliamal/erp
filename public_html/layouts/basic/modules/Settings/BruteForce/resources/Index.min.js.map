{"version":3,"file":"Index.min.js","sources":["Index.js"],"sourcesContent":["/* {[The file is published on the basis of YetiForce Public License 3.0 that can be found in the following directory: licenses/LicenseEN.txt or yetiforce.com]} */\n'use strict';\n\njQuery.Class('Settings_BruteForce_Index_Js', {}, {\n\tcontainer: false,\n\tgetContainer: function () {\n\t\tif (this.container == false) {\n\t\t\tthis.container = jQuery('div.contentsDiv');\n\t\t}\n\t\treturn this.container;\n\t},\n\tsaveAjax: function (mode, params) {\n\t\tapp.saveAjax(mode, params).done(function (data) {\n\t\t\tvar response = data.result;\n\t\t\tvar params = {\n\t\t\t\ttext: app.vtranslate(response.message),\n\t\t\t\ttype: 'info'\n\t\t\t};\n\t\t\tVtiger_Helper_Js.showPnotify(params);\n\t\t}).fail(function (textStatus, errorThrown) {\n\t\t\tVtiger_Helper_Js.showPnotify({text: app.vtranslate('JS_COULD_NOT_FINNISH_REACTION')});\n\t\t\tapp.errorLog(textStatus, errorThrown);\n\t\t});\n\t},\n\tregisterSwitchEvents: function () {\n\t\tthis.getContainer().find('.js-switch--sent').on('change', (e) => {\n\t\t\t$(e.currentTarget).closest('.form-group').find('.selectedUsersForm').toggleClass('d-none');\n\t\t});\n\t},\n\tregisterEvents: function () {\n\t\tvar thisInstance = this;\n\t\tthisInstance.registerSwitchEvents();\n\t\tvar forms = thisInstance.getContainer().find('form');\n\t\tforms.on('submit', function (e) {\n\t\t\tvar form = jQuery(e.currentTarget);\n\t\t\tif (form.validationEngine('validate') == true) {\n\t\t\t\tvar paramsForm = form.serializeFormData();\n\t\t\t\tparamsForm['active'] = form.find('[name=\"active\"]').prop('checked') ? 1 : 0;\n\t\t\t\tparamsForm['sent'] = form.find('[name=\"sent\"]').prop('checked') ? 1 : 0;\n\t\t\t\tthisInstance.saveAjax(form.data('mode'), paramsForm);\n\t\t\t\treturn false;\n\t\t\t} else {\n\t\t\t\tapp.formAlignmentAfterValidation(form);\n\t\t\t}\n\t\t});\n\t\tforms.validationEngine(app.validationEngineOptions);\n\t\tjQuery('.unblock').on('click', function (e) {\n\t\t\tvar progressIndicatorElement = jQuery.progressIndicator({\n\t\t\t\t'position': 'html',\n\t\t\t\t'blockInfo': {\n\t\t\t\t\t'enabled': true\n\t\t\t\t}\n\t\t\t});\n\t\t\tvar element = jQuery(e.currentTarget);\n\t\t\tapp.saveAjax('unBlock', element.data('id')).done(function (data) {\n\t\t\t\tvar response = data.result;\n\t\t\t\tvar params = {text: app.vtranslate(response.message)};\n\t\t\t\tif (response.success) {\n\t\t\t\t\tparams.type = 'info';\n\t\t\t\t\telement.parents('tr').hide();\n\t\t\t\t}\n\t\t\t\tprogressIndicatorElement.progressIndicator({'mode': 'hide'});\n\t\t\t\tVtiger_Helper_Js.showPnotify(params);\n\t\t\t});\n\t\t});\n\t}\n});\n"],"names":["jQuery","Class","container","getContainer","saveAjax","mode","params","app","done","data","result","text","vtranslate","response","message","type","Vtiger_Helper_Js","showPnotify","fail","textStatus","errorThrown","errorLog","registerSwitchEvents","find","on","e","$","currentTarget","closest","toggleClass","registerEvents","thisInstance","forms","validationEngine","form","serializeFormData","prop","paramsForm","formAlignmentAfterValidation","validationEngineOptions","progressIndicator","element","success","parents","hide","progressIndicatorElement"],"mappings":"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"}