'use strict';

jQuery.Class('Settings_CustomView_Sorting_Js',{},{formElement:!1,registerButtonsEvent:function c(){var a=this,b=this.getForm();b.find('.js-clear').on('click',function(a){var b=jQuery(a.currentTarget);b.closest('.js-sort-container').find('[name="defaultOrderBy"]').val('').trigger('change');}),b.find('.js-sort-order-button').on('click',function(a){var c=jQuery(a.currentTarget);c.find('[data-fa-i2svg]').each(function(){jQuery(this).hasClass('d-none')?(jQuery(this).removeClass('d-none'),b.find('[name="sortOrder"]').val(jQuery(this).data('val'))):jQuery(this).addClass('d-none');});}),b.on('submit',function(b){var c=jQuery(b.currentTarget);a.saveSorting(c),b.preventDefault();});},saveSorting:function e(a){var b=$.progressIndicator({message:app.vtranslate('JS_SAVE_LOADER_INFO'),blockInfo:{enabled:!0}}),c=a.serializeFormData(),d={cvid:c.cvid,name:'sort',value:c.defaultOrderBy?c.defaultOrderBy+','+c.sortOrder:''};app.saveAjax('updateField',{},d).done(function(a){app.hideModalWindow(),a.success&&Vtiger_Helper_Js.showPnotify({text:a.result.message,type:'success'}),b.progressIndicator({mode:'hide'});});},getForm:function a(){return !1===this.formElement&&this.setForm(jQuery('#js-sorting-filter')),this.formElement},setForm:function b(a){return this.formElement=a,this},registerEvents:function a(){this.registerButtonsEvent();}}),jQuery(document).ready(function(){var a=new Settings_CustomView_Sorting_Js;a.registerEvents();});
//# sourceMappingURL=Sorting.min.js.map
