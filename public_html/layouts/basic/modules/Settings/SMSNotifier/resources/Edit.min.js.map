{"version":3,"file":"Edit.min.js","sources":["Edit.js"],"sourcesContent":["/* {[The file is published on the basis of YetiForce Public License 3.0 that can be found in the following directory: licenses/LicenseEN.txt or yetiforce.com]} */\n'use strict';\n\nVtiger_Edit_Js('Settings_SMSNotifier_Edit_Js', {}, {\n\tgetForm: function () {\n\t\tif (this.formElement == false) {\n\t\t\tthis.setForm(jQuery('#modalEdit'));\n\t\t}\n\t\treturn this.formElement;\n\t},\n\tregisterProviderTypeChangeEvent: function (form) {\n\t\tvar contents = this.getForm();\n\t\tcontents.find('[name=\"providertype\"]').on('change', function (e) {\n\t\t\tvar currentTarget = jQuery(e.currentTarget);\n\t\t\tvar selectedProviderName = currentTarget.val();\n\t\t\tcontents.find('form [data-provider]').remove();\n\t\t\tvar providerFields = contents.find('.providersFields [data-provider=\"' + selectedProviderName + '\"]').clone(true, true);\n\t\t\tcontents.find('.fieldsContainer').append(providerFields);\n\t\t\tApp.Fields.Picklist.showSelect2ElementView(providerFields.find('select').removeClass('chzn-select'));\n\t\t});\n\t},\n\tregisterEvents: function () {\n\t\tvar thisInstance = this;\n\t\tvar container = this.getForm();\n\t\tApp.Fields.Picklist.destroyChosenElement(container);\n\t\tcontainer.find('select').removeClass('select2');\n\t\tApp.Fields.Picklist.showSelect2ElementView(container.find('form select'));\n\t\tthis.registerBasicEvents(container);\n\t\tvar form = container.find('form');\n\t\tform.on('submit', function (e) {\n\t\t\te.preventDefault();\n\t\t\tif (form.validationEngine('validate')) {\n\t\t\t\tvar formData = form.serializeFormData();\n\t\t\t\tapp.saveAjax('', [], formData).done(function (data) {\n\t\t\t\t\tif (data.result) {\n\t\t\t\t\t\tSettings_Vtiger_Index_Js.showMessage({text: app.vtranslate('JS_SAVE_SUCCESS')});\n\t\t\t\t\t\tvar listInstance = Settings_Vtiger_List_Js.getInstance();\n\t\t\t\t\t\tlistInstance.getListViewRecords();\n\t\t\t\t\t} else {\n\t\t\t\t\t\tVtiger_Helper_Js.showPnotify(app.vtranslate('JS_ERROR'));\n\t\t\t\t\t}\n\t\t\t\t\tapp.hideModalWindow();\n\t\t\t\t});\n\t\t\t}\n\t\t});\n\t\tthisInstance.registerProviderTypeChangeEvent();\n\t}\n});\njQuery(document).ready(function (e) {\n\tvar instance = new Settings_SMSNotifier_Edit_Js();\n\tinstance.registerEvents();\n});\n"],"names":["Vtiger_Edit_Js","getForm","formElement","setForm","jQuery","registerProviderTypeChangeEvent","contents","find","on","e","currentTarget","selectedProviderName","val","remove","clone","append","providerFields","App","Fields","Picklist","showSelect2ElementView","removeClass","registerEvents","container","destroyChosenElement","registerBasicEvents","form","preventDefault","validationEngine","serializeFormData","app","saveAjax","formData","done","data","result","Settings_Vtiger_Index_Js","showMessage","text","vtranslate","Settings_Vtiger_List_Js","getInstance","listInstance","getListViewRecords","showPnotify","hideModalWindow","thisInstance","document","ready","instance"],"mappings":";;AAGAA,eAAe,8BAAf,CAA+C,EAA/C,CAAmD,CAClDC,QAAS,YAAY,CAIpB,OAHI,SAAKC,WAGT,EAFC,KAAKC,OAAL,CAAaC,OAAO,YAAP,CAAb,CAED,CAAO,KAAKF,WACZ,CANiD,CAOlDG,gCAAiC,YAAgB,CAChD,MAAe,KAAKJ,OAAL,EAAf,CACAK,EAASC,IAAT,CAAc,uBAAd,EAAuCC,EAAvC,CAA0C,QAA1C,CAAoD,SAAUC,CAAV,CAAa,OAC5CL,OAAOK,EAAEC,aAAT,CAD4C,CAE5DC,EAAuBD,EAAcE,GAAd,EAFqC,CAGhEN,EAASC,IAAT,CAAc,sBAAd,EAAsCM,MAAtC,EAHgE,CAIhE,MAAqBP,EAASC,IAAT,CAAc,oCAAsCI,CAAtC,CAA6D,IAA3E,EAAiFG,KAAjF,OAArB,CACAR,EAASC,IAAT,CAAc,kBAAd,EAAkCQ,MAAlC,CAAyCC,CAAzC,CALgE,CAMhEC,IAAIC,MAAJ,CAAWC,QAAX,CAAoBC,sBAApB,CAA2CJ,EAAeT,IAAf,CAAoB,QAApB,EAA8Bc,WAA9B,CAA0C,aAA1C,CAA3C,EACA,CAPD,EAQA,CAjBiD,CAkBlDC,eAAgB,YAAY,OACR,IADQ,CAEvBC,EAAY,KAAKtB,OAAL,EAFW,CAG3BgB,IAAIC,MAAJ,CAAWC,QAAX,CAAoBK,oBAApB,CAAyCD,CAAzC,CAH2B,CAI3BA,EAAUhB,IAAV,CAAe,QAAf,EAAyBc,WAAzB,CAAqC,SAArC,CAJ2B,CAK3BJ,IAAIC,MAAJ,CAAWC,QAAX,CAAoBC,sBAApB,CAA2CG,EAAUhB,IAAV,CAAe,aAAf,CAA3C,CAL2B,CAM3B,KAAKkB,mBAAL,CAAyBF,CAAzB,CAN2B,CAO3B,MAAWA,EAAUhB,IAAV,CAAe,MAAf,CAAX,CACAmB,EAAKlB,EAAL,CAAQ,QAAR,CAAkB,SAAUC,CAAV,CAAa,CAE9B,GADAA,EAAEkB,cAAF,EACA,CAAID,EAAKE,gBAAL,CAAsB,UAAtB,CAAJ,CAAuC,CACtC,MAAeF,EAAKG,iBAAL,EAAf,CACAC,IAAIC,QAAJ,CAAa,EAAb,CAAiB,EAAjB,CAAqBC,CAArB,EAA+BC,IAA/B,CAAoC,SAAUC,CAAV,CAAgB,CACnD,GAAIA,EAAKC,MAAT,CAAiB,CAChBC,yBAAyBC,WAAzB,CAAqC,CAACC,KAAMR,IAAIS,UAAJ,CAAe,iBAAf,CAAP,CAArC,CADgB,CAEhB,MAAmBC,wBAAwBC,WAAxB,EAAnB,CACAC,EAAaC,kBAAb,GACA,CAJD,sBAKkBC,WAAjB,CAA6Bd,IAAIS,UAAJ,CAAe,UAAf,CAA7B,CALD,CAOAT,IAAIe,eAAJ,GACA,CATD,EAUA,CACD,CAfD,CAR2B,CAwB3BC,EAAazC,+BAAb,GACA,CA3CiD,CAAnD,EA6CAD,OAAO2C,QAAP,EAAiBC,KAAjB,CAAuB,UAAa,CACnC,MAAe,gCAAf,CACAC,EAAS3B,cAAT,GACA,CAHD"}