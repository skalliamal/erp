'use strict';

Vtiger_List_Js('Settings_Vtiger_List_Js',{triggerDelete:function d(a,b){a.stopPropagation();var c=Vtiger_List_Js.getInstance();c.DeleteRecord(b);},deleteById:function e(a){var b=jQuery.Deferred(),c=Vtiger_List_Js.getInstance(),d=$.extend(c.getDeleteParams(),{record:a});return AppConnector.request(d).done(function(a){a.success&&($('#recordsCount').val(''),$('#totalPageCount').text(''),c.getListViewRecords().done(function(){c.updatePagination();})),b.resolve(a);}),b.promise()}},{getDeleteParams:function a(){return {module:app.getModuleName(),parent:app.getParentModuleName(),action:'DeleteAjax'}},getListViewContainer:function a(){return !1==this.listViewContainer&&(this.listViewContainer=jQuery('div.listViewContentDiv')),this.listViewContainer},DeleteRecord:function d(a){var b=this,c=jQuery.extend({"text-align":'left'},c);AppConnector.request(a).done(function(a){a&&app.showModalWindow(a,function(a){b.postDeleteAction(a);});});},postDeleteAction:function d(a){var b=this,c=jQuery(a).find('#DeleteModal');c.on('submit',function(a){a.preventDefault();var d=c.serializeFormData();AppConnector.request(d).done(function(){app.hideModalWindow();var a={text:app.vtranslate('JS_RECORD_DELETED_SUCCESSFULLY')};Settings_Vtiger_Index_Js.showMessage(a),jQuery('#recordsCount').val(''),jQuery('#totalPageCount').text(''),b.getListViewRecords().done(function(){b.updatePagination();});}).fail(function(){app.hideModalWindow();});});},getPageJumpParams:function e(){var a=app.getModuleName(),b=this.getCurrentCvId(),c={module:a,parent:'Settings',action:'ListAjax',mode:'getPageCount',viewname:b},d=jQuery('#moduleFilter').val();return 'undefined'!=typeof d&&(c.sourceModule=d),c},registerEvents:function a(){this.registerRowClickEvent(),this.registerCheckBoxClickEvent(),this.registerHeadersClickEvent(),this.registerPageNavigationEvents(),this.registerEventForTotalRecordsCount();}});
//# sourceMappingURL=List.min.js.map
