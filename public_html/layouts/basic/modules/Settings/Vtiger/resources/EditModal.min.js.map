{"version":3,"file":"EditModal.min.js","sources":["EditModal.js"],"sourcesContent":["/* {[The file is published on the basis of YetiForce Public License 3.0 that can be found in the following directory: licenses/LicenseEN.txt or yetiforce.com]} */\n'use strict';\n\nVtiger_Edit_Js('Settings_Vtiger_EditModal_Js', {}, {\n\tgetForm: function () {\n\t\tif (this.formElement == false) {\n\t\t\tthis.setForm(jQuery('#modalEditModal'));\n\t\t}\n\t\treturn this.formElement;\n\t},\n\tregisterEvents: function () {\n\t\tvar container = this.getForm();\n\t\tthis.registerBasicEvents(container);\n\t\tthis.registerSubmit();\n\t},\n\tregisterSubmit: function () {\n\t\tvar container = this.getForm();\n\t\tvar form = container.find('form');\n\t\tform.on('submit', function (e) {\n\t\t\te.preventDefault();\n\t\t\tif (form.validationEngine('validate')) {\n\t\t\t\tvar formData = form.serializeFormData();\n\t\t\t\tapp.saveAjax('', formData, {record: container.find('[name=\"record\"]').val()}).done(function (data) {\n\t\t\t\t\tif (data.result) {\n\t\t\t\t\t\tSettings_Vtiger_Index_Js.showMessage({text: app.vtranslate('JS_SAVE_SUCCESS')});\n\t\t\t\t\t\tvar moduleClassName = \"Settings_\" + app.getModuleName() + \"_List_Js\";\n\t\t\t\t\t\tif (typeof window[moduleClassName] === \"undefined\") {\n\t\t\t\t\t\t\tmoduleClassName = \"Settings_Vtiger_List_Js\";\n\t\t\t\t\t\t}\n\t\t\t\t\t\tvar instance = new window[moduleClassName]();\n\t\t\t\t\t\tinstance.getListViewRecords().done(function () {\n\t\t\t\t\t\t\tinstance.updatePagination();\n\t\t\t\t\t\t});\n\t\t\t\t\t} else {\n\t\t\t\t\t\tVtiger_Helper_Js.showPnotify(app.vtranslate('JS_ERROR'));\n\t\t\t\t\t}\n\t\t\t\t\tapp.hideModalWindow();\n\t\t\t\t});\n\t\t\t}\n\t\t});\n\t}\n});\njQuery(document).ready(function (e) {\n\tsetTimeout(function () {\n\t\tvar moduleClassName = \"Settings_\" + app.getModuleName() + \"_EditModal_Js\";\n\t\tif (typeof window[moduleClassName] === \"undefined\") {\n\t\t\tmoduleClassName = \"Settings_Vtiger_EditModal_Js\";\n\t\t}\n\t\tvar instance = new window[moduleClassName]();\n\t\tinstance.registerEvents();\n\t}, 200);\n});\n"],"names":["Vtiger_Edit_Js","getForm","formElement","setForm","jQuery","registerEvents","registerBasicEvents","container","registerSubmit","form","find","on","e","preventDefault","validationEngine","serializeFormData","app","saveAjax","formData","record","val","done","data","result","Settings_Vtiger_Index_Js","showMessage","text","vtranslate","getModuleName","moduleClassName","instance","getListViewRecords","updatePagination","showPnotify","hideModalWindow","document","ready","setTimeout"],"mappings":";;AAGAA,eAAe,8BAAf,CAA+C,EAA/C,CAAmD,CAClDC,QAAS,YAAY,CAIpB,OAHI,SAAKC,WAGT,EAFC,KAAKC,OAAL,CAAaC,OAAO,iBAAP,CAAb,CAED,CAAO,KAAKF,WACZ,CANiD,CAOlDG,eAAgB,YAAY,CAC3B,MAAgB,KAAKJ,OAAL,EAAhB,CACA,KAAKK,mBAAL,CAAyBC,CAAzB,CAF2B,CAG3B,KAAKC,cAAL,GACA,CAXiD,CAYlDA,eAAgB,YAAY,OACX,KAAKP,OAAL,EADW,CAEvBQ,EAAOF,EAAUG,IAAV,CAAe,MAAf,CAFgB,CAG3BD,EAAKE,EAAL,CAAQ,QAAR,CAAkB,SAAUC,CAAV,CAAa,CAE9B,GADAA,EAAEC,cAAF,EACA,CAAIJ,EAAKK,gBAAL,CAAsB,UAAtB,CAAJ,CAAuC,CACtC,MAAeL,EAAKM,iBAAL,EAAf,CACAC,IAAIC,QAAJ,CAAa,EAAb,CAAiBC,CAAjB,CAA2B,CAACC,OAAQZ,EAAUG,IAAV,CAAe,iBAAf,EAAkCU,GAAlC,EAAT,CAA3B,EAA8EC,IAA9E,CAAmF,SAAUC,CAAV,CAAgB,CAClG,GAAIA,EAAKC,MAAT,CAAiB,CAChBC,yBAAyBC,WAAzB,CAAqC,CAACC,KAAMV,IAAIW,UAAJ,CAAe,iBAAf,CAAP,CAArC,CADgB,CAEhB,MAAsB,YAAcX,IAAIY,aAAJ,EAAd,CAAoC,UAA1D,CACuC,WAAnC,gBAAcC,CAAP,CAHK,GAIfA,EAAkB,yBAJH,EAMhB,MAAe,WAAWA,CAAP,CAAnB,CACAC,EAASC,kBAAT,GAA8BV,IAA9B,CAAmC,UAAY,CAC9CS,EAASE,gBAAT,GACA,CAFD,EAGA,CAVD,sBAWkBC,WAAjB,CAA6BjB,IAAIW,UAAJ,CAAe,UAAf,CAA7B,CAXD,CAaAX,IAAIkB,eAAJ,GACA,CAfD,EAgBA,CACD,CArBD,EAsBA,CArCiD,CAAnD,EAuCA9B,OAAO+B,QAAP,EAAiBC,KAAjB,CAAuB,UAAa,CACnCC,WAAW,UAAY,CACtB,MAAsB,YAAcrB,IAAIY,aAAJ,EAAd,CAAoC,eAA1D,CACuC,WAAnC,gBAAcC,CAAP,CAFW,GAGrBA,EAAkB,8BAHG,EAKtB,MAAe,WAAWA,CAAP,CAAnB,CACAC,EAASzB,cAAT,GACA,CAPD,CAOG,GAPH,EAQA,CATD"}