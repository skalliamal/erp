{"version":3,"file":"Dav.min.js","sources":["Dav.js"],"sourcesContent":["/* {[The file is published on the basis of YetiForce Public License 3.0 that can be found in the following directory: licenses/LicenseEN.txt or yetiforce.com]} */\n'use strict';\n\njQuery.Class('Settings_Dav_Keys_Js', {}, {\n\t//This will store the MenuEditor Container\n\tmobileContainer: false,\n\t/**\n\t * Function to get the MenuEditor container\n\t */\n\tgetContainer: function () {\n\t\tif (this.mobileContainer == false) {\n\t\t\tthis.mobileContainer = jQuery('#DavKeysContainer');\n\t\t}\n\t\treturn this.mobileContainer;\n\t},\n\taddKey: function (e) {\n\t\tvar container = jQuery('#DavKeysContainer');\n\t\tvar editColorModal = container.find('.addKeyContainer');\n\t\tvar clonedContainer = editColorModal.clone(true, true);\n\t\tvar callBackFunction = function (data) {\n\t\t\tdata.find('.addKeyContainer').removeClass('d-none').show();\n\t\t\tApp.Fields.Picklist.showSelect2ElementView(data.find('.select')); // chzn-select select2\n\t\t\tdata.find('[name=\"saveButton\"]').on('click', function (e) {\n\t\t\t\tvar form = data.find('form');\n\t\t\t\tvar formData = form.serializeFormData();\n\t\t\t\tvar progress = $.progressIndicator({\n\t\t\t\t\tmessage: app.vtranslate('Adding a Key'),\n\t\t\t\t\tblockInfo: {\n\t\t\t\t\t\tenabled: true\n\t\t\t\t\t}\n\t\t\t\t});\n\t\t\t\tvar settingMobileInstance = new Settings_Dav_Keys_Js();\n\t\t\t\tsettingMobileInstance.registerSaveEvent('addKey', formData, true);\n\t\t\t\tprogress.progressIndicator({mode: 'hide'});\n\t\t\t});\n\t\t}\n\t\tapp.showModalWindow(clonedContainer, function (data) {\n\t\t\tif (typeof callBackFunction == 'function') {\n\t\t\t\tcallBackFunction(data);\n\t\t\t}\n\t\t}, {'width': '1000px'});\n\t},\n\tdeleteKey: function (e) {\n\t\tvar target = $(e.currentTarget);\n\t\tvar closestTrElement = target.closest('.js-tr-row');\n\t\tvar settingMobileInstance = new Settings_Dav_Keys_Js();\n\t\tsettingMobileInstance.registerSaveEvent('deleteKey', {\n\t\t\tuser: closestTrElement.data('user')\n\t\t});\n\t\tclosestTrElement.remove();\n\t},\n\tregisterSaveEvent: function (mode, data, reload) {\n\t\tvar params = {}\n\t\tparams.data = {\n\t\t\tmodule: app.getModuleName(),\n\t\t\tparent: app.getParentModuleName(),\n\t\t\taction: 'SaveAjax',\n\t\t\tmode: mode\n\t\t};\n\t\tif (typeof data !== \"undefined\") {\n\t\t\tfor (var i in data) {\n\t\t\t\tparams.data[i] = data[i];\n\t\t\t}\n\t\t}\n\t\tparams.async = false;\n\t\tparams.dataType = 'json';\n\t\tAppConnector.request(params).done(function (data) {\n\t\t\tvar response = data['result'];\n\t\t\tvar params = {\n\t\t\t\ttext: response['message'],\n\t\t\t};\n\t\t\tif (response.success == true) {\n\t\t\t\tparams.type = 'success'\n\t\t\t} else {\n\t\t\t\tparams.type = 'error'\n\t\t\t}\n\t\t\tVtiger_Helper_Js.showPnotify(params);\n\t\t\tif (reload == true && response.success == true) {\n\t\t\t\twindow.location.reload();\n\t\t\t}\n\t\t}).fail(function (data, err) {\n\t\t});\n\t},\n\tregisterEvents: function (e) {\n\t\tvar thisInstance = this;\n\t\tvar container = thisInstance.getContainer();\n\t\tcontainer.find('.js-add-key').on('click', thisInstance.addKey);\n\t\tcontainer.find('.js-delete-key').on('click', thisInstance.deleteKey);\n\t\tApp.Fields.Text.registerCopyClipboard(container);\n\t}\n});\n"],"names":["jQuery","Class","mobileContainer","getContainer","addKey","editColorModal","container","find","clonedContainer","clone","callBackFunction","data","removeClass","show","App","Fields","Picklist","showSelect2ElementView","on","formData","form","serializeFormData","progress","$","progressIndicator","message","app","vtranslate","blockInfo","enabled","settingMobileInstance","registerSaveEvent","mode","showModalWindow","deleteKey","e","currentTarget","closestTrElement","target","closest","user","remove","reload","module","getModuleName","parent","getParentModuleName","action","params","i","async","dataType","AppConnector","request","done","text","response","type","success","Vtiger_Helper_Js","showPnotify","window","location","fail","registerEvents","thisInstance","Text","registerCopyClipboard"],"mappings":"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"}