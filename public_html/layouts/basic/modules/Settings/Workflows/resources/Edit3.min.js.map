{"version":3,"file":"Edit3.min.js","sources":["Edit3.js"],"sourcesContent":["/*+***********************************************************************************\n * The contents of this file are subject to the vtiger CRM Public License Version 1.0\n * (\"License\"); You may not use this file except in compliance with the License\n * The Original Code is:  vtiger CRM Open Source\n * The Initial Developer of the Original Code is vtiger.\n * Portions created by vtiger are Copyright (C) vtiger.\n * All Rights Reserved.\n * Contributor(s): YetiForce.com\n *************************************************************************************/\n'use strict';\n\nSettings_Workflows_Edit_Js(\"Settings_Workflows_Edit3_Js\", {}, {\n\tstep3Container: false,\n\tadvanceFilterInstance: false,\n\tckEditorInstance: false,\n\tfieldValueMap: false,\n\tinit: function () {\n\t\tthis.initialize();\n\t},\n\t/**\n\t * Function to get the container which holds all the reports step1 elements\n\t * @return jQuery object\n\t */\n\tgetContainer: function () {\n\t\treturn this.step3Container;\n\t},\n\t/**\n\t * Function to set the reports step1 container\n\t * @params : element - which represents the reports step1 container\n\t * @return : current instance\n\t */\n\tsetContainer: function (element) {\n\t\tthis.step3Container = element;\n\t\treturn this;\n\t},\n\t/**\n\t * Function  to intialize the reports step1\n\t */\n\tinitialize: function (container) {\n\t\tif (typeof container === \"undefined\") {\n\t\t\tcontainer = $('#workflow_step3');\n\t\t}\n\t\tif (container.is('#workflow_step3')) {\n\t\t\tthis.setContainer(container);\n\t\t} else {\n\t\t\tthis.setContainer($('#workflow_step3'));\n\t\t}\n\t},\n\tregisterEditTaskEvent: function () {\n\t\tlet thisInstance = this,\n\t\t\tcontainer = this.getContainer();\n\t\tcontainer.on('click', '[data-url]', function (e) {\n\t\t\tlet currentElement = $(e.currentTarget),\n\t\t\t\tparams = currentElement.data('url'),\n\t\t\t\tprogressIndicatorElement = $.progressIndicator({\n\t\t\t\t\tposition: 'html',\n\t\t\t\t\tblockInfo: {\n\t\t\t\t\t\tenabled: true\n\t\t\t\t\t}\n\t\t\t\t});\n\t\t\tapp.showModalWindow(null, params, function (data) {\n\t\t\t\tprogressIndicatorElement.progressIndicator({'mode': 'hide'});\n\t\t\t\tif (data) {\n\t\t\t\t\tlet clipboard = App.Fields.Text.registerCopyClipboard(data);\n\t\t\t\t\tcontainer.one('hidden.bs.modal', () => {\n\t\t\t\t\t\tclipboard.destroy();\n\t\t\t\t\t});\n\t\t\t\t}\n\t\t\t\tthisInstance.registerVTCreateTodoTaskEvents();\n\t\t\t\tvar taskType = $('#taskType').val();\n\t\t\t\tvar functionName = 'register' + taskType + 'Events';\n\t\t\t\tif (typeof thisInstance[functionName] !== \"undefined\") {\n\t\t\t\t\tthisInstance[functionName].apply(thisInstance);\n\t\t\t\t}\n\t\t\t\tthisInstance.registerSaveTaskSubmitEvent(taskType);\n\t\t\t\t$('#saveTask').validationEngine(app.validationEngineOptions);\n\t\t\t\tthisInstance.registerFillTaskFieldsEvent();\n\t\t\t\tthisInstance.registerCheckSelectDateEvent();\n\t\t\t\tapp.showPopoverElementView($(data).find('.js-popover-tooltip'));\n\t\t\t});\n\n\t\t});\n\t},\n\tregisterCheckSelectDateEvent: function () {\n\t\t$('[name=\"check_select_date\"]').on('change', function (e) {\n\t\t\tif ($(e.currentTarget).is(':checked')) {\n\t\t\t\t$('#checkSelectDateContainer').removeClass('d-none').addClass('show');\n\t\t\t} else {\n\t\t\t\t$('#checkSelectDateContainer').removeClass('show').addClass('d-none');\n\t\t\t}\n\t\t});\n\t},\n\tregisterSaveTaskSubmitEvent: function (taskType) {\n\t\tvar thisInstance = this;\n\t\t$('#saveTask').on('submit', function (e) {\n\t\t\tvar form = $(e.currentTarget);\n\t\t\tvar validationResult = form.validationEngine('validate');\n\t\t\tif (validationResult == true) {\n\t\t\t\tvar customValidationFunctionName = taskType + 'CustomValidation';\n\t\t\t\tif (typeof thisInstance[customValidationFunctionName] !== \"undefined\") {\n\t\t\t\t\tvar result = thisInstance[customValidationFunctionName].apply(thisInstance);\n\t\t\t\t\tif (result != true) {\n\t\t\t\t\t\tvar params = {\n\t\t\t\t\t\t\ttitle: app.vtranslate('JS_MESSAGE'),\n\t\t\t\t\t\t\ttext: result,\n\t\t\t\t\t\t\ttype: 'error'\n\t\t\t\t\t\t}\n\t\t\t\t\t\tVtiger_Helper_Js.showPnotify(params);\n\t\t\t\t\t\te.preventDefault();\n\t\t\t\t\t\treturn;\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t\tvar preSaveActionFunctionName = 'preSave' + taskType;\n\t\t\t\tif (typeof thisInstance[preSaveActionFunctionName] !== \"undefined\") {\n\t\t\t\t\tthisInstance[preSaveActionFunctionName].apply(thisInstance, [taskType]);\n\t\t\t\t}\n\t\t\t\tvar params = form.serializeFormData();\n\t\t\t\tAppConnector.request(params).done(function (data) {\n\t\t\t\t\tif (data.result) {\n\t\t\t\t\t\tthisInstance.getTaskList();\n\t\t\t\t\t\tapp.hideModalWindow();\n\t\t\t\t\t}\n\t\t\t\t});\n\t\t\t}\n\t\t\te.preventDefault();\n\t\t})\n\t},\n\tVTUpdateFieldsTaskCustomValidation: function () {\n\t\treturn this.checkDuplicateFieldsSelected();\n\t},\n\tVTCreateEntityTaskCustomValidation: function () {\n\t\treturn this.checkDuplicateFieldsSelected();\n\t},\n\tcheckDuplicateFieldsSelected: function () {\n\t\tvar selectedFieldNames = $('#save_fieldvaluemapping').find('.js-conditions-row').find('[name=\"fieldname\"]');\n\t\tvar result = true;\n\t\tvar failureMessage = app.vtranslate('JS_SAME_FIELDS_SELECTED_MORE_THAN_ONCE');\n\t\t$.each(selectedFieldNames, function (i, ele) {\n\t\t\tvar fieldName = $(ele).attr(\"value\");\n\t\t\tvar fields = $(\"[name=\" + fieldName + \"]\").not(':hidden');\n\t\t\tif (fields.length > 1) {\n\t\t\t\tresult = failureMessage;\n\t\t\t\treturn false;\n\t\t\t}\n\t\t});\n\t\treturn result;\n\t},\n\tpreSaveVTUpdateFieldsTask: function (tasktype) {\n\t\tvar values = this.getValues(tasktype);\n\t\t$('[name=\"field_value_mapping\"]').val(JSON.stringify(values));\n\t},\n\tpreSaveVTCreateEntityTask: function (tasktype) {\n\t\tvar values = this.getValues(tasktype);\n\t\t$('[name=\"field_value_mapping\"]').val(JSON.stringify(values));\n\t},\n\tpreSaveVTEmailTask: function (tasktype) {\n\t\tvar textAreaElement = $('#content');\n\t\t//To keep the plain text value to the textarea which need to be\n\t\t//sent to server\n\t\ttextAreaElement.val(CKEDITOR.instances['content'].getData());\n\t},\n\tpreSaveVTUpdateRelatedFieldTask: function (tasktype) {\n\t\tvar values = this.getValues(tasktype);\n\t\t$('[name=\"field_value_mapping\"]').val(JSON.stringify(values));\n\t},\n\t/**\n\t * Function to check if the field selected is empty field\n\t * @params : select element which represents the field\n\t * @return : boolean true/false\n\t */\n\tisEmptyFieldSelected: function (fieldSelect) {\n\t\tvar selectedOption = fieldSelect.find('option:selected');\n\t\t//assumption that empty field will be having value none\n\t\tif (selectedOption.val() == 'none') {\n\t\t\treturn true;\n\t\t}\n\t\treturn false;\n\t},\n\tgetVTCreateEntityTaskFieldList: function () {\n\t\treturn new Array('fieldname', 'value', 'valuetype', 'modulename');\n\t},\n\tgetVTUpdateFieldsTaskFieldList: function () {\n\t\treturn new Array('fieldname', 'value', 'valuetype');\n\t},\n\tgetVTUpdateRelatedFieldTaskFieldList: function () {\n\t\treturn new Array('fieldname', 'value', 'valuetype');\n\t},\n\tgetValues: function (tasktype) {\n\t\tvar thisInstance = this;\n\t\tvar conditionsContainer = $('#save_fieldvaluemapping');\n\t\tvar fieldListFunctionName = 'get' + tasktype + 'FieldList';\n\t\tif (typeof thisInstance[fieldListFunctionName] !== \"undefined\") {\n\t\t\tvar fieldList = thisInstance[fieldListFunctionName].apply()\n\t\t}\n\n\t\tvar values = [];\n\t\tvar conditions = $('.js-conditions-row', conditionsContainer);\n\t\tconditions.each(function (i, conditionDomElement) {\n\t\t\tvar rowElement = $(conditionDomElement);\n\t\t\tvar fieldSelectElement = $('[name=\"fieldname\"]', rowElement);\n\t\t\tvar valueSelectElement = $('[data-value=\"value\"]', rowElement);\n\t\t\t//To not send empty fields to server\n\t\t\tif (thisInstance.isEmptyFieldSelected(fieldSelectElement)) {\n\t\t\t\treturn true;\n\t\t\t}\n\t\t\tvar fieldDataInfo = fieldSelectElement.find('option:selected').data('fieldinfo');\n\t\t\tvar fieldType = fieldDataInfo.type;\n\t\t\tvar rowValues = {};\n\t\t\tif (fieldType == 'owner') {\n\t\t\t\tfor (var key in fieldList) {\n\t\t\t\t\tvar field = fieldList[key];\n\t\t\t\t\tif (field == 'value' && valueSelectElement.is('select')) {\n\t\t\t\t\t\trowValues[field] = valueSelectElement.find('option:selected').val();\n\t\t\t\t\t} else {\n\t\t\t\t\t\trowValues[field] = $('[name=\"' + field + '\"]', rowElement).val();\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t} else if (fieldType == 'picklist' || fieldType == 'multipicklist') {\n\t\t\t\tfor (var key in fieldList) {\n\t\t\t\t\tvar field = fieldList[key];\n\t\t\t\t\tif (field == 'value' && valueSelectElement.is('input')) {\n\t\t\t\t\t\tvar commaSeperatedValues = valueSelectElement.val();\n\t\t\t\t\t\tvar pickListValues = valueSelectElement.data('picklistvalues');\n\t\t\t\t\t\tvar valuesArr = commaSeperatedValues.split(',');\n\t\t\t\t\t\tvar newvaluesArr = [];\n\t\t\t\t\t\tfor (i = 0; i < valuesArr.length; i++) {\n\t\t\t\t\t\t\tif (typeof pickListValues[valuesArr[i]] !== \"undefined\") {\n\t\t\t\t\t\t\t\tnewvaluesArr.push(pickListValues[valuesArr[i]]);\n\t\t\t\t\t\t\t} else {\n\t\t\t\t\t\t\t\tnewvaluesArr.push(valuesArr[i]);\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t}\n\t\t\t\t\t\tvar reconstructedCommaSeperatedValues = newvaluesArr.join(',');\n\t\t\t\t\t\trowValues[field] = reconstructedCommaSeperatedValues;\n\t\t\t\t\t} else if (field == 'value' && valueSelectElement.is('select') && fieldType == 'picklist') {\n\t\t\t\t\t\trowValues[field] = valueSelectElement.val();\n\t\t\t\t\t} else if (field == 'value' && valueSelectElement.is('select') && fieldType == 'multipicklist') {\n\t\t\t\t\t\tvar value = valueSelectElement.val();\n\t\t\t\t\t\tif (value == null) {\n\t\t\t\t\t\t\trowValues[field] = value;\n\t\t\t\t\t\t} else {\n\t\t\t\t\t\t\trowValues[field] = value.join(',');\n\t\t\t\t\t\t}\n\t\t\t\t\t} else {\n\t\t\t\t\t\trowValues[field] = $('[name=\"' + field + '\"]', rowElement).val();\n\t\t\t\t\t}\n\t\t\t\t}\n\n\t\t\t} else {\n\t\t\t\tfor (var key in fieldList) {\n\t\t\t\t\tvar field = fieldList[key];\n\t\t\t\t\tif (field == 'value') {\n\t\t\t\t\t\trowValues[field] = valueSelectElement.val();\n\t\t\t\t\t} else {\n\t\t\t\t\t\trowValues[field] = $('[name=\"' + field + '\"]', rowElement).val();\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t}\n\t\t\tif ($('[name=\"valuetype\"]', rowElement).val() == 'false' || ($('[name=\"valuetype\"]', rowElement).length == 0)) {\n\t\t\t\trowValues['valuetype'] = 'rawtext';\n\t\t\t}\n\n\t\t\tvalues.push(rowValues);\n\t\t});\n\t\treturn values;\n\t},\n\tgetTaskList: function () {\n\t\tvar container = this.getContainer();\n\t\tvar params = {\n\t\t\tmodule: app.getModuleName(),\n\t\t\tparent: app.getParentModuleName(),\n\t\t\tview: 'TasksList',\n\t\t\trecord: $('[name=\"record\"]', container).val()\n\t\t}\n\t\tvar progressIndicatorElement = $.progressIndicator({\n\t\t\t'position': 'html',\n\t\t\t'blockInfo': {\n\t\t\t\t'enabled': true\n\t\t\t}\n\t\t});\n\t\tAppConnector.request(params).done(function (data) {\n\t\t\t$('#taskListContainer').html(data);\n\t\t\tprogressIndicatorElement.progressIndicator({mode: 'hide'});\n\t\t});\n\t},\n\t/**\n\t * Function to get ckEditorInstance\n\t */\n\tgetckEditorInstance: function () {\n\t\tif (this.ckEditorInstance === false) {\n\t\t\tthis.ckEditorInstance = new App.Fields.Text.Editor();\n\t\t}\n\t\treturn this.ckEditorInstance;\n\t},\n\tregisterTaskStatusChangeEvent: function () {\n\t\tvar container = this.getContainer();\n\t\tcontainer.on('change', '.taskStatus', function (e) {\n\t\t\tvar currentStatusElement = $(e.currentTarget);\n\t\t\tvar url = currentStatusElement.data('statusurl');\n\t\t\tif (currentStatusElement.is(':checked')) {\n\t\t\t\turl = url + '&status=true';\n\t\t\t} else {\n\t\t\t\turl = url + '&status=false';\n\t\t\t}\n\t\t\tvar progressIndicatorElement = $.progressIndicator({\n\t\t\t\t'position': 'html',\n\t\t\t\t'blockInfo': {\n\t\t\t\t\t'enabled': true\n\t\t\t\t}\n\t\t\t});\n\t\t\tAppConnector.request(url).done(function (data) {\n\t\t\t\tif (data.result == \"ok\") {\n\t\t\t\t\tvar params = {\n\t\t\t\t\t\ttitle: app.vtranslate('JS_MESSAGE'),\n\t\t\t\t\t\ttext: app.vtranslate('JS_STATUS_CHANGED_SUCCESSFULLY'),\n\t\t\t\t\t\ttype: 'success'\n\t\t\t\t\t};\n\t\t\t\t\tVtiger_Helper_Js.showPnotify(params);\n\t\t\t\t}\n\t\t\t\tprogressIndicatorElement.progressIndicator({mode: 'hide'});\n\t\t\t});\n\t\t\te.stopImmediatePropagation();\n\t\t});\n\t},\n\tregisterTaskDeleteEvent: function () {\n\t\tvar thisInstance = this;\n\t\tvar container = this.getContainer();\n\t\tcontainer.on('click', '.deleteTask', function (e) {\n\t\t\tvar message = app.vtranslate('LBL_DELETE_CONFIRMATION');\n\t\t\tVtiger_Helper_Js.showConfirmationBox({\n\t\t\t\t'message': message\n\t\t\t}).done(function () {\n\t\t\t\tvar currentElement = $(e.currentTarget);\n\t\t\t\tvar deleteUrl = currentElement.data('deleteurl');\n\t\t\t\tAppConnector.request(deleteUrl).done(function (data) {\n\t\t\t\t\tif (data.result == 'ok') {\n\t\t\t\t\t\tthisInstance.getTaskList();\n\t\t\t\t\t\tvar params = {\n\t\t\t\t\t\t\ttitle: app.vtranslate('JS_MESSAGE'),\n\t\t\t\t\t\t\ttext: app.vtranslate('JS_TASK_DELETED_SUCCESSFULLY'),\n\t\t\t\t\t\t\ttype: 'success'\n\t\t\t\t\t\t};\n\t\t\t\t\t\tVtiger_Helper_Js.showPnotify(params);\n\t\t\t\t\t}\n\t\t\t\t});\n\t\t\t});\n\t\t});\n\t},\n\tregisterFillTaskFromEmailFieldEvent: function () {\n\t\t$('#saveTask').on('change', '#fromEmailOption', function (e) {\n\t\t\tvar currentElement = $(e.currentTarget);\n\t\t\tvar inputElement = currentElement.closest('.row').find('.fields');\n\t\t\tinputElement.val(currentElement.val());\n\t\t})\n\t},\n\tregisterFillTaskFieldsEvent: function () {\n\t\t$('#saveTask').on('change', '.task-fields', function (e) {\n\t\t\tvar currentElement = $(e.currentTarget);\n\t\t\tvar inputElement = currentElement.closest('.row').find('.fields');\n\t\t\tvar oldValue = inputElement.val();\n\t\t\tvar newValue = oldValue + currentElement.val();\n\t\t\tinputElement.val(newValue);\n\t\t})\n\t},\n\tregisterFillMailContentEvent: function () {\n\t\t$('#task-fieldnames,#task_timefields,#task-templates').on('change', function (e) {\n\t\t\tvar textarea = CKEDITOR.instances.content;\n\t\t\tvar value = $(e.currentTarget).val();\n\t\t\tif (textarea != undefined) {\n\t\t\t\ttextarea.insertHtml(value);\n\t\t\t} else if ($('textarea[name=\"content\"]')) {\n\t\t\t\tvar textArea = $('textarea[name=\"content\"]');\n\t\t\t\ttextArea.insertAtCaret(value);\n\t\t\t}\n\t\t});\n\t},\n\tregisterVTEmailTaskEvents: function () {\n\t\tvar textAreaElement = $('#content');\n\t\tvar ckEditorInstance = this.getckEditorInstance();\n\t\tckEditorInstance.loadEditor(textAreaElement);\n\t\tthis.registerFillMailContentEvent();\n\t\tthis.registerFillTaskFromEmailFieldEvent();\n\t\tthis.registerCcAndBccEvents();\n\t},\n\tregisterVTCreateTodoTaskEvents: function () {\n\t\tapp.registerEventForClockPicker();\n\t},\n\tregisterVTUpdateFieldsTaskEvents: function () {\n\t\tvar thisInstance = this;\n\t\tthis.registerAddFieldEvent();\n\t\tthis.registerDeleteConditionEvent();\n\t\tthis.registerFieldChange();\n\t\tthis.fieldValueMap = false;\n\t\tif ($('#fieldValueMapping').val() != '') {\n\t\t\tthis.fieldValueReMapping();\n\t\t}\n\t\tvar fields = $('#save_fieldvaluemapping').find('select[name=\"fieldname\"]');\n\t\t$.each(fields, function (i, field) {\n\t\t\tthisInstance.loadFieldSpecificUi($(field));\n\t\t});\n\t\tthis.getPopUp($('#saveTask'));\n\t},\n\tregisterVTUpdateRelatedFieldTaskEvents: function () {\n\t\tvar thisInstance = this;\n\t\tthis.registerAddFieldEvent();\n\t\tthis.registerDeleteConditionEvent();\n\t\tthis.registerFieldChange();\n\t\tthis.fieldValueMap = false;\n\t\tif ($('#fieldValueMapping').val() != '') {\n\t\t\tthis.fieldValueReMapping();\n\t\t}\n\t\tvar fields = $('#save_fieldvaluemapping').find('select[name=\"fieldname\"]');\n\t\t$.each(fields, function (i, field) {\n\t\t\tthisInstance.loadFieldSpecificUi($(field));\n\t\t});\n\t\tthis.getPopUp($('#saveTask'));\n\t},\n\tregisterAddFieldEvent: function () {\n\t\t$('#addFieldBtn').on('click', function (e) {\n\t\t\tvar newAddFieldContainer = $('.js-add-basic-field-container').clone(true, true).removeClass('js-add-basic-field-container d-none').addClass('js-conditions-row');\n\t\t\t$('select', newAddFieldContainer).addClass('select2');\n\t\t\t$('#save_fieldvaluemapping').append(newAddFieldContainer);\n\t\t\t//change in to chosen elements\n\t\t\tApp.Fields.Picklist.changeSelectElementView(newAddFieldContainer);\n\t\t});\n\t},\n\tregisterDeleteConditionEvent: function () {\n\t\t$('#saveTask').on('click', '.deleteCondition', function (e) {\n\t\t\t$(e.currentTarget).closest('.js-conditions-row').remove();\n\t\t});\n\t},\n\t/**\n\t * Function which will register field change event\n\t */\n\tregisterFieldChange: function () {\n\t\tvar thisInstance = this;\n\t\t$('#saveTask').on('change', 'select[name=\"fieldname\"]', function (e) {\n\t\t\tvar selectedElement = $(e.currentTarget);\n\t\t\tif (selectedElement.val() != 'none') {\n\t\t\t\tvar conditionRow = selectedElement.closest('.js-conditions-row');\n\t\t\t\tvar moduleNameElement = conditionRow.find('[name=\"modulename\"]');\n\t\t\t\tif (moduleNameElement.length > 0) {\n\t\t\t\t\tvar selectedOptionFieldInfo = selectedElement.find('option:selected').data('fieldinfo');\n\t\t\t\t\tvar type = selectedOptionFieldInfo.type;\n\t\t\t\t\tif (type == 'picklist' || type == 'multipicklist') {\n\t\t\t\t\t\tvar selectElement = $('select.createEntityModule:not(:disabled)');\n\t\t\t\t\t\tvar moduleName = selectElement.val();\n\t\t\t\t\t\tmoduleNameElement.val(moduleName).change().prop('disabled', true);\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t\tthisInstance.loadFieldSpecificUi(selectedElement);\n\t\t\t}\n\t\t});\n\t},\n\tgetModuleName: function () {\n\t\treturn app.getModuleName();\n\t},\n\tgetFieldValueMapping: function () {\n\t\tvar fieldValueMap = this.fieldValueMap;\n\t\tif (fieldValueMap != false) {\n\t\t\treturn fieldValueMap;\n\t\t} else {\n\t\t\treturn '';\n\t\t}\n\t},\n\tfieldValueReMapping: function () {\n\t\tvar object = JSON.parse($('#fieldValueMapping').val());\n\t\tvar fieldValueReMap = {};\n\n\t\t$.each(object, function (i, array) {\n\t\t\tfieldValueReMap[array.fieldname] = {};\n\t\t\tvar values = {}\n\t\t\t$.each(array, function (key, value) {\n\t\t\t\tvalues[key] = value;\n\t\t\t});\n\t\t\tfieldValueReMap[array.fieldname] = values\n\t\t});\n\t\tthis.fieldValueMap = fieldValueReMap;\n\t},\n\tloadFieldSpecificUi: function (fieldSelect) {\n\t\tvar selectedOption = fieldSelect.find('option:selected');\n\t\tvar row = fieldSelect.closest('div.js-conditions-row');\n\t\tvar fieldUiHolder = row.find('.fieldUiHolder');\n\t\tvar fieldInfo = selectedOption.data('fieldinfo');\n\t\tvar fieldValueMapping = this.getFieldValueMapping();\n\t\tvar selectField = '';\n\t\tif (fieldValueMapping && typeof fieldValueMapping[fieldInfo.name] !== \"undefined\") {\n\t\t\tselectField = fieldValueMapping[fieldInfo.name];\n\t\t} else if (fieldValueMapping && typeof fieldValueMapping[fieldSelect.val()] !== \"undefined\") {\n\t\t\tselectField = fieldValueMapping[fieldSelect.val()];\n\t\t}\n\t\tif (selectField) {\n\t\t\tfieldInfo.value = selectField['value'];\n\t\t\tfieldInfo.workflow_valuetype = selectField['valuetype'];\n\t\t} else {\n\t\t\tfieldInfo.workflow_valuetype = 'rawtext';\n\t\t}\n\t\tvar moduleName = this.getModuleName();\n\n\t\tvar fieldModel = Vtiger_Field_Js.getInstance(fieldInfo, moduleName);\n\t\tthis.fieldModelInstance = fieldModel;\n\t\tvar fieldSpecificUi = this.getFieldSpecificUi(fieldSelect);\n\t\t//remove validation since we dont need validations for all eleements\n\t\t// Both filter and find is used since we dont know whether the element is enclosed in some conainer like currency\n\t\tvar fieldName = fieldModel.getName();\n\t\tif (fieldModel.getType() == 'multipicklist') {\n\t\t\tfieldName = fieldName + \"[]\";\n\t\t}\n\t\tfieldSpecificUi.filter('[name=\"' + fieldName + '\"]').attr('data-value', 'value');\n\t\tfieldSpecificUi.find('[name=\"' + fieldName + '\"]').attr('data-value', 'value');\n\t\tfieldSpecificUi.filter('[name=\"valuetype\"]').removeAttr('data-validation-engine');\n\t\tfieldSpecificUi.find('[name=\"valuetype\"]').removeAttr('data-validation-engine');\n\t\t//If the workflowValueType is rawtext then only validation should happen\n\t\tvar workflowValueType = fieldSpecificUi.filter('[name=\"valuetype\"]').val();\n\t\tif (workflowValueType != 'rawtext' && typeof workflowValueType !== \"undefined\") {\n\t\t\tfieldSpecificUi.filter('[name=\"' + fieldName + '\"]').removeAttr('data-validation-engine');\n\t\t\tfieldSpecificUi.find('[name=\"' + fieldName + '\"]').removeAttr('data-validation-engine');\n\t\t}\n\t\tfieldUiHolder.html(fieldSpecificUi);\n\t\tif (fieldSpecificUi.is('input.select2')) {\n\t\t\tvar tagElements = fieldSpecificUi.data('tags');\n\t\t\tvar params = {tags: tagElements, tokenSeparators: [\",\"]}\n\t\t\tApp.Fields.Picklist.showSelect2ElementView(fieldSpecificUi, params)\n\t\t} else if (fieldSpecificUi.is('select')) {\n\t\t\tif (fieldSpecificUi.hasClass('chzn-select')) {\n\t\t\t\tApp.Fields.Picklist.showChoosenElementView(fieldSpecificUi);\n\t\t\t} else {\n\t\t\t\tApp.Fields.Picklist.showSelect2ElementView(fieldSpecificUi);\n\t\t\t}\n\t\t} else if (fieldSpecificUi.is('input.dateField')) {\n\t\t\tApp.Fields.Date.register(fieldSpecificUi);\n\t\t} else if (fieldSpecificUi.is('input.dateRangeField')) {\n\t\t\tApp.Fields.Date.registerRange(fieldSpecificUi, {ranges: false});\n\t\t}\n\t\treturn this;\n\t},\n\t/**\n\t * Functiont to get the field specific ui for the selected field\n\t * @prarms : fieldSelectElement - select element which will represents field list\n\t * @return : jquery object which represents the ui for the field\n\t */\n\tgetFieldSpecificUi: function (fieldSelectElement) {\n\t\tvar fieldModel = this.fieldModelInstance;\n\t\treturn $(fieldModel.getUiTypeSpecificHtml())\n\t},\n\tregisterVTCreateEventTaskEvents: function () {\n\t\tapp.registerEventForClockPicker();\n\t},\n\tregisterVTCreateEntityTaskEvents: function () {\n\t\tthis.registerChangeCreateEntityEvent();\n\t\tthis.registerVTUpdateFieldsTaskEvents();\n\t},\n\tregisterChangeCreateEntityEvent: function () {\n\t\tvar thisInstance = this;\n\t\t$('[name=\"mappingPanel\"]').on('change', function (e) {\n\t\t\tvar currentTarget = $(e.currentTarget);\n\t\t\tapp.setMainParams('mappingPanel', currentTarget.val())\n\t\t\t$('#addCreateEntityContainer').html('');\n\t\t\tvar hideElementByClass = $('.' + currentTarget.data('hide'));\n\t\t\tvar showElementByClass = $('.' + currentTarget.data('show'));\n\t\t\tvar taskFields = app.getMainParams('taskFields', true);\n\t\t\thideElementByClass.addClass('d-none').find('input,select').each(function (e, n) {\n\t\t\t\tvar element = $(this);\n\t\t\t\tvar name = element.attr('name');\n\t\t\t\tif ($.inArray(name, taskFields) >= 0) {\n\t\t\t\t\tif (element.is('select')) {\n\t\t\t\t\t\telement.val('').trigger('chosen:updated').change();\n\t\t\t\t\t}\n\t\t\t\t\telement.prop('disabled', true);\n\t\t\t\t}\n\t\t\t});\n\t\t\tshowElementByClass.removeClass('d-none').find('input,select').each(function (e, n) {\n\t\t\t\tvar element = $(this);\n\t\t\t\tvar name = element.attr('name');\n\t\t\t\tif ($.inArray(name, taskFields) >= 0) {\n\t\t\t\t\telement.prop('disabled', false);\n\t\t\t\t\tif (element.is('select')) {\n\t\t\t\t\t\telement.val('').trigger('chosen:updated').change();\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t});\n\t\t});\n\t\t$('.createEntityModule').on('change', function (e) {\n\t\t\tvar params = {\n\t\t\t\tmodule: app.getModuleName(),\n\t\t\t\tparent: app.getParentModuleName(),\n\t\t\t\tview: 'CreateEntity',\n\t\t\t\tfor_workflow: $('[name=\"for_workflow\"]').val(),\n\t\t\t\tmappingPanel: app.getMainParams('mappingPanel')\n\t\t\t}\n\t\t\tvar relatedModule = $(e.currentTarget).val();\n\t\t\tif (relatedModule) {\n\t\t\t\tparams['relatedModule'] = relatedModule;\n\t\t\t}\n\t\t\tvar progressIndicatorElement = $.progressIndicator({\n\t\t\t\tposition: 'html',\n\t\t\t\tblockInfo: {\n\t\t\t\t\tenabled: true\n\t\t\t\t}\n\t\t\t});\n\t\t\tAppConnector.request(params).done(function (data) {\n\t\t\t\tprogressIndicatorElement.progressIndicator({'mode': 'hide'})\n\t\t\t\tvar createEntityContainer = $('#addCreateEntityContainer');\n\t\t\t\tcreateEntityContainer.html(data);\n\t\t\t\tApp.Fields.Picklist.changeSelectElementView(createEntityContainer);\n\t\t\t\tApp.Fields.Picklist.showSelect2ElementView(createEntityContainer.find('.select2'));\n\t\t\t\tthisInstance.registerAddFieldEvent();\n\t\t\t\tthisInstance.fieldValueMap = false;\n\t\t\t\tif ($('#fieldValueMapping').val() != '') {\n\t\t\t\t\tthis.fieldValueReMapping();\n\t\t\t\t}\n\t\t\t\tvar fields = $('#save_fieldvaluemapping').find('select[name=\"fieldname\"]');\n\t\t\t\t$.each(fields, function (i, field) {\n\t\t\t\t\tthisInstance.loadFieldSpecificUi($(field));\n\t\t\t\t});\n\t\t\t});\n\t\t});\n\t},\n\t/**\n\t * Function which will change the UI styles based on recurring type\n\t * @params - recurringType - which recurringtype is selected\n\t */\n\tchangeRecurringTypesUIStyles: function (recurringType) {\n\t\tvar thisInstance = this;\n\t\tif (recurringType == 'Daily' || recurringType == 'Yearly') {\n\t\t\t$('#repeatWeekUI').removeClass('show').addClass('d-none');\n\t\t\t$('#repeatMonthUI').removeClass('show').addClass('d-none');\n\t\t} else if (recurringType == 'Weekly') {\n\t\t\t$('#repeatWeekUI').removeClass('d-none').addClass('show');\n\t\t\t$('#repeatMonthUI').removeClass('show').addClass('d-none');\n\t\t} else if (recurringType == 'Monthly') {\n\t\t\t$('#repeatWeekUI').removeClass('show').addClass('d-none');\n\t\t\t$('#repeatMonthUI').removeClass('d-none').addClass('show');\n\t\t}\n\t},\n\tcheckHiddenStatusofCcandBcc: function () {\n\t\tvar ccLink = $('#ccLink');\n\t\tvar bccLink = $('#bccLink');\n\t\tif (ccLink.hasClass('d-none') && bccLink.hasClass('d-none')) {\n\t\t\tccLink.closest('div.row').addClass('d-none');\n\t\t}\n\t},\n\t/*\n\t * Function to register the events for bcc and cc links\n\t */\n\tregisterCcAndBccEvents: function () {\n\t\tvar thisInstance = this;\n\t\t$('#ccLink').on('click', function (e) {\n\t\t\tvar ccContainer = $('#ccContainer');\n\t\t\tccContainer.removeClass('d-none');\n\t\t\tvar taskFieldElement = ccContainer.find('select.task-fields');\n\t\t\ttaskFieldElement.addClass('chzn-select');\n\t\t\tApp.Fields.Picklist.changeSelectElementView(taskFieldElement);\n\t\t\t$(e.currentTarget).addClass('d-none');\n\t\t\tthisInstance.checkHiddenStatusofCcandBcc();\n\t\t});\n\t\t$('#bccLink').on('click', function (e) {\n\t\t\tvar bccContainer = $('#bccContainer');\n\t\t\tbccContainer.removeClass('d-none');\n\t\t\tvar taskFieldElement = bccContainer.find('select.task-fields');\n\t\t\ttaskFieldElement.addClass('chzn-select');\n\t\t\tApp.Fields.Picklist.changeSelectElementView(taskFieldElement);\n\t\t\t$(e.currentTarget).addClass('d-none');\n\t\t\tthisInstance.checkHiddenStatusofCcandBcc();\n\t\t});\n\t},\n\tregisterEvents: function () {\n\t\tvar container = this.getContainer();\n\t\tApp.Fields.Picklist.changeSelectElementView(container);\n\t\tthis.registerEditTaskEvent();\n\t\tthis.registerTaskStatusChangeEvent();\n\t\tthis.registerTaskDeleteEvent();\n\t}\n});\n\n//http://stackoverflow.com/questions/946534/insert-text-into-textarea-with-jquery\n$.fn.extend({\n\tinsertAtCaret: function (myValue) {\n\t\treturn this.each(function (i) {\n\t\t\tif (document.selection) {\n\t\t\t\t//For browsers like Internet Explorer\n\t\t\t\tthis.focus();\n\t\t\t\tvar sel = document.selection.createRange();\n\t\t\t\tsel.text = myValue;\n\t\t\t\tthis.focus();\n\t\t\t} else if (this.selectionStart || this.selectionStart == '0') {\n\t\t\t\t//For browsers like Firefox and Webkit based\n\t\t\t\tvar startPos = this.selectionStart;\n\t\t\t\tvar endPos = this.selectionEnd;\n\t\t\t\tvar scrollTop = this.scrollTop;\n\t\t\t\tthis.value = this.value.substring(0, startPos) + myValue + this.value.substring(endPos, this.value.length);\n\t\t\t\tthis.focus();\n\t\t\t\tthis.selectionStart = startPos + myValue.length;\n\t\t\t\tthis.selectionEnd = startPos + myValue.length;\n\t\t\t\tthis.scrollTop = scrollTop;\n\t\t\t} else {\n\t\t\t\tthis.value += myValue;\n\t\t\t\tthis.focus();\n\t\t\t}\n\t\t});\n\t}\n});\n"],"names":["Settings_Workflows_Edit_Js","step3Container","advanceFilterInstance","ckEditorInstance","fieldValueMap","init","initialize","getContainer","setContainer","element","container","$","is","registerEditTaskEvent","on","e","currentTarget","params","currentElement","data","progressIndicatorElement","progressIndicator","position","blockInfo","enabled","app","showModalWindow","App","Fields","Text","registerCopyClipboard","one","clipboard","destroy","thisInstance","registerVTCreateTodoTaskEvents","val","functionName","taskType","apply","registerSaveTaskSubmitEvent","validationEngine","validationEngineOptions","registerFillTaskFieldsEvent","registerCheckSelectDateEvent","showPopoverElementView","find","removeClass","addClass","validationResult","form","customValidationFunctionName","title","vtranslate","text","result","type","showPnotify","preventDefault","preSaveActionFunctionName","serializeFormData","AppConnector","request","done","getTaskList","hideModalWindow","VTUpdateFieldsTaskCustomValidation","checkDuplicateFieldsSelected","VTCreateEntityTaskCustomValidation","failureMessage","each","selectedFieldNames","i","ele","attr","fields","fieldName","not","length","preSaveVTUpdateFieldsTask","tasktype","getValues","JSON","stringify","values","preSaveVTCreateEntityTask","preSaveVTEmailTask","textAreaElement","CKEDITOR","instances","getData","preSaveVTUpdateRelatedFieldTask","isEmptyFieldSelected","fieldSelect","getVTCreateEntityTaskFieldList","getVTUpdateFieldsTaskFieldList","getVTUpdateRelatedFieldTaskFieldList","conditionsContainer","fieldListFunctionName","conditions","conditionDomElement","fieldSelectElement","rowElement","valueSelectElement","fieldType","fieldDataInfo","rowValues","fieldList","key","field","pickListValues","valuesArr","commaSeperatedValues","split","newvaluesArr","push","join","reconstructedCommaSeperatedValues","value","module","getModuleName","parent","getParentModuleName","view","record","html","mode","getckEditorInstance","Editor","registerTaskStatusChangeEvent","url","currentStatusElement","Vtiger_Helper_Js","stopImmediatePropagation","registerTaskDeleteEvent","showConfirmationBox","message","deleteUrl","registerFillTaskFromEmailFieldEvent","inputElement","closest","oldValue","newValue","registerFillMailContentEvent","content","textarea","insertHtml","textArea","insertAtCaret","registerVTEmailTaskEvents","loadEditor","registerCcAndBccEvents","registerEventForClockPicker","registerVTUpdateFieldsTaskEvents","registerAddFieldEvent","registerDeleteConditionEvent","registerFieldChange","fieldValueReMapping","loadFieldSpecificUi","getPopUp","registerVTUpdateRelatedFieldTaskEvents","clone","newAddFieldContainer","append","Picklist","changeSelectElementView","remove","selectedElement","moduleNameElement","conditionRow","selectedOptionFieldInfo","moduleName","selectElement","change","prop","getFieldValueMapping","parse","fieldValueReMap","object","array","fieldname","row","fieldUiHolder","fieldInfo","selectedOption","fieldValueMapping","selectField","name","workflow_valuetype","fieldModel","Vtiger_Field_Js","getInstance","fieldModelInstance","getFieldSpecificUi","getName","getType","fieldSpecificUi","filter","removeAttr","showSelect2ElementView","tags","tagElements","tokenSeparators","hasClass","showChoosenElementView","Date","register","registerRange","ranges","getUiTypeSpecificHtml","registerVTCreateEventTaskEvents","registerVTCreateEntityTaskEvents","registerChangeCreateEntityEvent","setMainParams","showElementByClass","taskFields","getMainParams","hideElementByClass","inArray","trigger","for_workflow","mappingPanel","relatedModule","createEntityContainer","changeRecurringTypesUIStyles","recurringType","checkHiddenStatusofCcandBcc","bccLink","ccLink","ccContainer","taskFieldElement","bccContainer","registerEvents","fn","extend","myValue","document","selection","focus","createRange","sel","selectionStart","endPos","selectionEnd","scrollTop","substring","startPos"],"mappings":"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"}