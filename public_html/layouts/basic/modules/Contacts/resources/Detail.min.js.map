{"version":3,"file":"Detail.min.js","sources":["Detail.js"],"sourcesContent":["/*+***********************************************************************************\n * The contents of this file are subject to the vtiger CRM Public License Version 1.0\n * (\"License\"); You may not use this file except in compliance with the License\n * The Original Code is:  vtiger CRM Open Source\n * The Initial Developer of the Original Code is vtiger.\n * Portions created by vtiger are Copyright (C) vtiger.\n * All Rights Reserved.\n *************************************************************************************/\n'use strict';\n\nVtiger_Detail_Js(\"Contacts_Detail_Js\", {}, {\n\n\t/**\n\t * Function to register recordpresave event\n\t */\n\tregisterRecordPreSaveEvent: function (form) {\n\t\tvar thisInstance = this;\n\t\tvar primaryEmailField = jQuery('[name=\"email\"]');\n\t\tif (typeof form === \"undefined\") {\n\t\t\tform = this.getForm();\n\t\t}\n\n\t\tform.on(this.fieldPreSave, '[name=\"portal\"]', function (e, data) {\n\t\t\tvar portalField = jQuery(e.currentTarget);\n\n\t\t\tvar primaryEmailValue = primaryEmailField.val();\n\t\t\tvar isAlertAlreadyShown = jQuery('.ui-pnotify').length;\n\n\n\t\t\tif (portalField.is(':checked')) {\n\t\t\t\tif (primaryEmailField.length == 0) {\n\t\t\t\t\tif (isAlertAlreadyShown <= 0) {\n\t\t\t\t\t\tVtiger_Helper_Js.showPnotify(app.vtranslate('JS_PRIMARY_EMAIL_FIELD_DOES_NOT_EXISTS'));\n\t\t\t\t\t}\n\t\t\t\t\te.preventDefault();\n\t\t\t\t}\n\t\t\t\tif (primaryEmailValue == \"\") {\n\t\t\t\t\tif (isAlertAlreadyShown <= 0) {\n\t\t\t\t\t\tVtiger_Helper_Js.showPnotify(app.vtranslate('JS_PLEASE_ENTER_PRIMARY_EMAIL_VALUE_TO_ENABLE_PORTAL_USER'));\n\t\t\t\t\t}\n\t\t\t\t\te.preventDefault();\n\t\t\t\t}\n\t\t\t}\n\t\t});\n\t},\n\n\t/**\n\t * Function which will register all the events\n\t */\n\tregisterEvents: function () {\n\t\tvar form = this.getForm();\n\t\tthis._super();\n\t\tthis.registerRecordPreSaveEvent(form);\n\t}\n});\n"],"names":["Vtiger_Detail_Js","registerRecordPreSaveEvent","form","thisInstance","primaryEmailField","jQuery","getForm","on","fieldPreSave","e","currentTarget","primaryEmailValue","val","isAlertAlreadyShown","length","portalField","is","Vtiger_Helper_Js","showPnotify","app","vtranslate","preventDefault","registerEvents","_super"],"mappings":";;AAUAA,iBAAiB,oBAAjB,CAAuC,EAAvC,CAA2C,CAK1CC,2BAA4B,WAAUC,CAAV,CAAgB,CACvCC,IACAC,EAAoBC,OAAO,gBAAP,CAFmB,CAGvB,WAAhB,UAHuC,GAI1CH,EAAO,KAAKI,OAAL,EAJmC,EAO3CJ,EAAKK,EAAL,CAAQ,KAAKC,YAAb,CAA2B,iBAA3B,CAA8C,SAAUC,CAAV,CAAmB,OAC9CJ,OAAOI,EAAEC,aAAT,CAD8C,CAG5DC,EAAoBP,EAAkBQ,GAAlB,EAHwC,CAI5DC,EAAsBR,OAAO,aAAP,EAAsBS,MAJgB,CAO5DC,EAAYC,EAAZ,CAAe,UAAf,CAP4D,GAQ/B,CAA5B,IAAkBF,MARyC,GASnC,CAAvB,GAT0D,EAU7DG,iBAAiBC,WAAjB,CAA6BC,IAAIC,UAAJ,CAAe,wCAAf,CAA7B,CAV6D,CAY9DX,EAAEY,cAAF,EAZ8D,EActC,EAArB,GAd2D,GAenC,CAAvB,GAf0D,EAgB7DJ,iBAAiBC,WAAjB,CAA6BC,IAAIC,UAAJ,CAAe,2DAAf,CAA7B,CAhB6D,CAkB9DX,EAAEY,cAAF,EAlB8D,GAqBhE,CArBD,EAsBA,CAlCyC,CAuC1CC,eAAgB,YAAY,CAC3B,MAAW,KAAKhB,OAAL,EAAX,CACA,KAAKiB,MAAL,EAF2B,CAG3B,KAAKtB,0BAAL,CAAgCC,CAAhC,EACA,CA3CyC,CAA3C"}