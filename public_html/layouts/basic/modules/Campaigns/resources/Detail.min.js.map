{"version":3,"file":"Detail.min.js","sources":["Detail.js"],"sourcesContent":["/*+***********************************************************************************\n * The contents of this file are subject to the vtiger CRM Public License Version 1.0\n * (\"License\"); You may not use this file except in compliance with the License\n * The Original Code is:  vtiger CRM Open Source\n * The Initial Developer of the Original Code is vtiger.\n * Portions created by vtiger are Copyright (C) vtiger.\n * All Rights Reserved.\n * Contributor(s): YetiForce.com\n *************************************************************************************/\n'use strict';\n\nVtiger_Detail_Js(\"Campaigns_Detail_Js\", {}, {\n\t/**\n\t * Function to register email enabled actions\n\t */\n\tregisterEmailEnabledActions: function () {\n\t\tvar moduleName = app.getModuleName();\n\t\tvar className = moduleName + \"_List_Js\";\n\t\tvar listInstance = new window[className]();\n\t\tlistInstance.registerEvents();\n\t\tlistInstance.markSelectedRecords();\n\t},\n\tregisterEventForRelatedTabClick: function () {\n\t\tvar thisInstance = this;\n\t\tvar detailContentsHolder = thisInstance.getContentHolder();\n\t\tvar detailContainer = detailContentsHolder.closest('div.detailViewInfo');\n\t\tjQuery('.related', detailContainer).on('click', 'li', function (e, urlAttributes) {\n\t\t\tvar tabElement = jQuery(e.currentTarget);\n\t\t\tif (!tabElement.hasClass('dropdown')) {\n\t\t\t\tvar element = jQuery('<div></div>');\n\t\t\t\telement.progressIndicator({\n\t\t\t\t\t'position': 'html',\n\t\t\t\t\t'blockInfo': {\n\t\t\t\t\t\t'enabled': true,\n\t\t\t\t\t\t'elementToBlock': detailContainer\n\t\t\t\t\t}\n\t\t\t\t});\n\t\t\t\tvar url = tabElement.data('url');\n\t\t\t\tif (typeof urlAttributes !== \"undefined\") {\n\t\t\t\t\tvar callBack = urlAttributes.callback;\n\t\t\t\t\tdelete urlAttributes.callback;\n\t\t\t\t}\n\t\t\t\tthisInstance.loadContents(url, urlAttributes).done(\tfunction (data) {\n\t\t\t\t\t\tthisInstance.deSelectAllrelatedTabs();\n\t\t\t\t\t\tthisInstance.markTabAsSelected(tabElement);\n\t\t\t\t\t\tVtiger_Helper_Js.showHorizontalTopScrollBar();\n\t\t\t\t\t\tthisInstance.registerHelpInfo();\n\t\t\t\t\t\tapp.registerModal(detailContentsHolder);\n\t\t\t\t\t\tapp.registerMoreContent(detailContentsHolder.find('button.moreBtn'));\n\t\t\t\t\t\telement.progressIndicator({'mode': 'hide'});\n\t\t\t\t\t\tvar emailEnabledModule = jQuery(data).find('[name=\"emailEnabledModules\"]').val();\n\t\t\t\t\t\tif (emailEnabledModule) {\n\t\t\t\t\t\t\tvar listInstance = new Campaigns_List_Js();\n\t\t\t\t\t\t\tlistInstance.registerEvents();\n\t\t\t\t\t\t}\n\t\t\t\t\t\tif (typeof callBack == 'function') {\n\t\t\t\t\t\t\tcallBack(data);\n\t\t\t\t\t\t}\n\t\t\t\t\t\t//Summary tab is clicked\n\t\t\t\t\t\tif (tabElement.data('linkKey') == thisInstance.detailViewSummaryTabLabel) {\n\t\t\t\t\t\t\tthisInstance.loadWidgets();\n\t\t\t\t\t\t}\n\t\t\t\t\t\tthisInstance.registerBasicEvents();\n\t\t\t\t\t}\n\t\t\t\t).fail(function (error) {\n\t\t\t\t\telement.progressIndicator({'mode': 'hide'});\n\t\t\t\t});\n\t\t\t}\n\t\t});\n\t},\n\tregisterEvents: function () {\n\t\tthis._super();\n\t\t//Calling registerevents of campaigns list to handle checkboxs click of related records\n\t\tvar listInstance = Vtiger_List_Js.getInstance();\n\t\tlistInstance.registerEvents();\n\t\tvar thisInstance = this;\n\t\tapp.event.on('RelatedList.AfterLoad', function (event, instance) {\n\t\t\tvar response = instance.content;\n\t\t\tresponse.find('[name=\"selectedIds\"]').data('selectedIds', \"\");\n\t\t\tresponse.find('[name=\"excludedIds\"]').data('excludedIds', \"\");\n\t\t\tvar emailEnabledModule = response.find('[name=\"emailEnabledModules\"]').val();\n\t\t\tif (emailEnabledModule) {\n\t\t\t\tthisInstance.registerEmailEnabledActions();\n\t\t\t}\n\t\t});\n\t}\n});\n"],"names":["Vtiger_Detail_Js","registerEmailEnabledActions","app","getModuleName","listInstance","moduleName","registerEvents","markSelectedRecords","registerEventForRelatedTabClick","detailContentsHolder","thisInstance","getContentHolder","detailContainer","closest","jQuery","on","e","urlAttributes","currentTarget","tabElement","hasClass","element","progressIndicator","data","callback","loadContents","url","done","deSelectAllrelatedTabs","markTabAsSelected","Vtiger_Helper_Js","showHorizontalTopScrollBar","registerHelpInfo","registerModal","registerMoreContent","find","val","emailEnabledModule","callBack","detailViewSummaryTabLabel","loadWidgets","registerBasicEvents","fail","_super","Vtiger_List_Js","getInstance","event","instance","content","response"],"mappings":";;AAWAA,iBAAiB,qBAAjB,CAAwC,EAAxC,CAA4C,CAI3CC,4BAA6B,YAAY,OACvBC,IAAIC,aAAJ,EADuB,CAGpCC,EAAe,WADHC,EAAa,UACN,CAHiB,CAIxCD,EAAaE,cAAb,EAJwC,CAKxCF,EAAaG,mBAAb,GACA,CAV0C,CAW3CC,gCAAiC,YAAY,OACzB,IADyB,CAExCC,EAAuBC,EAAaC,gBAAb,EAFiB,CAGxCC,EAAkBH,EAAqBI,OAArB,CAA6B,oBAA7B,CAHsB,CAI5CC,OAAO,UAAP,CAAmBF,CAAnB,EAAoCG,EAApC,CAAuC,OAAvC,CAAgD,IAAhD,CAAsD,SAAUC,CAAV,CAAaC,CAAb,CAA4B,CACjF,MAAiBH,OAAOE,EAAEE,aAAT,CAAjB,CACA,GAAI,CAACC,EAAWC,QAAX,CAAoB,UAApB,CAAL,CAAsC,CACrC,MAAcN,OAAO,aAAP,CAAd,CACAO,EAAQC,iBAAR,CAA0B,CACzB,SAAY,MADa,CAEzB,UAAa,CACZ,UADY,CAEZ,eAAkBV,CAFN,CAFY,CAA1B,CAFqC,CASrC,MAAUO,EAAWI,IAAX,CAAgB,KAAhB,CAAV,CACA,GAA6B,WAAzB,UAAJ,CAA0C,CACzC,MAAeN,EAAcO,QAA7B,CACA,SAAqBA,SACrB,CACDd,EAAae,YAAb,CAA0BC,CAA1B,CAA+BT,CAA/B,EAA8CU,IAA9C,CAAoD,SAAUJ,CAAV,CAAgB,CAClEb,EAAakB,sBAAb,EADkE,CAElElB,EAAamB,iBAAb,CAA+BV,CAA/B,CAFkE,CAGlEW,iBAAiBC,0BAAjB,EAHkE,CAIlErB,EAAasB,gBAAb,EAJkE,CAKlE9B,IAAI+B,aAAJ,CAAkBxB,CAAlB,CALkE,CAMlEP,IAAIgC,mBAAJ,CAAwBzB,EAAqB0B,IAArB,CAA0B,gBAA1B,CAAxB,CANkE,CAOlEd,EAAQC,iBAAR,CAA0B,CAAC,KAAQ,MAAT,CAA1B,CAPkE,CAQlE,MAAyBR,OAAOS,CAAP,EAAaY,IAAb,CAAkB,gCAAlB,EAAkDC,GAAlD,EAAzB,CACA,GAAIC,CAAJ,CAAwB,CACvB,MAAmB,qBAAnB,CACAjC,EAAaE,cAAb,GACA,CACsB,UAAnB,UAb8D,EAcjEgC,EAASf,CAAT,CAdiE,CAiB9DJ,EAAWI,IAAX,CAAgB,SAAhB,GAA8Bb,EAAa6B,yBAjBmB,EAkBjE7B,EAAa8B,WAAb,EAlBiE,CAoBlE9B,EAAa+B,mBAAb,GACA,CArBF,EAsBEC,IAtBF,CAsBO,UAAiB,CACvBrB,EAAQC,iBAAR,CAA0B,CAAC,KAAQ,MAAT,CAA1B,EACA,CAxBD,EAyBA,CACD,CA1CD,EA2CA,CA1D0C,CA2D3ChB,eAAgB,YAAY,CAC3B,KAAKqC,MAAL,EAD2B,CAG3B,MAAmBC,eAAeC,WAAf,EAAnB,CACAzC,EAAaE,cAAb,EAJ2B,CAK3B,MAAmB,IAAnB,CACAJ,IAAI4C,KAAJ,CAAU/B,EAAV,CAAa,uBAAb,CAAsC,SAAU+B,CAAV,CAAiBC,CAAjB,CAA2B,CAChE,MAAeA,EAASC,OAAxB,CACAC,EAASd,IAAT,CAAc,wBAAd,EAAsCZ,IAAtC,CAA2C,aAA3C,CAA0D,EAA1D,CAFgE,CAGhE0B,EAASd,IAAT,CAAc,wBAAd,EAAsCZ,IAAtC,CAA2C,aAA3C,CAA0D,EAA1D,CAHgE,CAIhE,MAAyB0B,EAASd,IAAT,CAAc,gCAAd,EAA8CC,GAA9C,EAAzB,CACIC,CAL4D,EAM/D3B,EAAaT,2BAAb,GAED,CARD,EASA,CA1E0C,CAA5C"}