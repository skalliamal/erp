{"version":3,"file":"List.min.js","sources":["List.js"],"sourcesContent":["/*+***********************************************************************************\n * The contents of this file are subject to the vtiger CRM Public License Version 1.0\n * (\"License\"); You may not use this file except in compliance with the License\n * The Original Code is:  vtiger CRM Open Source\n * The Initial Developer of the Original Code is vtiger.\n * Portions created by vtiger are Copyright (C) vtiger.\n * All Rights Reserved.\n *************************************************************************************/\n'use strict';\n\nVtiger_List_Js(\"Campaigns_List_Js\", {}, {\n\n\treadSelectedIds: function (decode) {\n\t\tif (app.getViewName() != \"Detail\") {\n\t\t\treturn this._super(decode);\n\t\t}\n\t\tvar selectedIdsElement = jQuery('#selectedIds');\n\t\tvar selectedIdsDataAttr = 'selectedIds';\n\t\tvar selectedIdsElementDataAttributes = selectedIdsElement.data();\n\t\tvar selectedIds = selectedIdsElementDataAttributes[selectedIdsDataAttr];\n\t\tif (selectedIds == \"\") {\n\t\t\tselectedIds = [];\n\t\t\tthis.writeSelectedIds(selectedIds);\n\t\t} else {\n\t\t\tselectedIds = selectedIdsElementDataAttributes[selectedIdsDataAttr];\n\t\t}\n\t\tif (decode == true) {\n\t\t\tif (typeof selectedIds == 'object') {\n\t\t\t\treturn JSON.stringify(selectedIds);\n\t\t\t}\n\t\t}\n\t\treturn selectedIds;\n\t},\n\n\treadExcludedIds: function (decode) {\n\t\tif (app.getViewName() != \"Detail\") {\n\t\t\treturn this._super(decode);\n\t\t}\n\t\tvar exlcudedIdsElement = jQuery('#excludedIds');\n\t\tvar excludedIdsDataAttr = 'excludedIds';\n\t\tvar excludedIdsElementDataAttributes = exlcudedIdsElement.data();\n\t\tvar excludedIds = excludedIdsElementDataAttributes[excludedIdsDataAttr];\n\t\tif (excludedIds == \"\") {\n\t\t\texcludedIds = [];\n\t\t\tthis.writeExcludedIds(excludedIds);\n\t\t} else {\n\t\t\texcludedIds = excludedIdsElementDataAttributes[excludedIdsDataAttr];\n\t\t}\n\t\tif (decode == true) {\n\t\t\tif (typeof excludedIds == 'object') {\n\t\t\t\treturn JSON.stringify(excludedIds);\n\t\t\t}\n\t\t}\n\t\treturn excludedIds;\n\t},\n\n\twriteSelectedIds: function (selectedIds) {\n\t\tif (app.getViewName() != \"Detail\") {\n\t\t\tthis._super(selectedIds);\n\t\t\treturn;\n\t\t}\n\t\tjQuery('#selectedIds').data('selectedIds', selectedIds);\n\t},\n\n\twriteExcludedIds: function (excludedIds) {\n\t\tif (app.getViewName() != \"Detail\") {\n\t\t\tthis._super(excludedIds);\n\t\t\treturn;\n\t\t}\n\t\tjQuery('#excludedIds').data('excludedIds', excludedIds);\n\t},\n\n\t/**\n\t * Function to mark selected records\n\t */\n\tmarkSelectedRecords: function () {\n\t\tvar thisInstance = this;\n\t\tvar selectedIds = this.readSelectedIds();\n\t\tif (selectedIds != '') {\n\t\t\tif (selectedIds == 'all') {\n\t\t\t\tjQuery('.listViewEntriesCheckBox').each(function (index, element) {\n\t\t\t\t\tjQuery(this).prop('checked', true).closest('tr').addClass('highlightBackgroundColor');\n\t\t\t\t});\n\t\t\t\tjQuery('#deSelectAllMsgDiv').show();\n\t\t\t\tvar excludedIds = jQuery('[name=\"excludedIds\"]').data('excludedIds');\n\t\t\t\tif (excludedIds != '') {\n\t\t\t\t\tjQuery('#listViewEntriesMainCheckBox').prop('checked', false);\n\t\t\t\t\tjQuery('.listViewEntriesCheckBox').each(function (index, element) {\n\t\t\t\t\t\tif (jQuery.inArray(jQuery(element).val(), excludedIds) != -1) {\n\t\t\t\t\t\t\tjQuery(element).prop('checked', false).closest('tr').removeClass('highlightBackgroundColor');\n\t\t\t\t\t\t}\n\t\t\t\t\t});\n\t\t\t\t}\n\t\t\t} else {\n\t\t\t\tjQuery('.listViewEntriesCheckBox').each(function (index, element) {\n\t\t\t\t\tif (jQuery.inArray(jQuery(element).val(), selectedIds) != -1) {\n\t\t\t\t\t\tjQuery(this).prop('checked', true).closest('tr').addClass('highlightBackgroundColor');\n\t\t\t\t\t}\n\t\t\t\t});\n\t\t\t}\n\t\t\tthisInstance.checkSelectAll();\n\t\t}\n\t},\n\n\tgetRecordsCount: function () {\n\t\tif (app.getViewName() != \"Detail\") {\n\t\t\treturn this._super();\n\t\t}\n\t\tvar detailInstance = Vtiger_Detail_Js.getInstance();\n\t\tvar aDeferred = jQuery.Deferred();\n\t\tvar recordCountVal = jQuery(\"#recordsCount\").val();\n\t\tif (recordCountVal != '') {\n\t\t\taDeferred.resolve(recordCountVal);\n\t\t} else {\n\t\t\tvar count = '';\n\t\t\tvar cvId = jQuery('#recordsFilter').val();\n\t\t\tvar module = app.getModuleName();\n\t\t\tvar parent = app.getParentModuleName();\n\t\t\tvar relatedModuleName = jQuery('[name=\"relatedModuleName\"]').val();\n\t\t\tvar recordId = app.getRecordId();\n\t\t\tvar tab_label = detailInstance.getSelectedTab().data('labelKey');\n\t\t\tAppConnector.request({\n\t\t\t\t\"module\": module,\n\t\t\t\t\"parent\": parent,\n\t\t\t\t\"action\": \"DetailAjax\",\n\t\t\t\t\"viewname\": cvId,\n\t\t\t\t\"mode\": \"getRecordsCount\",\n\t\t\t\t\"relatedModule\": relatedModuleName,\n\t\t\t\t'record': recordId,\n\t\t\t\t'tab_label': tab_label\n\t\t\t}).done(function (data) {\n\t\t\t\tjQuery(\"#recordsCount\").val(data['result']['count']);\n\t\t\t\tcount = data['result']['count'];\n\t\t\t\taDeferred.resolve(count);\n\t\t\t});\n\t\t}\n\n\t\treturn aDeferred.promise();\n\t},\n\n\t/**\n\t * Function to register events\n\t */\n\tregisterEvents: function () {\n\t\tif (app.getViewName() != \"Detail\") {\n\t\t\tthis._super();\n\t\t\treturn;\n\t\t}\n\t\tthis.registerMainCheckBoxClickEvent();\n\t\tthis.registerCheckBoxClickEvent();\n\t\tthis.registerSelectAllClickEvent();\n\t\tthis.registerDeselectAllClickEvent();\n\t}\n});\n"],"names":["Vtiger_List_Js","readSelectedIds","decode","getViewName","_super","jQuery","selectedIdsElementDataAttributes","selectedIdsElement","data","selectedIds","writeSelectedIds","JSON","stringify","readExcludedIds","excludedIdsElementDataAttributes","exlcudedIdsElement","excludedIds","writeExcludedIds","markSelectedRecords","each","prop","closest","addClass","show","index","element","inArray","val","removeClass","thisInstance","checkSelectAll","getRecordsCount","Vtiger_Detail_Js","getInstance","aDeferred","Deferred","recordCountVal","resolve","cvId","module","app","getModuleName","parent","getParentModuleName","relatedModuleName","recordId","getRecordId","tab_label","detailInstance","getSelectedTab","AppConnector","request","done","count","promise","registerEvents","registerMainCheckBoxClickEvent","registerCheckBoxClickEvent","registerSelectAllClickEvent","registerDeselectAllClickEvent"],"mappings":"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"}