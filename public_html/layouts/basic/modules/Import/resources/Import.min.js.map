{"version":3,"file":"Import.min.js","sources":["Import.js"],"sourcesContent":["/*+**********************************************************************************\n * The contents of this file are subject to the vtiger CRM Public License Version 1.0\n * (\"License\"); You may not use this file except in compliance with the License\n * The Original Code is:  vtiger CRM Open Source\n * The Initial Developer of the Original Code is vtiger.\n * Portions created by vtiger are Copyright (C) vtiger.\n * All Rights Reserved.\n * Contributor(s): YetiForce.com\n ************************************************************************************/\n'use strict';\n\nif (typeof (ImportJs) === \"undefined\") {\n\t/*\n\t * Namespaced javascript class for Import\n\t */\n\tvar ImportJs = {\n\t\ttoogleMergeConfiguration: function () {\n\t\t\tvar mergeChecked = jQuery('#auto_merge').is(':checked');\n\t\t\tvar duplicateMergeConfiguration = jQuery('#duplicates_merge_configuration');\n\t\t\tif (mergeChecked) {\n\t\t\t\tduplicateMergeConfiguration.show();\n\t\t\t} else {\n\t\t\t\tduplicateMergeConfiguration.hide();\n\t\t\t}\n\t\t},\n\t\tcheckFileType: function () {\n\t\t\tvar filePath = jQuery('#import_file').val();\n\t\t\tif (filePath != '') {\n\t\t\t\tvar fileExtension = filePath.split('.').pop();\n\t\t\t\tjQuery('#type').val(fileExtension);\n\t\t\t\tImportJs.handleFileTypeChange();\n\t\t\t}\n\t\t},\n\t\thandleFileTypeChange: function () {\n\t\t\tvar fileType = jQuery('.js-type').val();\n\t\t\tvar delimiterContainer = jQuery('.js-delimiter-container');\n\t\t\tvar hasHeaderContainer = jQuery('.js-has-header-container');\n\t\t\tvar xmlTpl = jQuery('.js-xml-tpl');\n\t\t\tvar extension = jQuery('.js-zip-extension');\n\n\t\t\tswitch (fileType) {\n\t\t\t\tcase 'xml':\n\t\t\t\t\tdelimiterContainer.addClass('d-none');\n\t\t\t\t\thasHeaderContainer.addClass('d-none');\n\t\t\t\t\txmlTpl.removeClass('d-none');\n\t\t\t\t\textension.addClass('d-none');\n\t\t\t\t\tbreak;\n\t\t\t\tcase 'zip':\n\t\t\t\t\tdelimiterContainer.addClass('d-none');\n\t\t\t\t\thasHeaderContainer.addClass('d-none');\n\t\t\t\t\textension.removeClass('d-none');\n\t\t\t\t\tbreak;\n\t\t\t\tdefault:\n\t\t\t\t\tdelimiterContainer.removeClass('d-none');\n\t\t\t\t\thasHeaderContainer.removeClass('d-none');\n\t\t\t\t\textension.addClass('d-none');\n\t\t\t\t\txmlTpl.addClass('d-none');\n\t\t\t}\n\t\t},\n\t\tuploadAndParse: function () {\n\t\t\tif (!ImportJs.validateFilePath())\n\t\t\t\treturn false;\n\t\t\tif (!ImportJs.validateMergeCriteria())\n\t\t\t\treturn false;\n\t\t\treturn true;\n\t\t},\n\t\tregisterImportClickEvent() {\n\t\t\t$('#importButton').removeAttr('disabled').on('click', function (e) {\n\t\t\t\treturn ImportJs.sanitizeAndSubmit();\n\t\t\t});\n\t\t},\n\t\tvalidateFilePath: function () {\n\t\t\tvar importFile = jQuery('#import_file');\n\t\t\tvar filePath = importFile.val();\n\t\t\tif (jQuery.trim(filePath) == '') {\n\t\t\t\tvar errorMessage = app.vtranslate('JS_IMPORT_FILE_CAN_NOT_BE_EMPTY');\n\t\t\t\tvar params = {\n\t\t\t\t\ttext: errorMessage,\n\t\t\t\t\ttype: 'error'\n\t\t\t\t};\n\t\t\t\tVtiger_Helper_Js.showMessage(params);\n\t\t\t\timportFile.focus();\n\t\t\t\treturn false;\n\t\t\t}\n\t\t\tif (!ImportJs.uploadFilter(\"import_file\", \"csv|vcf|xml|zip\")) {\n\t\t\t\treturn false;\n\t\t\t}\n\t\t\tif (!ImportJs.uploadFileSize(\"import_file\")) {\n\t\t\t\treturn false;\n\t\t\t}\n\t\t\treturn true;\n\t\t},\n\t\tuploadFilter: function (elementId, allowedExtensions) {\n\t\t\tvar obj = jQuery('#' + elementId);\n\t\t\tif (obj) {\n\t\t\t\tvar filePath = obj.val();\n\t\t\t\tvar fileParts = filePath.toLowerCase().split('.');\n\t\t\t\tvar fileType = fileParts[fileParts.length - 1];\n\t\t\t\tvar validExtensions = allowedExtensions.toLowerCase().split('|');\n\n\t\t\t\tif (validExtensions.indexOf(fileType) < 0) {\n\t\t\t\t\tvar errorMessage = app.vtranslate('JS_SELECT_FILE_EXTENSION') + '\\n' + validExtensions;\n\t\t\t\t\tvar params = {\n\t\t\t\t\t\ttext: errorMessage,\n\t\t\t\t\t\ttype: 'error'\n\t\t\t\t\t};\n\t\t\t\t\tVtiger_Helper_Js.showMessage(params);\n\t\t\t\t\tobj.focus();\n\t\t\t\t\treturn false;\n\t\t\t\t}\n\t\t\t}\n\t\t\treturn true;\n\t\t},\n\t\tuploadFileSize: function (elementId) {\n\t\t\tvar element = jQuery('#' + elementId);\n\t\t\tvar importMaxUploadSize = element.closest('td').data('importUploadSize');\n\t\t\tvar importMaxUploadSizeInMb = element.closest('td').data('importUploadSizeMb');\n\t\t\tvar uploadedFileSize = element.get(0).files[0].size;\n\t\t\tif (uploadedFileSize > importMaxUploadSize) {\n\t\t\t\tvar errorMessage = app.vtranslate('JS_UPLOADED_FILE_SIZE_EXCEEDS') + \" \" + importMaxUploadSizeInMb + \" MB.\" + app.vtranslate('JS_PLEASE_SPLIT_FILE_AND_IMPORT_AGAIN');\n\t\t\t\tvar params = {\n\t\t\t\t\ttext: errorMessage,\n\t\t\t\t\ttype: 'error'\n\t\t\t\t};\n\t\t\t\tVtiger_Helper_Js.showMessage(params);\n\t\t\t\treturn false;\n\t\t\t}\n\t\t\treturn true;\n\t\t},\n\t\tvalidateMergeCriteria: function () {\n\t\t\tvar mergeChecked = jQuery('#auto_merge').is(':checked');\n\t\t\tif (mergeChecked) {\n\t\t\t\tvar selectedOptions = jQuery('#selected_merge_fields option');\n\t\t\t\tif (selectedOptions.length == 0) {\n\t\t\t\t\tvar errorMessage = app.vtranslate('JS_PLEASE_SELECT_ONE_FIELD_FOR_MERGE');\n\t\t\t\t\tvar params = {\n\t\t\t\t\t\ttext: errorMessage,\n\t\t\t\t\t\t'type': 'error'\n\t\t\t\t\t};\n\t\t\t\t\tVtiger_Helper_Js.showMessage(params);\n\t\t\t\t\treturn false;\n\t\t\t\t}\n\t\t\t}\n\t\t\tImportJs.convertOptionsToJSONArray('#selected_merge_fields', '#merge_fields');\n\t\t\treturn true;\n\t\t},\n\t\tconvertOptionsToJSONArray: function (objName, targetObjName) {\n\t\t\tvar obj = jQuery(objName);\n\t\t\tvar arr = [];\n\t\t\tif (typeof (obj) !== \"undefined\" && obj[0] != '') {\n\t\t\t\tfor (var i = 0; i < obj[0].length; ++i) {\n\t\t\t\t\tarr.push(obj[0].options[i].value);\n\t\t\t\t}\n\t\t\t}\n\t\t\tif (targetObjName !== \"undefined\") {\n\t\t\t\tvar targetObj = $(targetObjName);\n\t\t\t\tif (typeof (targetObj) !== \"undefined\")\n\t\t\t\t\ttargetObj.val(JSON.stringify(arr));\n\t\t\t}\n\t\t\treturn arr;\n\t\t},\n\t\tcopySelectedOptions: function (source, destination) {\n\n\t\t\tvar srcObj = jQuery(source);\n\t\t\tvar destObj = jQuery(destination);\n\n\t\t\tif (typeof (srcObj) === \"undefined\" || typeof (destObj) === \"undefined\")\n\t\t\t\treturn;\n\n\t\t\tfor (var i = 0; i < srcObj[0].length; i++) {\n\t\t\t\tif (srcObj[0].options[i].selected == true) {\n\t\t\t\t\tvar rowFound = false;\n\t\t\t\t\tvar existingObj = null;\n\t\t\t\t\tfor (var j = 0; j < destObj[0].length; j++) {\n\t\t\t\t\t\tif (destObj[0].options[j].value == srcObj[0].options[i].value) {\n\t\t\t\t\t\t\trowFound = true;\n\t\t\t\t\t\t\texistingObj = destObj[0].options[j];\n\t\t\t\t\t\t\tbreak;\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\n\t\t\t\t\tif (rowFound != true) {\n\t\t\t\t\t\tvar opt = $('<option selected>');\n\t\t\t\t\t\topt.attr('value', srcObj[0].options[i].value);\n\t\t\t\t\t\topt.text(srcObj[0].options[i].text);\n\t\t\t\t\t\tjQuery(destObj[0]).append(opt);\n\t\t\t\t\t\tsrcObj[0].options[i].selected = false;\n\t\t\t\t\t\trowFound = false;\n\t\t\t\t\t} else {\n\t\t\t\t\t\tif (existingObj != null)\n\t\t\t\t\t\t\texistingObj.selected = true;\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t}\n\t\t},\n\t\tremoveSelectedOptions: function (objName) {\n\t\t\tvar obj = jQuery(objName);\n\t\t\tif (obj == null || typeof (obj) === \"undefined\")\n\t\t\t\treturn;\n\n\t\t\tfor (var i = obj[0].options.length - 1; i >= 0; i--) {\n\t\t\t\tif (obj[0].options[i].selected == true) {\n\t\t\t\t\tobj[0].options[i] = null;\n\t\t\t\t}\n\t\t\t}\n\t\t},\n\t\tsanitizeAndSubmit: function () {\n\t\t\tif (!ImportJs.sanitizeFieldMapping())\n\t\t\t\treturn false;\n\t\t\tif (!ImportJs.validateCustomMap())\n\t\t\t\treturn false;\n\t\t\treturn true;\n\t\t},\n\t\tsanitizeFieldMapping: function () {\n\t\t\tvar fieldsList = jQuery('.fieldIdentifier');\n\t\t\tvar mappedFields = {};\n\t\t\tvar inventoryMappedFields = {};\n\t\t\tvar errorMessage;\n\t\t\tvar params = {};\n\t\t\tvar mappedDefaultValues = {};\n\t\t\tfor (var i = 0; i < fieldsList.length; ++i) {\n\t\t\t\tvar fieldElement = jQuery(fieldsList.get(i));\n\t\t\t\tvar rowId = jQuery('[name=row_counter]', fieldElement).get(0).value;\n\t\t\t\tvar selectElement = jQuery('select', fieldElement);\n\t\t\t\tvar selectedFieldElement = selectElement.find('option:selected');\n\t\t\t\tvar selectedFieldName = selectedFieldElement.val();\n\t\t\t\tvar selectedFieldDefaultValueElement = jQuery('#' + selectedFieldName + '_defaultvalue', fieldElement);\n\t\t\t\tvar defaultValue = '';\n\t\t\t\tif (selectedFieldDefaultValueElement.attr('type') == 'checkbox') {\n\t\t\t\t\tdefaultValue = selectedFieldDefaultValueElement.is(':checked');\n\t\t\t\t} else {\n\t\t\t\t\tdefaultValue = selectedFieldDefaultValueElement.val();\n\t\t\t\t}\n\t\t\t\tif (selectedFieldName != '') {\n\t\t\t\t\tvar stopImmediately;\n\t\t\t\t\tif (selectElement.hasClass('inventory')) {\n\t\t\t\t\t\tstopImmediately = ImportJs.checkIfMappedFieldExist(selectedFieldName, inventoryMappedFields, selectedFieldElement);\n\t\t\t\t\t\tinventoryMappedFields[selectedFieldName] = rowId - 1;\n\t\t\t\t\t} else {\n\t\t\t\t\t\tstopImmediately = ImportJs.checkIfMappedFieldExist(selectedFieldName, mappedFields, selectedFieldElement);\n\t\t\t\t\t\tmappedFields[selectedFieldName] = rowId - 1;\n\t\t\t\t\t}\n\t\t\t\t\tif (stopImmediately) {\n\t\t\t\t\t\treturn false;\n\t\t\t\t\t}\n\t\t\t\t\tif (defaultValue != '') {\n\t\t\t\t\t\tmappedDefaultValues[selectedFieldName] = defaultValue;\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t}\n\n\t\t\tvar mandatoryFields = JSON.parse(jQuery('#mandatory_fields').val());\n\t\t\tvar moduleName = app.getModuleName();\n\t\t\tvar missingMandatoryFields = [];\n\t\t\tfor (var mandatoryFieldName in mandatoryFields) {\n\t\t\t\tif (mandatoryFieldName in mappedFields) {\n\t\t\t\t\tcontinue;\n\t\t\t\t} else {\n\t\t\t\t\tmissingMandatoryFields.push('\"' + mandatoryFields[mandatoryFieldName] + '\"');\n\t\t\t\t}\n\t\t\t}\n\t\t\tif (missingMandatoryFields.length > 0) {\n\t\t\t\terrorMessage = app.vtranslate('JS_MAP_MANDATORY_FIELDS') + missingMandatoryFields.join(',');\n\t\t\t\tparams = {\n\t\t\t\t\ttext: errorMessage,\n\t\t\t\t\t'type': 'error'\n\t\t\t\t};\n\t\t\t\tVtiger_Helper_Js.showMessage(params);\n\t\t\t\treturn false;\n\t\t\t}\n\t\t\tjQuery('#field_mapping').val(JSON.stringify(mappedFields));\n\t\t\tjQuery('#inventory_field_mapping').val(JSON.stringify(inventoryMappedFields));\n\t\t\tjQuery('#default_values').val(JSON.stringify(mappedDefaultValues));\n\t\t\treturn true;\n\t\t},\n\t\tcheckIfMappedFieldExist: function (selectedFieldName, mappedFields, selectedFieldElement) {\n\t\t\tif (selectedFieldName in mappedFields) {\n\t\t\t\tvar errorMessage = app.vtranslate('JS_FIELD_MAPPED_MORE_THAN_ONCE') + \" \" + selectedFieldElement.data('label');\n\t\t\t\tvar params = {\n\t\t\t\t\ttext: errorMessage,\n\t\t\t\t\t'type': 'error'\n\t\t\t\t};\n\t\t\t\tVtiger_Helper_Js.showMessage(params);\n\t\t\t\treturn true;\n\t\t\t}\n\t\t\treturn false;\n\t\t},\n\t\tvalidateCustomMap: function () {\n\t\t\tvar errorMessage;\n\t\t\tvar params = {};\n\t\t\tvar saveMap = jQuery('#save_map').is(':checked');\n\t\t\tif (saveMap) {\n\t\t\t\tvar mapName = jQuery('#save_map_as').val();\n\t\t\t\tif (jQuery.trim(mapName) == '') {\n\t\t\t\t\terrorMessage = app.vtranslate('JS_MAP_NAME_CAN_NOT_BE_EMPTY');\n\t\t\t\t\tparams = {\n\t\t\t\t\t\ttext: errorMessage,\n\t\t\t\t\t\t'type': 'error'\n\t\t\t\t\t};\n\t\t\t\t\tVtiger_Helper_Js.showMessage(params);\n\t\t\t\t\treturn false;\n\t\t\t\t}\n\t\t\t\tvar mapOptions = jQuery('#saved_maps option');\n\t\t\t\tfor (var i = 0; i < mapOptions.length; ++i) {\n\t\t\t\t\tvar mapOption = jQuery(mapOptions.get(i));\n\t\t\t\t\tif (mapOption.html() == mapName) {\n\t\t\t\t\t\terrorMessage = app.vtranslate('JS_MAP_NAME_ALREADY_EXISTS');\n\t\t\t\t\t\tparams = {\n\t\t\t\t\t\t\ttext: errorMessage,\n\t\t\t\t\t\t\t'type': 'error'\n\t\t\t\t\t\t};\n\t\t\t\t\t\tVtiger_Helper_Js.showMessage(params);\n\t\t\t\t\t\treturn false;\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t}\n\t\t\treturn true;\n\t\t},\n\t\tloadSavedMap: function () {\n\t\t\tvar selectedMapElement = jQuery('#saved_maps option:selected');\n\t\t\tvar mapId = selectedMapElement.attr('id');\n\t\t\tvar fieldsList = jQuery('.fieldIdentifier');\n\t\t\tvar deleteMapContainer = jQuery('#delete_map_container');\n\t\t\tfieldsList.each(function (i, element) {\n\t\t\t\tvar fieldElement = jQuery(element);\n\t\t\t\tjQuery('[name=mapped_fields]', fieldElement).val('');\n\t\t\t});\n\t\t\tif (mapId == -1) {\n\t\t\t\tdeleteMapContainer.hide();\n\t\t\t\treturn;\n\t\t\t}\n\t\t\tdeleteMapContainer.show();\n\t\t\tvar mappingString = selectedMapElement.val();\n\t\t\tif (mappingString == '')\n\t\t\t\treturn;\n\t\t\tvar mappingPairs = mappingString.split('&');\n\t\t\tvar mapping = {};\n\t\t\tfor (var i = 0; i < mappingPairs.length; ++i) {\n\t\t\t\tvar mappingPair = mappingPairs[i].split('=');\n\t\t\t\tvar header = mappingPair[0];\n\t\t\t\theader = header.replace(/\\/eq\\//g, '=');\n\t\t\t\theader = header.replace(/\\/amp\\//g, '&');\n\t\t\t\tmapping[\"'\" + header + \"'\"] = mappingPair[1];\n\t\t\t}\n\t\t\tfieldsList.each(function (i, element) {\n\t\t\t\tvar fieldElement = jQuery(element);\n\t\t\t\tvar mappedFields = jQuery('[name=mapped_fields]', fieldElement);\n\t\t\t\tvar rowId = jQuery('[name=row_counter]', fieldElement).get(0).value;\n\t\t\t\tvar headerNameElement = jQuery('[name=header_name]', fieldElement).get(0);\n\t\t\t\tvar headerName = jQuery(headerNameElement).html();\n\t\t\t\tif (\"'\" + headerName + \"'\" in mapping) {\n\t\t\t\t\tmappedFields.val(mapping[\"'\" + headerName + \"'\"]);\n\t\t\t\t} else if (rowId in mapping) {\n\t\t\t\t\tmappedFields.val($rowId);\n\t\t\t\t}\n\t\t\t\tmappedFields.trigger('chosen:updated');\n\t\t\t\tImportJs.loadDefaultValueWidget(fieldElement.attr('id'));\n\t\t\t});\n\t\t},\n\t\tdeleteMap: function (module) {\n\t\t\tif (confirm(app.vtranslate('LBL_DELETE_CONFIRMATION'))) {\n\t\t\t\tvar selectedMapElement = jQuery('#saved_maps option:selected');\n\t\t\t\tvar mapId = selectedMapElement.attr('id');\n\t\t\t\tvar status = jQuery('#status');\n\t\t\t\tstatus.show();\n\t\t\t\tvar postData = {\n\t\t\t\t\t\"module\": module,\n\t\t\t\t\t\"view\": 'Import',\n\t\t\t\t\t\"mode\": 'deleteMap',\n\t\t\t\t\t\"mapid\": mapId\n\t\t\t\t};\n\n\t\t\t\tAppConnector.request(postData).done(function (data) {\n\t\t\t\t\tjQuery('#savedMapsContainer').html(data);\n\t\t\t\t\tstatus.hide();\n\t\t\t\t\tvar parent = jQuery(\"#saved_maps\");\n\t\t\t\t\tApp.Fields.Picklist.changeSelectElementView(parent);\n\t\t\t\t}).fail(function (error, err) {\n\t\t\t\t\tconsole.error(error)\n\t\t\t\t});\n\t\t\t}\n\t\t},\n\t\tloadDefaultValueWidget: function (rowIdentifierId) {\n\t\t\tvar affectedRow = jQuery('#' + rowIdentifierId);\n\t\t\tif (typeof affectedRow === \"undefined\" || affectedRow == null)\n\t\t\t\treturn;\n\t\t\tvar selectedFieldElement = jQuery('[name=mapped_fields]', affectedRow).get(0);\n\t\t\tvar selectedFieldName = jQuery(selectedFieldElement).val();\n\t\t\tvar defaultValueContainer = jQuery(jQuery('[name=default_value_container]', affectedRow).get(0));\n\t\t\tvar allDefaultValuesContainer = jQuery('#defaultValuesElementsContainer');\n\t\t\tif (defaultValueContainer.children.length > 0) {\n\t\t\t\tvar copyOfDefaultValueWidget = jQuery(':first', defaultValueContainer).detach();\n\t\t\t\tcopyOfDefaultValueWidget.appendTo(allDefaultValuesContainer);\n\t\t\t}\n\t\t\tvar selectedFieldDefValueContainer = jQuery('#' + selectedFieldName + '_defaultvalue_container', allDefaultValuesContainer);\n\t\t\tvar defaultValueWidget = selectedFieldDefValueContainer.detach();\n\t\t\tdefaultValueWidget.appendTo(defaultValueContainer);\n\t\t},\n\t\tloadDefaultValueWidgetForMappedFields: function () {\n\t\t\tvar fieldsList = jQuery('.fieldIdentifier');\n\t\t\tfieldsList.each(function (i, element) {\n\t\t\t\tvar fieldElement = jQuery(element);\n\t\t\t\tvar mappedFieldName = jQuery('[name=mapped_fields]', fieldElement).val();\n\t\t\t\tif (mappedFieldName != '') {\n\t\t\t\t\tImportJs.loadDefaultValueWidget(fieldElement.attr('id'));\n\t\t\t\t}\n\t\t\t});\n\n\t\t},\n\t\tsubmitAction: function () {\n\t\t\tvar form = jQuery('[name=\"importAdvanced\"]');\n\t\t\tform.on('submit', function () {\n\t\t\t\tvar progressIndicatorElement = jQuery.progressIndicator({\n\t\t\t\t\t'message': app.vtranslate('JS_SAVE_LOADER_INFO'),\n\t\t\t\t\t'position': 'html',\n\t\t\t\t\t'blockInfo': {\n\t\t\t\t\t\t'enabled': true\n\t\t\t\t\t}\n\t\t\t\t});\n\t\t\t});\n\t\t},\n\t\topenListInModal: function () {\n\t\t\t$('.js-open-list-in-modal').on('click', function () {\n\t\t\t\tlet element = $(this),\n\t\t\t\t\tmoduleName = element.data('module-name'),\n\t\t\t\t\ttype = '',\n\t\t\t\t\tforUser = element.data('for-user'),\n\t\t\t\t\tforModule = element.data('for-module');\n\t\t\t\tif ($(this).attr('data-type') !== '') {\n\t\t\t\t\ttype = '&type=' + element.data('type');\n\t\t\t\t}\n\t\t\t\tapp.showModalWindow(null, 'index.php?module=' + moduleName + '&view=List&mode=getImportDetails' + type + '&start=1&foruser=' + forUser + '&forModule=' + forModule, function (data) {\n\t\t\t\t\tlet container = data.find('.listViewEntriesDiv'),\n\t\t\t\t\t\tcontainerH = container.height(),\n\t\t\t\t\t\tcontainerOffsetTop = container.offset().top,\n\t\t\t\t\t\tfooterH = $('.js-footer').height(),\n\t\t\t\t\t\twindowH = $(window).height();\n\t\t\t\t\tif ($(window).width() > app.breakpoints.sm) {\n\t\t\t\t\t\tif ((containerH + containerOffsetTop + footerH) > windowH) {\n\t\t\t\t\t\t\tcontainer.height(windowH - (containerOffsetTop + footerH));\n\t\t\t\t\t\t}\n\t\t\t\t\t\tapp.showNewScrollbarTopBottomRight(container);\n\t\t\t\t\t}\n\t\t\t\t});\n\t\t\t});\n\t\t}\n\t};\n\n\tjQuery(document).ready(function () {\n\t\tImportJs.toogleMergeConfiguration();\n\t\tImportJs.openListInModal();\n\t\tImportJs.submitAction();\n\t\tImportJs.loadDefaultValueWidgetForMappedFields();\n\t\tImportJs.registerImportClickEvent();\n\t\tApp.Fields.Date.register(jQuery('.contentsDiv'));\n\t});\n}\n"],"names":["toogleMergeConfiguration","jQuery","is","duplicateMergeConfiguration","mergeChecked","show","hide","checkFileType","val","filePath","split","pop","fileExtension","ImportJs","handleFileTypeChange","delimiterContainer","hasHeaderContainer","xmlTpl","extension","fileType","addClass","removeClass","uploadAndParse","validateFilePath","validateMergeCriteria","registerImportClickEvent","$","removeAttr","on","sanitizeAndSubmit","importFile","trim","app","vtranslate","showMessage","text","errorMessage","type","focus","uploadFilter","uploadFileSize","elementId","allowedExtensions","obj","fileParts","toLowerCase","length","validExtensions","indexOf","importMaxUploadSize","element","closest","data","importMaxUploadSizeInMb","uploadedFileSize","get","files","size","convertOptionsToJSONArray","objName","targetObjName","arr","i","push","options","value","targetObj","JSON","stringify","copySelectedOptions","source","destination","destObj","srcObj","selected","existingObj","j","rowFound","opt","attr","append","removeSelectedOptions","sanitizeFieldMapping","validateCustomMap","fieldsList","mappedFields","inventoryMappedFields","params","mappedDefaultValues","rowId","fieldElement","selectElement","selectedFieldElement","find","selectedFieldName","selectedFieldDefaultValueElement","defaultValue","hasClass","stopImmediately","checkIfMappedFieldExist","parse","moduleName","getModuleName","missingMandatoryFields","mandatoryFieldName","mandatoryFields","join","Vtiger_Helper_Js","saveMap","mapName","mapOptions","mapOption","html","loadSavedMap","mapId","selectedMapElement","deleteMapContainer","each","mappingString","mapping","mappingPairs","header","mappingPair","replace","headerNameElement","headerName","$rowId","trigger","loadDefaultValueWidget","deleteMap","module","confirm","status","AppConnector","request","done","App","Fields","Picklist","changeSelectElementView","parent","fail","error","console","rowIdentifierId","affectedRow","defaultValueContainer","allDefaultValuesContainer","children","detach","copyOfDefaultValueWidget","appendTo","defaultValueWidget","selectedFieldDefValueContainer","loadDefaultValueWidgetForMappedFields","mappedFieldName","submitAction","form","progressIndicator","openListInModal","forUser","forModule","showModalWindow","containerH","container","height","containerOffsetTop","offset","top","footerH","windowH","window","width","breakpoints","sm","showNewScrollbarTopBottomRight","document","ready","Date","register"],"mappings":"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"}