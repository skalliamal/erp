{"version":3,"file":"List.min.js","sources":["List.js"],"sourcesContent":["/* {[The file is published on the basis of YetiForce Public License 3.0 that can be found in the following directory: licenses/LicenseEN.txt or yetiforce.com]} */\n'use strict';\n\nVtiger_List_Js(\"OSSMailView_List_Js\", {\n\tbindMails: function (url) {\n\t\tvar listInstance = Vtiger_List_Js.getInstance();\n\t\tvar validationResult = listInstance.checkListRecordSelected();\n\t\tif (validationResult != true) {\n\t\t\tif (!confirm(app.vtranslate('JS_BIND_CONFIRM'))) {\n\t\t\t\treturn false;\n\t\t\t}\n\t\t\tvar params = {};\n\t\t\tparams.data = {module: 'OSSMailView', action: 'BindMails'};\n\t\t\t$.extend(params.data, Vtiger_List_Js.getSelectedRecordsParams());\n\t\t\tparams.async = false;\n\t\t\tAppConnector.request(params).done(function (data) {\n\t\t\t\tVtiger_Helper_Js.showPnotify({\n\t\t\t\t\ttext: data.result,\n\t\t\t\t\tdelay: '4000',\n\t\t\t\t\ttype: 'success'\n\t\t\t\t});\n\t\t\t});\n\t\t} else {\n\t\t\tlistInstance.noRecordSelectedAlert();\n\t\t}\n\t},\n\ttriggerChangeTypeForm: function () {\n\t\tvar listInstance = Vtiger_List_Js.getInstance();\n\t\tvar selectedIds = listInstance.readSelectedIds(true);\n\t\t$(\"#ChangeType\").on('submit', function (event) {\n\t\t\tvar mail_type = jQuery('#mail_type').val();\n\t\t\tvar save_params = {};\n\t\t\tsave_params.data = {module: 'OSSMailView', action: 'ChangeType', data: selectedIds, mail_type: mail_type};\n\t\t\tsave_params.async = false;\n\t\t\tAppConnector.request(save_params).done(\n\t\t\t\tfunction (data) {\n\t\t\t\t\tvar params = {\n\t\t\t\t\t\ttitle: app.vtranslate('JS_MESSAGE'),\n\t\t\t\t\t\ttext: data.result,\n\t\t\t\t\t\ttype: 'info'\n\t\t\t\t\t};\n\t\t\t\t\tVtiger_Helper_Js.showPnotify(params);\n\t\t\t\t\tVtiger_List_Js.clearList();\n\t\t\t\t\tlistInstance.getListViewRecords();\n\t\t\t\t\tapp.hideModalWindow();\n\t\t\t\t}\n\t\t\t);\n\t\t\tevent.preventDefault();\n\t\t});\n\t},\n\ttriggerChangeType: function (url) {\n\t\tvar thisInstance = this;\n\t\tvar listInstance = Vtiger_List_Js.getInstance();\n\t\tvar validationResult = listInstance.checkListRecordSelected();\n\t\tif (validationResult != true) {\n\t\t\tthisInstance.getRelatedModulesContainer = false;\n\t\t\tvar actionParams = {\n\t\t\t\t\"type\": \"POST\",\n\t\t\t\t\"url\": url,\n\t\t\t\t\"dataType\": \"html\",\n\t\t\t\t\"data\": {}\n\t\t\t};\n\t\t\tAppConnector.request(actionParams).done(function (data) {\n\t\t\t\tif (data) {\n\t\t\t\t\tapp.showModalWindow(data, function (data) {\n\t\t\t\t\t\tthisInstance.triggerChangeTypeForm();\n\t\t\t\t\t});\n\t\t\t\t}\n\t\t\t});\n\t\t} else {\n\t\t\tlistInstance.noRecordSelectedAlert();\n\t\t}\n\t},\n}, {});\n"],"names":["Vtiger_List_Js","bindMails","getInstance","validationResult","listInstance","checkListRecordSelected","confirm","app","vtranslate","params","data","module","action","$","extend","getSelectedRecordsParams","async","AppConnector","request","done","Vtiger_Helper_Js","showPnotify","text","result","delay","type","noRecordSelectedAlert","triggerChangeTypeForm","selectedIds","readSelectedIds","on","event","jQuery","val","save_params","mail_type","title","clearList","getListViewRecords","hideModalWindow","preventDefault","triggerChangeType","url","thisInstance","getRelatedModulesContainer","showModalWindow"],"mappings":";;AAGAA,eAAe,qBAAf,CAAsC,CACrCC,UAAW,YAAe,OACND,eAAeE,WAAf,EADM,CAErBC,EAAmBC,EAAaC,uBAAb,EAFE,CAGzB,GAAI,KAAJ,CAA8B,CAC7B,GAAI,CAACC,QAAQC,IAAIC,UAAJ,CAAe,iBAAf,CAAR,CAAL,CACC,UAED,MAAa,EAAb,CACAC,EAAOC,IAAP,CAAc,CAACC,OAAQ,aAAT,CAAwBC,OAAQ,WAAhC,CALe,CAM7BC,EAAEC,MAAF,CAASL,EAAOC,IAAhB,CAAsBV,eAAee,wBAAf,EAAtB,CAN6B,CAO7BN,EAAOO,KAAP,GAP6B,CAQ7BC,aAAaC,OAAb,CAAqBT,CAArB,EAA6BU,IAA7B,CAAkC,SAAUT,CAAV,CAAgB,CACjDU,iBAAiBC,WAAjB,CAA6B,CAC5BC,KAAMZ,EAAKa,MADiB,CAE5BC,MAAO,MAFqB,CAG5BC,KAAM,SAHsB,CAA7B,EAKA,CAND,EAOA,CAfD,OAgBcC,qBAAb,GAED,CAtBoC,CAuBrCC,sBAAuB,YAAY,OACf3B,eAAeE,WAAf,EADe,CAE9B0B,EAAcxB,EAAayB,eAAb,IAFgB,CAGlChB,EAAE,aAAF,EAAiBiB,EAAjB,CAAoB,QAApB,CAA8B,SAAUC,CAAV,CAAiB,OAC9BC,OAAO,YAAP,EAAqBC,GAArB,EAD8B,CAE1CC,EAAc,EAF4B,CAG9CA,EAAYxB,IAAZ,CAAmB,CAACC,OAAQ,aAAT,CAAwBC,OAAQ,YAAhC,CAA8CF,KAAMkB,CAApD,CAAiEO,UAAWA,CAA5E,CAH2B,CAI9CD,EAAYlB,KAAZ,GAJ8C,CAK9CC,aAAaC,OAAb,CAAqBgB,CAArB,EAAkCf,IAAlC,CACC,SAAUT,CAAV,CAAgB,CACf,MAAa,CACZ0B,MAAO7B,IAAIC,UAAJ,CAAe,YAAf,CADK,CAEZc,KAAMZ,EAAKa,MAFC,CAGZE,KAAM,MAHM,CAAb,CAKAL,iBAAiBC,WAAjB,CAA6BZ,CAA7B,CANe,CAOfT,eAAeqC,SAAf,EAPe,CAQfjC,EAAakC,kBAAb,EARe,CASf/B,IAAIgC,eAAJ,GACA,CAXF,CAL8C,CAkB9CR,EAAMS,cAAN,GACA,CAnBD,EAoBA,CA9CoC,CA+CrCC,kBAAmB,WAAUC,CAAV,CAAe,OACd,IADc,CAE7BtC,EAAeJ,eAAeE,WAAf,EAFc,CAG7BC,EAAmBC,EAAaC,uBAAb,EAHU,CAIjC,GAAI,KAAJ,CAA8B,CAC7BsC,EAAaC,0BAAb,GAD6B,CAQ7B3B,aAAaC,OAAb,CANmB,CAClB,KAAQ,MADU,CAElB,IAAOwB,CAFW,CAGlB,SAAY,MAHM,CAIlB,KAAQ,EAJU,CAMnB,EAAmCvB,IAAnC,CAAwC,SAAUT,CAAV,CAAgB,CACnDA,CADmD,EAEtDH,IAAIsC,eAAJ,CAAoBnC,CAApB,CAA0B,UAAgB,CACzCiC,EAAahB,qBAAb,GACA,CAFD,EAID,CAND,EAOA,CAfD,OAgBcD,qBAAb,GAED,CArEoC,CAAtC,CAsEG,EAtEH"}