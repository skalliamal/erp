'use strict';

$.Class('Base_TreeModal_JS',{},{selectEvent:!1,container:!1,tree:!1,multiple:!1,setSelectEvent:function b(a){this.selectEvent=a;},generateTree:function b(){var a=[];this.multiple&&(a.push('category'),a.push('checkbox')),a.push('search'),this.tree.jstree($.extend(!0,{core:{data:JSON.parse(this.container.find('.js-tree-value').val()),themes:{name:'proton',responsive:!0}},checkbox:{three_state:!1},plugins:a},this.tree.data('params')));},registerSelectEvent:function b(){var a=this;this.multiple?this.container.find('[name="saveButton"]').on('click',function(){var b=[],c=[];$.each(a.tree.jstree('getCategory',!0),function(a,d){b.push('T'+d.id),c.push(d.text);}),a.selectEvent({id:b.join(),name:c.join(', ')}),app.hideModalWindow(!1,a.container.parent().attr('id'));}):this.tree.on('select_node.jstree',function(b,c){a.selectEvent({id:'T'+c.node.id,name:c.node.text}),app.hideModalWindow(!1,a.container.parent().attr('id'));});},registerSearchEvent:function c(){var a=this,b=this.container.find('#valueSearchTree');b.on('keypress',function(c){13==c.which&&a.searchingInTree(b.val());}),this.container.find('#btnSearchTree').on('click',function(){a.searchingInTree(b.val());});},searchingInTree:function b(a){this.tree.jstree(!0).search(a);},registerEvents:function b(a){this.container=a,this.tree=this.container.find('.js-tree-contents'),this.multiple=!(1!=this.container.find('.js-multiple').val()),this.generateTree(),this.registerSearchEvent(),this.registerSelectEvent();}});
//# sourceMappingURL=TreeModal.min.js.map
