{"version":3,"file":"Inventory.min.js","sources":["Inventory.js"],"sourcesContent":["/* {[The file is published on the basis of YetiForce Public License 3.0 that can be found in the following directory: licenses/LicenseEN.txt or yetiforce.com]} */\n'use strict';\n\n$.Class(\"Vtiger_Inventory_Js\", {}, {\n\tinventoryContainer: false,\n\tinventoryHeadContainer: false,\n\tsummaryTaxesContainer: false,\n\tsummaryDiscountContainer: false,\n\tsummaryCurrenciesContainer: false,\n\trowClass: 'tr.inventoryRow',\n\tdiscountModalFields: ['aggregationType', 'globalDiscount', 'groupCheckbox', 'groupDiscount', 'individualDiscount', 'individualDiscountType'],\n\ttaxModalFields: ['aggregationType', 'globalTax', 'groupCheckbox', 'groupTax', 'individualTax'],\n\t/**\n\t * Function that is used to get the line item container\n\t * @return : jQuery object\n\t */\n\tgetInventoryItemsContainer: function () {\n\t\tif (this.inventoryContainer === false) {\n\t\t\tthis.inventoryContainer = $('.inventoryItems');\n\t\t}\n\t\treturn this.inventoryContainer;\n\t},\n\tgetInventoryHeadContainer: function () {\n\t\tif (this.inventoryHeadContainer === false) {\n\t\t\tthis.inventoryHeadContainer = $('.inventoryHeader');\n\t\t}\n\t\treturn this.inventoryHeadContainer;\n\t},\n\tgetInventorySummaryDiscountContainer: function () {\n\t\tif (this.summaryDiscountContainer === false) {\n\t\t\tthis.summaryDiscountContainer = $('.inventorySummaryDiscounts');\n\t\t}\n\t\treturn this.summaryDiscountContainer;\n\t},\n\tgetInventorySummaryTaxesContainer: function () {\n\t\tif (this.summaryTaxesContainer === false) {\n\t\t\tthis.summaryTaxesContainer = $('.inventorySummaryTaxes');\n\t\t}\n\t\treturn this.summaryTaxesContainer;\n\t},\n\tgetInventorySummaryCurrenciesContainer: function () {\n\t\tif (this.summaryCurrenciesContainer === false) {\n\t\t\tthis.summaryCurrenciesContainer = $('.inventorySummaryCurrencies');\n\t\t}\n\t\treturn this.summaryCurrenciesContainer;\n\t},\n\tgetNextLineItemRowNumber: function () {\n\t\tvar $inventoryItemsNo = $('#inventoryItemsNo');\n\t\tvar rowNumber = parseInt($inventoryItemsNo.val());\n\t\t$inventoryItemsNo.val(rowNumber + 1);\n\t\treturn ++rowNumber;\n\t},\n\tgetAccountId: function () {\n\t\tvar accountReferenceField = $('#accountReferenceField').val();\n\t\tif (accountReferenceField != '') {\n\t\t\treturn $('[name=\"' + accountReferenceField + '\"]').val();\n\t\t}\n\t\treturn '';\n\t},\n\tcheckDeleteIcon: function () {\n\t\tvar items = this.getInventoryItemsContainer();\n\t\tif (items.data('isoptional') === 1) {\n\t\t\treturn;\n\t\t}\n\t\tif (items.find(this.rowClass).length > 1) {\n\t\t\tthis.showLineItemsDeleteIcon();\n\t\t} else {\n\t\t\tthis.hideLineItemsDeleteIcon();\n\t\t}\n\t},\n\tshowLineItemsDeleteIcon: function () {\n\t\tthis.getInventoryItemsContainer().find('.deleteRow').removeClass('d-none');\n\t},\n\thideLineItemsDeleteIcon: function () {\n\t\tthis.getInventoryItemsContainer().find('.deleteRow').addClass('d-none');\n\t},\n\tgetClosestRow: function (element) {\n\t\treturn element.closest(this.rowClass);\n\t},\n\t/**\n\t * Function which will return the basic row which can be used to add new rows\n\t * @return jQuery object which you can use to\n\t */\n\tgetBasicRow: function () {\n\t\treturn $('#blackIthemTable').find('tbody').clone(true, true);\n\t},\n\tisRecordSelected: function (element) {\n\t\tvar parentRow = element.closest('tr');\n\t\tvar productField = parentRow.find('.recordLabel');\n\t\treturn productField.validationEngine('validate');\n\t},\n\tgetTaxModeSelectElement: function (row) {\n\t\tvar items = this.getInventoryHeadContainer();\n\t\tif (items.find('thead .taxMode').length > 0) {\n\t\t\treturn $('.taxMode');\n\t\t}\n\t\tif (row) {\n\t\t\treturn row.find('.taxMode');\n\t\t} else {\n\t\t\treturn false;\n\t\t}\n\t},\n\tisIndividualTaxMode: function (row) {\n\t\tvar taxModeElement = this.getTaxModeSelectElement(row);\n\t\tvar selectedOption = taxModeElement.find('option:selected');\n\t\treturn selectedOption.val() == '1';\n\n\t},\n\tisGroupTaxMode: function () {\n\t\tvar taxTypeElement = this.getTaxModeSelectElement();\n\t\tif (taxTypeElement) {\n\t\t\tvar selectedOption = taxTypeElement.find('option:selected');\n\t\t\tif (selectedOption.val() == '0') {\n\t\t\t\treturn true;\n\t\t\t}\n\t\t}\n\t\treturn false;\n\t},\n\tshowIndividualTax: function (row) {\n\t\tvar thisInstance = this;\n\t\tvar groupTax = thisInstance.getInventorySummaryTaxesContainer().find('.groupTax');\n\t\tvar items = thisInstance.getInventoryItemsContainer();\n\t\tvar newRow = $('#blackIthemTable').find('tbody');\n\t\tif (thisInstance.isIndividualTaxMode()) {\n\t\t\tgroupTax.addClass('d-none');\n\t\t\titems.find('.changeTax').removeClass('d-none');\n\t\t\tnewRow.find('.changeTax').removeClass('d-none');\n\t\t\tlet parentRow = thisInstance.getInventoryItemsContainer();\n\t\t\tlet taxParam = {aggregationType: 'global'};\n\n\t\t\tparentRow.find(thisInstance.rowClass).each(function () {\n\t\t\t\tlet thisItem = $(this);\n\t\t\t\ttaxParam['globalTax'] = app.parseNumberToShow(thisItem.find('.js-tax').attr('data-default-tax'));\n\t\t\t\tthisInstance.setTaxParam(thisItem, taxParam);\n\t\t\t});\n\t\t} else {\n\t\t\tthisInstance.setTax(items, 0);\n\t\t\tthisInstance.setTaxParam(items, []);\n\t\t\tthisInstance.setDefaultGlobalTax(row);\n\t\t\tgroupTax.removeClass('d-none');\n\t\t\titems.find('.changeTax').addClass('d-none');\n\t\t\tnewRow.find('.changeTax').addClass('d-none');\n\t\t}\n\t\tthisInstance.rowsCalculations();\n\t},\n\tsetDefaultGlobalTax: function (row) {\n\t\tlet thisInstance = this;\n\t\tlet parentRow = thisInstance.getInventoryItemsContainer();\n\t\tlet taxDefaultValue = thisInstance.getInventorySummaryTaxesContainer().find('.js-default-tax').data('tax-default-value');\n\t\tlet isGroupTax = thisInstance.isGroupTaxMode();\n\t\tif (isGroupTax) {\n\t\t\tif (taxDefaultValue) {\n\t\t\t\tlet taxParam = {aggregationType: 'global'};\n\t\t\t\ttaxParam['globalTax'] = app.parseNumberToShow(taxDefaultValue);\n\t\t\t\ttaxParam['individualTax'] = '';\n\t\t\t\tthisInstance.setTaxParam($('#blackIthemTable'), taxParam);\n\t\t\t\tthisInstance.setTaxParam(parentRow, taxParam);\n\t\t\t\tparentRow.closest('.inventoryItems').data('taxParam', JSON.stringify(taxParam));\n\t\t\t\tparentRow.find(thisInstance.rowClass).each(function () {\n\t\t\t\t\tthisInstance.quantityChangeActions($(this));\n\t\t\t\t});\n\t\t\t}\n\t\t} else {\n\t\t\tthisInstance.setTaxParam($('#blackIthemTable'), []);\n\t\t\tparentRow.closest('.inventoryItems').data('taxParam', []);\n\t\t}\n\t},\n\tgetDiscountModeSelectElement: function (row) {\n\t\tvar items = this.getInventoryHeadContainer();\n\t\tif (items.find('thead .discountMode').length > 0) {\n\t\t\treturn $('.discountMode');\n\t\t}\n\t\treturn row.find('.discountMode');\n\t},\n\tisIndividualDiscountMode: function (row) {\n\t\tvar discountModeElement = this.getDiscountModeSelectElement(row);\n\t\tvar selectedOption = discountModeElement.find('option:selected');\n\t\treturn selectedOption.val() == '1';\n\t},\n\tshowIndividualDiscount: function (row) {\n\t\tvar thisInstance = this;\n\t\tvar groupDiscount = thisInstance.getInventorySummaryDiscountContainer().find('.groupDiscount');\n\t\tvar items = thisInstance.getInventoryItemsContainer();\n\t\tvar newRow = $('#blackIthemTable').find('tbody');\n\t\tif (thisInstance.isIndividualDiscountMode()) {\n\t\t\tgroupDiscount.addClass('d-none');\n\t\t\titems.find('.changeDiscount').removeClass('d-none');\n\t\t\tnewRow.find('.changeDiscount').removeClass('d-none');\n\t\t} else {\n\t\t\tgroupDiscount.removeClass('d-none');\n\t\t\titems.find('.changeDiscount').addClass('d-none');\n\t\t\titems.find('.changeDiscount').addClass('d-none');\n\t\t}\n\t\tthisInstance.setDiscount(items, 0);\n\t\tthisInstance.setDiscountParam(items, []);\n\t\tthisInstance.rowsCalculations();\n\t},\n\tgetCurrency: function () {\n\t\tvar currency = $('[name=\"currency\"]', this.getInventoryHeadContainer());\n\t\treturn currency.find('option:selected').val();\n\t},\n\tgetTax: function (row) {\n\t\treturn $('.tax', row).getNumberFromValue();\n\t},\n\tgetTaxParams: function (row) {\n\t\tvar taxParams = row.find('.taxParam').val();\n\t\tif (taxParams == '' || taxParams == '[]' || taxParams == undefined)\n\t\t\treturn false;\n\t\treturn JSON.parse(taxParams);\n\t},\n\tgetQuantityValue: function (row) {\n\t\treturn $('.qty', row).getNumberFromValue();\n\t},\n\tgetUnitPriceValue: function (row) {\n\t\treturn $('.unitPrice', row).getNumberFromValue();\n\t},\n\tgetDiscount: function (row) {\n\t\treturn $('.discount', row).getNumberFromValue();\n\t},\n\tgetNetPrice: function (row) {\n\t\treturn $('.netPrice', row).getNumberFromValue();\n\t},\n\tgetTotalPrice: function (row) {\n\t\tif ($('.totalPrice', row).length != 0) {\n\t\t\treturn $('.totalPrice', row).getNumberFromValue();\n\t\t} else {\n\t\t\treturn 0;\n\t\t}\n\t},\n\tgetGrossPrice: function (row) {\n\t\treturn $('.grossPrice', row).getNumberFromValue();\n\t},\n\tgetPurchase: function (row) {\n\t\tvar qty = this.getQuantityValue(row);\n\t\tvar element = $('.purchase', row);\n\t\tvar purchase = 0;\n\t\tif (element.length > 0) {\n\t\t\tpurchase = app.parseNumberToFloat(element.val());\n\t\t}\n\t\treturn purchase * qty;\n\t},\n\tgetSummaryGrossPrice: function () {\n\t\tvar thisInstance = this;\n\t\tvar price = 0;\n\t\tthis.getInventoryItemsContainer().find(thisInstance.rowClass).each(function (index) {\n\t\t\tprice += thisInstance.getGrossPrice($(this));\n\t\t});\n\t\treturn app.parseNumberToFloat(price);\n\t},\n\tsetUnitPrice: function (row, val) {\n\t\tval = app.parseNumberToShow(val);\n\t\trow.find('.unitPrice').val(val).attr('title', val);\n\t\treturn this;\n\t},\n\tsetNetPrice: function (row, val) {\n\t\tval = app.parseNumberToShow(val);\n\t\t$('.netPriceText', row).text(val);\n\t\t$('.netPrice', row).val(val);\n\t},\n\tsetGrossPrice: function (row, val) {\n\t\tval = app.parseNumberToShow(val);\n\t\t$('.grossPriceText', row).text(val);\n\t\t$('.grossPrice', row).val(val);\n\t},\n\tsetTotalPrice: function (row, val) {\n\t\tval = app.parseNumberToShow(val);\n\t\t$('.totalPriceText', row).text(val);\n\t\t$('.totalPrice', row).val(val);\n\t},\n\tsetMargin: function (row, val) {\n\t\tval = app.parseNumberToShow(val);\n\t\t$('.margin', row).val(val);\n\t},\n\tsetMarginP: function (row, val) {\n\t\tval = app.parseNumberToShow(val);\n\t\t$('.marginp', row).val(val);\n\t},\n\tsetDiscount: function (row, val) {\n\t\tval = app.parseNumberToShow(val);\n\t\t$('.discount', row).val(val);\n\t},\n\tsetDiscountParam: function (row, val) {\n\t\t$('.discountParam', row).val(JSON.stringify(val));\n\t},\n\tsetTax: function (row, val) {\n\t\tval = app.parseNumberToShow(val);\n\t\t$('.tax', row).val(val);\n\t},\n\tsetTaxParam: function (row, val) {\n\t\t$('.taxParam', row).val(JSON.stringify(val));\n\t},\n\tquantityChangeActions: function (row) {\n\t\tthis.rowCalculations(row);\n\t\tthis.summaryCalculations();\n\t},\n\trowCalculations: function (row) {\n\t\tthis.calculateTotalPrice(row);\n\t\tthis.calculateDiscounts(row);\n\t\tthis.calculateNetPrice(row);\n\t\tthis.calculateTaxes(row);\n\t\tthis.calculateGrossPrice(row);\n\t\tthis.calculateMargin(row);\n\t},\n\trowsCalculations: function () {\n\t\tvar thisInstance = this;\n\t\tthis.getInventoryItemsContainer().find(thisInstance.rowClass).each(function (index) {\n\t\t\tthisInstance.quantityChangeActions($(this));\n\t\t});\n\t\tthisInstance.calculateItemNumbers();\n\t},\n\tcalculateDiscounts: function (row) {\n\t\tvar discountParams = row.find('.discountParam').val();\n\t\tvar aggregationType = $('.aggregationTypeDiscount').val();\n\t\tif (discountParams == '' || discountParams == '[]' || discountParams == undefined)\n\t\t\treturn 0;\n\t\tdiscountParams = JSON.parse(discountParams);\n\t\tvar valuePrices = this.getTotalPrice(row);\n\t\tvar discountRate = 0;\n\t\tvar types = discountParams.aggregationType;\n\t\tif (typeof types == 'string') {\n\t\t\ttypes = [types];\n\t\t}\n\t\tif (types)\n\t\t\ttypes.forEach(function (entry) {\n\t\t\t\tvar discountValue;\n\t\t\t\tif (entry == 'individual') {\n\t\t\t\t\tdiscountValue = discountParams.individualDiscount;\n\t\t\t\t\tvar discountType = discountParams.individualDiscountType;\n\t\t\t\t\tif (discountType == 'percentage') {\n\t\t\t\t\t\tdiscountRate += valuePrices * (discountValue / 100);\n\t\t\t\t\t} else {\n\t\t\t\t\t\tdiscountRate += app.parseNumberToFloat(discountValue);\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t\tif (entry == 'global') {\n\t\t\t\t\tdiscountRate += valuePrices * (app.parseNumberToFloat(discountParams.globalDiscount) / 100);\n\t\t\t\t}\n\t\t\t\tif (entry == 'group') {\n\t\t\t\t\tdiscountRate += valuePrices * (app.parseNumberToFloat(discountParams.groupDiscount) / 100);\n\t\t\t\t}\n\t\t\t\tif (aggregationType == '2') {\n\t\t\t\t\tvaluePrices = valuePrices - discountRate;\n\t\t\t\t}\n\t\t\t});\n\t\tthis.setDiscount(row, discountRate);\n\t},\n\tcalculateTaxes: function (row) {\n\t\tvar taxParams = row.find('.taxParam').val();\n\t\tif (taxParams == '' || taxParams == '[]' || taxParams == undefined)\n\t\t\treturn 0;\n\t\ttaxParams = JSON.parse(taxParams);\n\t\tvar aggregationType = $('.aggregationTypeTax').val();\n\t\tvar valuePrices = this.getNetPrice(row);\n\t\tvar taxRate = 0;\n\t\tvar types = taxParams.aggregationType;\n\t\tif (typeof types == 'string') {\n\t\t\ttypes = [types];\n\t\t}\n\t\tif (types)\n\t\t\ttypes.forEach(function (entry) {\n\t\t\t\tvar taxValue = 0;\n\t\t\t\tswitch (entry) {\n\t\t\t\t\tcase 'individual':\n\t\t\t\t\t\ttaxValue = taxParams.individualTax;\n\t\t\t\t\t\tbreak;\n\t\t\t\t\tcase 'global':\n\t\t\t\t\t\ttaxValue = taxParams.globalTax;\n\t\t\t\t\t\tbreak;\n\t\t\t\t\tcase 'group':\n\t\t\t\t\t\ttaxValue = taxParams.groupTax;\n\t\t\t\t\t\tbreak;\n\t\t\t\t\tcase 'regional':\n\t\t\t\t\t\ttaxValue = taxParams.regionalTax;\n\t\t\t\t\t\tbreak;\n\t\t\t\t}\n\t\t\t\ttaxRate += valuePrices * (app.parseNumberToFloat(taxValue) / 100);\n\t\t\t\tif (aggregationType == '2') {\n\t\t\t\t\tvaluePrices = valuePrices + taxRate;\n\t\t\t\t}\n\t\t\t});\n\t\tthis.setTax(row, taxRate);\n\t},\n\tsummaryCalculations: function () {\n\t\tvar thisInstance = this;\n\t\tthisInstance.getInventoryItemsContainer().find('tfoot .wisableTd').each(function (index) {\n\t\t\tthisInstance.calculatSummary($(this), $(this).data('sumfield'));\n\t\t});\n\t\tthisInstance.calculatDiscountSummary();\n\t\tthisInstance.calculatTaxSummary();\n\t\tthisInstance.calculatCurrenciesSummary();\n\t\tthisInstance.calculatMarginPSummary();\n\t},\n\tcalculatSummary: function (element, field) {\n\t\tvar thisInstance = this;\n\t\tvar sum = 0;\n\t\tthis.getInventoryItemsContainer().find(thisInstance.rowClass).each(function (index) {\n\t\t\tvar element = $(this).find('.' + field);\n\t\t\tif (element.length > 0) {\n\t\t\t\tsum += app.parseNumberToFloat(element.val());\n\t\t\t}\n\t\t});\n\t\telement.text(app.parseNumberToShow(sum));\n\t},\n\tcalculatMarginPSummary: function () {\n\t\tvar thisInstance = this;\n\t\tvar sumRow = thisInstance.getInventoryItemsContainer().find('tfoot');\n\t\tvar purchase = app.parseNumberToFloat(sumRow.find('[data-sumfield=\"purchase\"]').text());\n\t\tvar margin = app.parseNumberToFloat(sumRow.find('[data-sumfield=\"margin\"]').text());\n\t\tmargin = app.parseNumberToFloat(margin);\n\t\tvar marginp = '0';\n\t\tif (purchase !== 0) {\n\t\t\tmarginp = (margin / purchase) * 100;\n\t\t}\n\t\tsumRow.find('[data-sumfield=\"marginP\"]').text(app.parseNumberToShow(marginp))\n\t},\n\tcalculatDiscountSummary: function () {\n\t\tvar thisInstance = this;\n\t\tvar discount = thisInstance.getAllDiscount();\n\t\tvar container = thisInstance.getInventorySummaryDiscountContainer();\n\t\tcontainer.find('input').val(app.parseNumberToShow(discount));\n\t},\n\tgetAllDiscount: function () {\n\t\tvar thisInstance = this;\n\t\tvar discount = 0;\n\t\tthis.getInventoryItemsContainer().find(thisInstance.rowClass).each(function (index) {\n\t\t\tvar row = $(this);\n\t\t\tdiscount += thisInstance.getDiscount(row);\n\t\t});\n\t\treturn discount;\n\t},\n\tcalculatCurrenciesSummary: function () {\n\t\tvar thisInstance = this;\n\t\tvar container = thisInstance.getInventorySummaryCurrenciesContainer();\n\t\tvar selected = $('[name=\"currency\"] option:selected', thisInstance.getInventoryHeadContainer());\n\t\tvar base = $('[name=\"currency\"] option[data-base-currency=\"1\"]', thisInstance.getInventoryHeadContainer());\n\t\tvar conversionRate = selected.data('conversionRate');\n\t\tvar baseConversionRate = base.data('conversionRate');\n\t\tif (conversionRate == baseConversionRate) {\n\t\t\tcontainer.addClass('d-none');\n\t\t\treturn;\n\t\t}\n\t\tconversionRate = parseFloat(baseConversionRate) / parseFloat(conversionRate);\n\t\tcontainer.removeClass('d-none');\n\t\tvar taxs = thisInstance.getAllTaxs();\n\t\tvar sum = 0;\n\t\tcontainer.find('.js-panel__body').html('');\n\t\t$.each(taxs, function (index, value) {\n\t\t\tif (value != undefined) {\n\t\t\t\tvalue = value * conversionRate;\n\t\t\t\tvar row = container.find('.d-none .form-group').clone();\n\t\t\t\trow.find('.percent').text(index + '%');\n\t\t\t\trow.find('input').val(app.parseNumberToShow(value));\n\t\t\t\trow.appendTo(container.find('.js-panel__body'));\n\t\t\t\tsum += value;\n\t\t\t}\n\t\t});\n\t\tcontainer.find('.js-panel__footer input').val(app.parseNumberToShow(sum));\n\t},\n\tcalculatTaxSummary: function () {\n\t\tvar thisInstance = this;\n\t\tvar taxs = thisInstance.getAllTaxs();\n\t\tvar container = thisInstance.getInventorySummaryTaxesContainer();\n\t\tcontainer.find('.js-panel__body').html('');\n\t\tvar sum = 0;\n\t\tfor (var index in taxs) {\n\t\t\tvar row = container.find('.d-none .form-group').clone();\n\t\t\trow.find('.percent').text(app.parseNumberToShow(app.parseNumberToFloat(index)) + '%');\n\t\t\trow.find('input').val(app.parseNumberToShow(taxs[index]));\n\t\t\trow.appendTo(container.find('.js-panel__body'));\n\t\t\tsum += taxs[index];\n\t\t}\n\t\tcontainer.find('.js-panel__footer input').val(app.parseNumberToShow(sum));\n\t},\n\tgetAllTaxs: function () {\n\t\tvar thisInstance = this;\n\t\tvar tax = [];\n\t\tvar typeSummary = $('.aggregationTypeTax').val();\n\t\tthis.getInventoryItemsContainer().find(thisInstance.rowClass).each(function (index) {\n\t\t\tvar row = $(this);\n\t\t\tvar netPrice = thisInstance.getNetPrice(row);\n\t\t\tvar params = row.find('.taxParam').val();\n\t\t\tif (params != '' && params != '[]' && params != undefined) {\n\t\t\t\tvar param = JSON.parse(params);\n\t\t\t\tif (typeof param.aggregationType == 'string') {\n\t\t\t\t\tparam.aggregationType = [param.aggregationType];\n\t\t\t\t}\n\t\t\t\tif (param.aggregationType)\n\t\t\t\t\t$.each(param.aggregationType, function (index, name) {\n\t\t\t\t\t\tname = name + 'Tax';\n\t\t\t\t\t\tvar precent = param[name];\n\t\t\t\t\t\tvar old = 0;\n\t\t\t\t\t\tif (tax[precent] != undefined) {\n\t\t\t\t\t\t\told = parseFloat(tax[precent]);\n\t\t\t\t\t\t}\n\t\t\t\t\t\tvar taxRate = netPrice * (app.parseNumberToFloat(precent) / 100);\n\t\t\t\t\t\ttax[precent] = old + taxRate;\n\t\t\t\t\t\tif (typeSummary == '2') {\n\t\t\t\t\t\t\tnetPrice += taxRate;\n\t\t\t\t\t\t}\n\t\t\t\t\t});\n\t\t\t}\n\t\t});\n\n\t\treturn tax;\n\t},\n\tcalculateNetPrice: function (row) {\n\t\tvar netPrice = this.getTotalPrice(row) - this.getDiscount(row);\n\t\tthis.setNetPrice(row, netPrice);\n\t},\n\tcalculateGrossPrice: function (row) {\n\t\tvar netPrice = this.getNetPrice(row);\n\t\tif (this.isIndividualTaxMode(row) || this.isGroupTaxMode(row)) {\n\t\t\tnetPrice += this.getTax(row);\n\t\t}\n\t\tthis.setGrossPrice(row, netPrice);\n\t},\n\tcalculateTotalPrice: function (row) {\n\t\tvar netPriceBeforeDiscount = this.getQuantityValue(row) * this.getUnitPriceValue(row);\n\t\tthis.setTotalPrice(row, netPriceBeforeDiscount);\n\t},\n\tcalculateMargin: function (row) {\n\t\tvar netPrice;\n\t\tif ($('.netPrice', row).length) {\n\t\t\tnetPrice = this.getNetPrice(row);\n\t\t} else {\n\t\t\tnetPrice = this.getTotalPrice(row);\n\t\t}\n\t\tvar purchase = this.getPurchase(row);\n\t\tvar margin = netPrice - purchase;\n\t\tthis.setMargin(row, margin);\n\t\tvar marginp = '0';\n\t\tif (purchase !== 0) {\n\t\t\tmarginp = (margin / purchase) * 100;\n\t\t}\n\t\tthis.setMarginP(row, marginp);\n\t},\n\tcalculateDiscount: function (row, modal) {\n\t\tvar netPriceBeforeDiscount = app.parseNumberToFloat(modal.find('.valueTotalPrice').text()),\n\t\t\tvaluePrices = netPriceBeforeDiscount,\n\t\t\tglobalDiscount = 0,\n\t\t\tgroupDiscount = 0,\n\t\t\tindividualDiscount = 0,\n\t\t\tvalueDiscount = 0;\n\n\t\tvar discountsType = modal.find('.discountsType').val();\n\n\t\tif (discountsType == '0' || discountsType == '1') {\n\t\t\tif (modal.find('.js-active .globalDiscount').length > 0) {\n\t\t\t\tglobalDiscount = app.parseNumberToFloat(modal.find('.js-active .globalDiscount').val());\n\t\t\t}\n\t\t\tif (modal.find('.js-active .individualDiscountType').length > 0) {\n\t\t\t\tvar individualTypeDiscount = modal.find('.js-active .individualDiscountType:checked').val();\n\t\t\t\tvar value = app.parseNumberToFloat(modal.find('.js-active .individualDiscountValue').val());\n\t\t\t\tif (individualTypeDiscount == 'percentage') {\n\t\t\t\t\tindividualDiscount = netPriceBeforeDiscount * (value / 100);\n\t\t\t\t} else {\n\t\t\t\t\tindividualDiscount = value;\n\t\t\t\t}\n\t\t\t}\n\t\t\tif (modal.find('.js-active .groupCheckbox').length > 0 && modal.find('.js-active .groupCheckbox').prop(\"checked\") == true) {\n\t\t\t\tgroupDiscount = app.parseNumberToFloat(modal.find('.groupValue').val());\n\t\t\t\tgroupDiscount = netPriceBeforeDiscount * (groupDiscount / 100);\n\t\t\t}\n\n\t\t\tvaluePrices = valuePrices * ((100 - globalDiscount) / 100);\n\t\t\tvaluePrices = valuePrices - individualDiscount;\n\t\t\tvaluePrices = valuePrices - groupDiscount;\n\t\t} else if (discountsType == '2') {\n\t\t\tmodal.find('.js-active').each(function (index) {\n\t\t\t\tvar panel = $(this);\n\t\t\t\tif (panel.find('.globalDiscount').length > 0) {\n\t\t\t\t\tvar globalDiscount = app.parseNumberToFloat(panel.find('.globalDiscount').val());\n\t\t\t\t\tvaluePrices = valuePrices * ((100 - globalDiscount) / 100);\n\t\t\t\t} else if (panel.find('.groupCheckbox').length > 0 && panel.find('.groupCheckbox').prop(\"checked\") == true) {\n\t\t\t\t\tvar groupDiscount = app.parseNumberToFloat(panel.find('.groupValue').val());\n\t\t\t\t\tvaluePrices = valuePrices * ((100 - groupDiscount) / 100);\n\t\t\t\t} else if (panel.find('.individualDiscountType').length > 0) {\n\t\t\t\t\tvar value = app.parseNumberToFloat(panel.find('.individualDiscountValue').val());\n\t\t\t\t\tif (panel.find('.individualDiscountType[name=\"individual\"]:checked').val() == 'percentage') {\n\t\t\t\t\t\tvaluePrices = valuePrices * ((100 - value) / 100);\n\t\t\t\t\t} else {\n\t\t\t\t\t\tvaluePrices = valuePrices - value;\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t});\n\t\t}\n\n\t\tmodal.find('.valuePrices').text(app.parseNumberToShow(valuePrices));\n\t\tmodal.find('.valueDiscount').text(app.parseNumberToShow(netPriceBeforeDiscount - valuePrices));\n\t},\n\tcalculateTax: function (row, modal) {\n\t\tvar netPriceWithoutTax = app.parseNumberToFloat(modal.find('.valueNetPrice').text()),\n\t\t\tvaluePrices = netPriceWithoutTax,\n\t\t\tglobalTax = 0,\n\t\t\tgroupTax = 0,\n\t\t\tregionalTax = 0,\n\t\t\tindividualTax = 0;\n\n\t\tvar taxType = modal.find('.taxsType').val();\n\t\tif (taxType == '0' || taxType == '1') {\n\t\t\tif (modal.find('.js-active .globalTax').length > 0) {\n\t\t\t\tglobalTax = app.parseNumberToFloat(modal.find('.js-active .globalTax').val());\n\t\t\t}\n\t\t\tif (modal.find('.js-active .individualTaxValue').length > 0) {\n\t\t\t\tvar value = app.parseNumberToFloat(modal.find('.js-active .individualTaxValue').val());\n\t\t\t\tindividualTax = (value / 100) * valuePrices;\n\t\t\t}\n\t\t\tif (modal.find('.js-active .groupTax').length > 0) {\n\t\t\t\tgroupTax = app.parseNumberToFloat(modal.find('.groupTax').val());\n\t\t\t\tgroupTax = netPriceWithoutTax * (groupTax / 100);\n\t\t\t}\n\t\t\tif (modal.find('.js-active .regionalTax').length > 0) {\n\t\t\t\tregionalTax = app.parseNumberToFloat(modal.find('.regionalTax').val());\n\t\t\t\tregionalTax = netPriceWithoutTax * (regionalTax / 100);\n\t\t\t}\n\n\t\t\tvaluePrices = valuePrices * ((100 + globalTax) / 100);\n\t\t\tvaluePrices = valuePrices + individualTax;\n\t\t\tvaluePrices = valuePrices + groupTax;\n\t\t\tvaluePrices = valuePrices + regionalTax;\n\t\t} else if (taxType == '2') {\n\t\t\tmodal.find('.js-active').each(function (index) {\n\t\t\t\tvar panel = $(this);\n\t\t\t\tif (panel.find('.globalTax').length > 0) {\n\t\t\t\t\tvar globalTax = app.parseNumberToFloat(panel.find('.globalTax').val());\n\t\t\t\t\tvaluePrices = valuePrices * ((100 + globalTax) / 100);\n\t\t\t\t} else if (panel.find('.groupTax').length > 0) {\n\t\t\t\t\tvar groupTax = app.parseNumberToFloat(panel.find('.groupTax').val());\n\t\t\t\t\tvaluePrices = valuePrices * ((100 + groupTax) / 100);\n\t\t\t\t} else if (panel.find('.regionalTax').length > 0) {\n\t\t\t\t\tvar regionalTax = app.parseNumberToFloat(panel.find('.regionalTax').val());\n\t\t\t\t\tvaluePrices = valuePrices * ((100 + regionalTax) / 100);\n\t\t\t\t} else if (panel.find('.individualTaxValue').length > 0) {\n\t\t\t\t\tvar value = app.parseNumberToFloat(panel.find('.individualTaxValue').val());\n\t\t\t\t\tvaluePrices = ((value + 100) / 100) * valuePrices;\n\t\t\t\t}\n\t\t\t});\n\t\t}\n\t\tif (netPriceWithoutTax) {\n\t\t\tlet taxValue = (valuePrices - netPriceWithoutTax) / netPriceWithoutTax * 100;\n\t\t\tmodal.find('.js-tax-value').text(app.parseNumberToShow(taxValue));\n\t\t}\n\t\tmodal.find('.valuePrices').text(app.parseNumberToShow(valuePrices));\n\t\tmodal.find('.valueTax').text(app.parseNumberToShow(valuePrices - netPriceWithoutTax));\n\t},\n\tupdateRowSequence: function () {\n\t\tvar items = this.getInventoryItemsContainer();\n\t\titems.find(this.rowClass).each(function (index) {\n\t\t\t$(this).find('.sequence').val(index + 1);\n\t\t});\n\t},\n\tregisterInventorySaveData: function (container) {\n\t\tvar thisInstance = this;\n\t\tcontainer.on(Vtiger_Edit_Js.recordPreSave, function (e, data) {\n\t\t\tif (!thisInstance.checkLimits(container)) {\n\t\t\t\treturn false;\n\t\t\t}\n\t\t\tvar table = container.find('#blackIthemTable');\n\t\t\ttable.find('[name]').removeAttr('name');\n\t\t});\n\t},\n\t/**\n\t * Function which will be used to handle price book popup\n\t * @params :  element - popup image element\n\t */\n\tpricebooksModalHandler: function (element) {\n\t\tconst thisInstance = this;\n\t\tlet lineItemRow = element.closest(this.rowClass);\n\t\tlet rowName = lineItemRow.find('.rowName');\n\t\tapp.showRecordsList({\n\t\t\tmodule: 'PriceBooks',\n\t\t\tsrc_module: $('[name=\"popupReferenceModule\"]', rowName).val(),\n\t\t\tsrc_record: $('.sourceField', rowName).val(),\n\t\t\tsrc_field: $('[name=\"popupReferenceModule\"]', rowName).data('field'),\n\t\t\tcurrency_id: thisInstance.getCurrency(),\n\t\t}, (modal, instance) => {\n\t\t\tinstance.setSelectEvent((responseData) => {\n\t\t\t\tAppConnector.request({\n\t\t\t\t\tmodule: 'PriceBooks',\n\t\t\t\t\taction: 'ProductListPrice',\n\t\t\t\t\trecord: responseData.id,\n\t\t\t\t\tsrc_record: $('.sourceField', rowName).val(),\n\t\t\t\t}).done(function (data) {\n\t\t\t\t\tif (data.result) {\n\t\t\t\t\t\tthisInstance.setUnitPrice(lineItemRow, data.result);\n\t\t\t\t\t\tthisInstance.quantityChangeActions(lineItemRow);\n\t\t\t\t\t} else {\n\t\t\t\t\t\tapp.errorLog('Incorrect data', responseData);\n\t\t\t\t\t}\n\t\t\t\t});\n\t\t\t});\n\t\t});\n\t},\n\tsubProductsCashe: [],\n\tloadSubProducts: function (parentRow, indicator) {\n\t\tvar thisInstance = this;\n\t\tvar recordId = $('input.sourceField', parentRow).val();\n\t\tvar recordModule = parentRow.find('.rowName input[name=\"popupReferenceModule\"]').val();\n\t\tthisInstance.removeSubProducts(parentRow);\n\t\tif (recordId == '0' || recordId == '' || $.inArray(recordModule, ['Products', 'Services']) < 0) {\n\t\t\treturn false;\n\t\t}\n\t\tif (thisInstance.subProductsCashe[recordId]) {\n\t\t\tthisInstance.addSubProducts(parentRow, thisInstance.subProductsCashe[recordId]);\n\t\t\treturn false;\n\t\t}\n\t\tvar subProrductParams = {\n\t\t\tmodule: \"Products\",\n\t\t\taction: \"SubProducts\",\n\t\t\trecord: recordId\n\t\t};\n\t\tif (indicator) {\n\t\t\tvar progressInstace = $.progressIndicator();\n\t\t}\n\t\tAppConnector.request(subProrductParams).done(function (data) {\n\t\t\tvar responseData = data.result;\n\t\t\tthisInstance.subProductsCashe[recordId] = responseData;\n\t\t\tthisInstance.addSubProducts(parentRow, responseData);\n\t\t\tif (progressInstace) {\n\t\t\t\tprogressInstace.hide();\n\t\t\t}\n\t\t}).fail(function (error, err) {\n\t\t\tif (progressInstace) {\n\t\t\t\tprogressInstace.hide();\n\t\t\t}\n\t\t\tconsole.error(error, err);\n\t\t});\n\t},\n\tremoveSubProducts: function (parentRow) {\n\t\tvar subProductsContainer = $('.subProductsContainer ul', parentRow);\n\t\tsubProductsContainer.find(\"li\").remove();\n\t},\n\taddSubProducts: function (parentRow, responseData) {\n\t\tvar subProductsContainer = $('.subProductsContainer ul', parentRow);\n\t\tfor (var id in responseData) {\n\t\t\tvar priductText = $(\"<li>\").text(responseData[id]);\n\t\t\tsubProductsContainer.append(priductText);\n\t\t}\n\t},\n\tmapResultsToFields: function (referenceModule, parentRow, responseData) {\n\t\tlet validationEngine, unitPrice, taxParam = [];\n\t\tvar thisInstance = this;\n\t\tvar isGroupTax = thisInstance.isGroupTaxMode();\n\t\tfor (var id in responseData) {\n\t\t\tvar recordData = responseData[id];\n\t\t\tvar description = recordData.description;\n\t\t\tvar unitPriceValues = recordData.unitPriceValues;\n\t\t\tvar unitPriceValuesJson = JSON.stringify(unitPriceValues);\n\t\t\t// Load taxses detail\n\t\t\tif (isGroupTax) {\n\t\t\t\tvar parameters = parentRow.closest('.inventoryItems').data('taxParam');\n\t\t\t\tif (parameters) {\n\t\t\t\t\ttaxParam = JSON.parse(parameters);\n\t\t\t\t}\n\t\t\t} else if (recordData['taxes']) {\n\t\t\t\ttaxParam = {aggregationType: recordData.taxes.type};\n\t\t\t\ttaxParam[recordData.taxes.type + 'Tax'] = recordData.taxes.value;\n\t\t\t}\n\t\t\tif (recordData['taxes']) {\n\t\t\t\tparentRow.find('.js-tax').attr('data-default-tax', app.parseNumberToShow(recordData.taxes.value));\n\t\t\t}\n\t\t\tthisInstance.setTaxParam(parentRow, taxParam);\n\t\t\tthisInstance.setTax(parentRow, 0);\n\t\t\t// Load auto fields\n\t\t\tfor (var field in recordData['autoFields']) {\n\t\t\t\tparentRow.find('input.' + field).val(recordData['autoFields'][field]);\n\t\t\t\tif (recordData['autoFields'][field + 'Text']) {\n\t\t\t\t\tparentRow.find('.' + field + 'Text').text(recordData['autoFields'][field + 'Text']);\n\t\t\t\t}\n\t\t\t}\n\t\t\tlet currencyId = thisInstance.getCurrency();\n\t\t\tif (currencyId && typeof unitPriceValues[currencyId] !== \"undefined\") {\n\t\t\t\tunitPrice = unitPriceValues[currencyId];\n\t\t\t} else if (recordData.price !== undefined) {\n\t\t\t\tunitPrice = recordData.price;\n\t\t\t}\n\t\t\tif (unitPrice) {\n\t\t\t\tthisInstance.setUnitPrice(parentRow, app.parseNumberToFloat(unitPrice));\n\t\t\t}\n\t\t\tif (unitPriceValuesJson !== undefined) {\n\t\t\t\t$('input.unitPrice', parentRow).attr('list-info', unitPriceValuesJson);\n\t\t\t}\n\t\t\tvar commentElement = $('textarea.commentTextarea', parentRow.next());\n\t\t\tvar editorInstance = CKEDITOR.instances[commentElement.attr('id')];\n\t\t\tif (editorInstance) {\n\t\t\t\teditorInstance.setData(description);\n\t\t\t} else {\n\t\t\t\tcommentElement.val(description);\n\t\t\t}\n\t\t\tif (typeof recordData['autoFields']['unit'] !== \"undefined\") {\n\t\t\t\tswitch (recordData['autoFields']['unit']) {\n\t\t\t\t\tdefault:\n\t\t\t\t\t\t$('.qtyParamInfo', parentRow).addClass('hidden');\n\t\t\t\t\t\tvalidationEngine = 'validate[required,funcCall[Vtiger_NumberUserFormat_Validator_Js.invokeValidation]]';\n\t\t\t\t\t\t$('input.qty', parentRow).attr('data-validation-engine', validationEngine);\n\t\t\t\t\t\tbreak;\n\t\t\t\t\tcase 'pack':\n\t\t\t\t\t\t$('.qtyParamInfo', parentRow).removeClass('hidden').removeClass('active');\n\t\t\t\t\t\t$('.qtyParamInfo', parentRow).attr('data-content', recordData['qtyPerUnit']);\n\t\t\t\t\t\tvalidationEngine = 'validate[required,funcCall[Vtiger_WholeNumber_Validator_Js.invokeValidation]]';\n\t\t\t\t\t\t$('input.qty', parentRow).attr('data-validation-engine', validationEngine);\n\t\t\t\t\t\tbreak;\n\t\t\t\t\tcase 'pcs':\n\t\t\t\t\t\t$('.qtyParamInfo', parentRow).addClass('hidden');\n\t\t\t\t\t\tvalidationEngine = 'validate[required,funcCall[Vtiger_WholeNumber_Validator_Js.invokeValidation]]';\n\t\t\t\t\t\t$('input.qty', parentRow).attr('data-validation-engine', validationEngine);\n\t\t\t\t\t\tbreak;\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\t\tif (referenceModule === 'Products') {\n\t\t\tthisInstance.loadSubProducts(parentRow, true);\n\t\t}\n\t\tthisInstance.quantityChangeActions(parentRow);\n\t},\n\tsaveDiscountsParameters: function (parentRow, modal) {\n\t\tvar thisInstance = this;\n\t\tvar info = {};\n\t\tvar extend = ['aggregationType', 'groupCheckbox', 'individualDiscountType'];\n\t\t$.each(thisInstance.discountModalFields, function (index, param) {\n\t\t\tif ($.inArray(param, extend) >= 0) {\n\t\t\t\tif (modal.find('[name=\"' + param + '\"]:checked').length > 1) {\n\t\t\t\t\tinfo[param] = [];\n\t\t\t\t\tmodal.find('[name=\"' + param + '\"]:checked').each(function (index) {\n\t\t\t\t\t\tinfo[param].push($(this).val());\n\t\t\t\t\t});\n\t\t\t\t} else {\n\t\t\t\t\tinfo[param] = modal.find('[name=\"' + param + '\"]:checked').val();\n\t\t\t\t}\n\t\t\t} else {\n\t\t\t\tvar value = modal.find('[name=\"' + param + '\"]').val()\n\t\t\t\tif (param === 'individualDiscount') {\n\t\t\t\t\tvalue = app.parseNumberToFloat(modal.find('[name=\"' + param + '\"]').val());\n\t\t\t\t}\n\t\t\t\tinfo[param] = value;\n\t\t\t}\n\t\t});\n\t\tthisInstance.setDiscountParam($('#blackIthemTable'), info);\n\t\tthisInstance.setDiscountParam(parentRow, info);\n\t},\n\tsaveTaxsParameters: function (parentRow, modal) {\n\t\tvar thisInstance = this;\n\t\tvar info = {};\n\t\tvar extend = ['aggregationType', 'groupCheckbox', 'individualTaxType'];\n\t\t$.each(thisInstance.taxModalFields, function (index, param) {\n\t\t\tif ($.inArray(param, extend) >= 0) {\n\t\t\t\tif (modal.find('[name=\"' + param + '\"]:checked').length > 1) {\n\t\t\t\t\tinfo[param] = [];\n\t\t\t\t\tmodal.find('[name=\"' + param + '\"]:checked').each(function (index) {\n\t\t\t\t\t\tinfo[param].push($(this).val());\n\t\t\t\t\t});\n\t\t\t\t} else {\n\t\t\t\t\tinfo[param] = modal.find('[name=\"' + param + '\"]:checked').val();\n\t\t\t\t}\n\t\t\t} else {\n\t\t\t\tinfo[param] = modal.find('[name=\"' + param + '\"]').val();\n\t\t\t}\n\t\t});\n\t\tparentRow.data('taxParam', JSON.stringify(info));\n\t\tthisInstance.setTaxParam(parentRow, info);\n\t\tthisInstance.setTaxParam($('#blackIthemTable'), info);\n\t},\n\tshowExpandedRow: function (row) {\n\t\tvar thisInstance = this;\n\t\tvar items = thisInstance.getInventoryItemsContainer();\n\t\tvar inventoryRowExpanded = items.find('[numrowex=\"' + row.attr('numrow') + '\"]');\n\t\tvar element = row.find('.toggleVisibility');\n\t\telement.data('status', '1');\n\t\telement.find('[data-fa-i2svg]').removeClass('fa-angle-down');\n\t\telement.find('[data-fa-i2svg]').addClass('fa-angle-up');\n\t\tinventoryRowExpanded.removeClass('d-none');\n\n\t\tvar listInstance = Vtiger_Edit_Js.getInstance();\n\t\t$.each(inventoryRowExpanded.find('.js-editor'), function (key, data) {\n\t\t\tlistInstance.loadEditorElement($(data));\n\t\t});\n\t},\n\thideExpandedRow: function (row) {\n\t\tvar thisInstance = this;\n\t\tvar items = thisInstance.getInventoryItemsContainer();\n\t\tvar inventoryRowExpanded = items.find('[numrowex=\"' + row.attr('numrow') + '\"]');\n\t\tvar element = row.find('.toggleVisibility');\n\t\telement.data('status', '0');\n\t\telement.find('[data-fa-i2svg]').removeClass('fa-angle-up');\n\t\telement.find('[data-fa-i2svg]').addClass('fa-angle-down');\n\t\tinventoryRowExpanded.addClass('d-none');\n\t\t$.each(inventoryRowExpanded.find('.js-editor'), function (key, data) {\n\t\t\tvar editorInstance = CKEDITOR.instances[$(data).attr('id')];\n\t\t\tif (editorInstance) {\n\t\t\t\teditorInstance.destroy();\n\t\t\t}\n\t\t});\n\t},\n\tinitDiscountsParameters: function (parentRow, modal) {\n\t\tvar thisInstance = this;\n\t\tvar parameters = parentRow.find('.discountParam').val();\n\t\tif (parameters == '' || parameters == undefined) {\n\t\t\treturn;\n\t\t}\n\t\tparameters = JSON.parse(parameters);\n\t\t$.each(thisInstance.discountModalFields, function (index, param) {\n\t\t\tvar parameter = parameters[param];\n\t\t\tvar field = modal.find('[name=\"' + param + '\"]');\n\n\t\t\tif (field.attr('type') == 'checkbox' || field.attr('type') == 'radio') {\n\t\t\t\tvar array = parameter;\n\t\t\t\tif (!$.isArray(array)) {\n\t\t\t\t\tarray = [array];\n\t\t\t\t}\n\t\t\t\t$.each(array, function (index, arrayValue) {\n\t\t\t\t\tvar value = field.filter('[value=\"' + arrayValue + '\"]').prop('checked', true);\n\t\t\t\t\tif (param == 'aggregationType') {\n\t\t\t\t\t\tvalue.closest('.js-panel').find('.js-panel__body').removeClass('d-none');\n\t\t\t\t\t\tvalue.closest('.js-panel').addClass('js-active');\n\t\t\t\t\t}\n\t\t\t\t});\n\t\t\t} else if (field.prop(\"tagName\") == 'SELECT') {\n\t\t\t\tfield.find('option[value=\"' + parameter + '\"]').prop('selected', 'selected').change();\n\t\t\t} else {\n\t\t\t\tmodal.find('[name=\"' + param + '\"]').val(parameter);\n\t\t\t}\n\t\t});\n\n\t\tthisInstance.calculateDiscount(parentRow, modal);\n\t},\n\tinitTaxParameters: function (parentRow, modal) {\n\t\tvar thisInstance = this;\n\t\tif (parentRow.data('taxParam')) {\n\t\t\tvar parameters = parentRow.data('taxParam');\n\t\t} else {\n\t\t\tvar parameters = parentRow.find('.taxParam').val();\n\t\t}\n\t\tif (!parameters) {\n\t\t\treturn;\n\t\t}\n\t\tparameters = JSON.parse(parameters);\n\t\t$.each(thisInstance.taxModalFields, function (index, param) {\n\t\t\tvar parameter = parameters[param];\n\t\t\tvar field = modal.find('[name=\"' + param + '\"]');\n\n\t\t\tif (field.attr('type') == 'checkbox' || field.attr('type') == 'radio') {\n\t\t\t\tvar array = parameter;\n\t\t\t\tif (!$.isArray(array)) {\n\t\t\t\t\tarray = [array];\n\t\t\t\t}\n\t\t\t\t$.each(array, function (index, arrayValue) {\n\t\t\t\t\tvar value = field.filter('[value=\"' + arrayValue + '\"]').prop('checked', true);\n\t\t\t\t\tif (param == 'aggregationType') {\n\t\t\t\t\t\tvalue.closest('.js-panel').find('.js-panel__body').removeClass('d-none');\n\t\t\t\t\t\tvalue.closest('.js-panel').addClass('js-active');\n\t\t\t\t\t}\n\t\t\t\t});\n\t\t\t} else if (field.prop(\"tagName\") == 'SELECT') {\n\t\t\t\tfield.find('option[value=\"' + parameter + '\"]').prop('selected', 'selected').change();\n\t\t\t} else {\n\t\t\t\tmodal.find('[name=\"' + param + '\"]').val(parameter);\n\t\t\t}\n\t\t});\n\t\tthisInstance.calculateTax(parentRow, modal);\n\t},\n\tlimitEnableSave: false,\n\tcheckLimits: function () {\n\t\tvar thisInstance = this;\n\t\tvar account = thisInstance.getAccountId();\n\t\tvar limit = parseInt(app.getMainParams('inventoryLimit'));\n\t\tvar response = true;\n\n\t\tif (account == '' || thisInstance.limitEnableSave || !limit) {\n\t\t\treturn response;\n\t\t}\n\n\t\tvar params = {};\n\t\tparams.data = {\n\t\t\tmodule: app.getModuleName(),\n\t\t\taction: 'Inventory',\n\t\t\tmode: 'checkLimits',\n\t\t\trecord: account,\n\t\t\tcurrency: thisInstance.getCurrency(),\n\t\t\tprice: thisInstance.getSummaryGrossPrice()\n\t\t};\n\t\tparams.async = false;\n\t\tparams.dataType = 'json';\n\t\tvar progressInstace = $.progressIndicator();\n\t\tAppConnector.request(params).done(function (data) {\n\t\t\tprogressInstace.hide();\n\t\t\tif (data.result.status == false) {\n\t\t\t\tapp.showModalWindow(data.result.html, function (data) {\n\t\t\t\t});\n\t\t\t\tresponse = false;\n\t\t\t}\n\t\t}).fail(function (error, err) {\n\t\t\t\tprogressInstace.hide();\n\t\t\t\tconsole.error(error, err);\n\t\t\t}\n\t\t);\n\t\treturn response;\n\t},\n\tcurrencyChangeActions: function (select, option) {\n\t\tvar thisInstance = this;\n\t\tif (option.data('baseCurrency') == 0) {\n\t\t\tthisInstance.showCurrencyChangeModal(select, option);\n\t\t} else {\n\t\t\tthisInstance.currencyConvertValues(select, option);\n\t\t\tselect.data('oldValue', select.val());\n\t\t}\n\t},\n\tshowCurrencyChangeModal: function (select, option) {\n\t\tvar thisInstance = this;\n\t\tif (thisInstance.lockCurrencyChange == true) {\n\t\t\treturn;\n\t\t}\n\t\tthisInstance.lockCurrencyChange = true;\n\t\tvar block = select.closest('th');\n\t\tvar modal = block.find('.modelContainer').clone();\n\t\tapp.showModalWindow(modal, function (data) {\n\t\t\tvar modal = $(data);\n\t\t\tvar currencyParam = JSON.parse(block.find('.currencyparam').val());\n\n\t\t\tif (currencyParam != false) {\n\t\t\t\tif (typeof currencyParam[option.val()] === \"undefined\") {\n\t\t\t\t\tvar defaultCurrencyParams = [];\n\t\t\t\t\tdefaultCurrencyParams['value'] = 1;\n\t\t\t\t\tdefaultCurrencyParams['date'] = '';\n\t\t\t\t\tcurrencyParam[option.val()] = defaultCurrencyParams;\n\t\t\t\t}\n\t\t\t\tmodal.find('.currencyName').text(option.text());\n\t\t\t\tmodal.find('.currencyRate').val(currencyParam[option.val()]['value']);\n\t\t\t\tmodal.find('.currencyDate').text(currencyParam[option.val()]['date']);\n\t\t\t}\n\t\t\tmodal.on('click', 'button[type=\"submit\"]', function (e) {\n\t\t\t\tvar rate = modal.find('.currencyRate').val();\n\t\t\t\tvar value = app.parseNumberToFloat(rate);\n\t\t\t\tvar conversionRate = 1 / app.parseNumberToFloat(rate);\n\n\t\t\t\toption.data('conversionRate', conversionRate);\n\t\t\t\tcurrencyParam[option.val()] = {\n\t\t\t\t\tvalue: value.toString(),\n\t\t\t\t\tconversion: conversionRate.toString()\n\t\t\t\t};\n\t\t\t\tblock.find('.currencyparam').val(JSON.stringify(currencyParam));\n\n\t\t\t\tthisInstance.currencyConvertValues(select, option);\n\t\t\t\tselect.data('oldValue', select.val());\n\t\t\t\tapp.hideModalWindow();\n\t\t\t\tthisInstance.lockCurrencyChange = false;\n\t\t\t});\n\t\t\tmodal.on('click', 'button[type=\"reset\"]', function (e) {\n\t\t\t\tselect.val(select.data('oldValue')).change();\n\t\t\t\tthisInstance.lockCurrencyChange = false;\n\t\t\t});\n\t\t});\n\t},\n\tcurrencyConvertValues: function (select, selected) {\n\t\tvar thisInstance = this;\n\n\t\tvar previous = select.find('option[value=\"' + select.data('oldValue') + '\"]');\n\t\tvar conversionRate = selected.data('conversionRate');\n\t\tvar prevConversionRate = previous.data('conversionRate');\n\t\tconversionRate = parseFloat(conversionRate) / parseFloat(prevConversionRate);\n\n\t\tthis.getInventoryItemsContainer().find(thisInstance.rowClass).each(function (index) {\n\t\t\tvar row = $(this);\n\n\t\t\tthisInstance.setUnitPrice(row, app.parseNumberToFloat(thisInstance.getUnitPriceValue(row) * conversionRate));\n\t\t\tthisInstance.setDiscount(row, app.parseNumberToFloat(thisInstance.getDiscount(row) * conversionRate));\n\t\t\tthisInstance.setTax(row, app.parseNumberToFloat(thisInstance.getTax(row) * conversionRate));\n\t\t\tthisInstance.quantityChangeActions(row);\n\t\t});\n\t},\n\tregisterAddItem: function (container) {\n\t\tvar thisInstance = this;\n\t\tvar items = this.getInventoryItemsContainer();\n\t\tcontainer.find('.btn-toolbar .addItem').on('click', function (e, data) {\n\t\t\tvar newRow = thisInstance.getBasicRow();\n\t\t\tvar sequenceNumber = thisInstance.getNextLineItemRowNumber();\n\t\t\tvar module = $(e.currentTarget).data('module');\n\t\t\tvar field = $(e.currentTarget).data('field');\n\t\t\tvar replaced = newRow.html().replace(/_NUM_/g, sequenceNumber);\n\t\t\tnewRow.html(replaced);\n\t\t\tnewRow = newRow.find('tr').appendTo(items.find('tbody'));\n\n\t\t\tnewRow.find('.rowName input[name=\"popupReferenceModule\"]').val(module).data('field', field);\n\t\t\tnewRow.find('.colPicklistField select').each(function (index, select) {\n\t\t\t\tselect = $(select);\n\t\t\t\tselect.find('option').each(function (index, option) {\n\t\t\t\t\toption = $(option);\n\t\t\t\t\tif (option.data('module') != module) {\n\t\t\t\t\t\toption.remove();\n\t\t\t\t\t}\n\t\t\t\t});\n\t\t\t});\n\t\t\tthisInstance.initItem(newRow);\n\t\t\tVtiger_Edit_Js.getInstance().registerAutoCompleteFields(newRow);\n\t\t\tapp.showPopoverElementView(newRow.find('.js-popover-tooltip'));\n\t\t});\n\t},\n\tregisterSortableItems: function () {\n\t\tvar thisInstance = this;\n\t\tvar items = thisInstance.getInventoryItemsContainer();\n\t\titems.sortable({\n\t\t\thandle: '.dragHandle',\n\t\t\titems: thisInstance.rowClass,\n\t\t\trevert: true,\n\t\t\ttolerance: 'pointer',\n\t\t\tplaceholder: \"ui-state-highlight\",\n\t\t\thelper: function (e, ui) {\n\t\t\t\tui.children().each(function (index, element) {\n\t\t\t\t\telement = $(element);\n\t\t\t\t\telement.width(element.width());\n\t\t\t\t});\n\t\t\t\treturn ui;\n\t\t\t},\n\t\t\tstart: function (event, ui) {\n\t\t\t\titems.find(thisInstance.rowClass).each(function (index, element) {\n\t\t\t\t\tvar row = $(element);\n\t\t\t\t\tthisInstance.hideExpandedRow(row);\n\t\t\t\t});\n\t\t\t\tui.item.startPos = ui.item.index();\n\t\t\t},\n\t\t\tstop: function (event, ui) {\n\t\t\t\tvar numrow = $(ui.item).attr('numrow');\n\t\t\t\tvar child = items.find('.numRow' + numrow).remove().clone();\n\t\t\t\titems.find('[numrow=\"' + numrow + '\"]').after(child);\n\t\t\t\tif (ui.item.startPos < ui.item.index()) {\n\t\t\t\t\tchild = items.find('.numRow' + numrow).next().remove().clone();\n\t\t\t\t\titems.find('[numrow=\"' + numrow + '\"]').before(child);\n\t\t\t\t}\n\t\t\t\tthisInstance.updateRowSequence();\n\t\t\t}\n\t\t});\n\t},\n\tregisterShowHideExpanded: function (container) {\n\t\tvar thisInstance = this;\n\t\tcontainer.on('click', '.toggleVisibility', function (e) {\n\t\t\tvar element = $(e.currentTarget);\n\t\t\tvar row = thisInstance.getClosestRow(element);\n\t\t\tif (element.data('status') === '0') {\n\t\t\t\tthisInstance.showExpandedRow(row);\n\t\t\t} else {\n\t\t\t\tthisInstance.hideExpandedRow(row);\n\t\t\t}\n\t\t});\n\t},\n\tregisterPriceBookModal: function (container) {\n\t\tvar thisInstance = this;\n\t\tcontainer.on('click', '.js-price-book-modal', function (e) {\n\t\t\tvar element = $(e.currentTarget);\n\t\t\tvar response = thisInstance.isRecordSelected(element);\n\t\t\tif (response == true) {\n\t\t\t\treturn;\n\t\t\t}\n\t\t\tthisInstance.pricebooksModalHandler(element);\n\t\t});\n\t},\n\tregisterRowChangeEvent: function (container) {\n\t\tvar thisInstance = this;\n\t\tcontainer.on('focusout', '.qty', function (e) {\n\t\t\tvar element = $(e.currentTarget);\n\t\t\tthisInstance.quantityChangeActions(thisInstance.getClosestRow(element));\n\t\t});\n\t\tcontainer.on('focusout', '.unitPrice', function (e) {\n\t\t\tvar element = $(e.currentTarget);\n\t\t\tthisInstance.quantityChangeActions(thisInstance.getClosestRow(element));\n\t\t});\n\t\tcontainer.on('focusout', '.purchase', function (e) {\n\t\t\tvar element = $(e.currentTarget);\n\t\t\tthisInstance.quantityChangeActions(thisInstance.getClosestRow(element));\n\t\t});\n\t\tvar headContainer = thisInstance.getInventoryHeadContainer();\n\t\theadContainer.on('change', '.taxMode', function (e) {\n\t\t\tvar element = $(e.currentTarget);\n\t\t\tthisInstance.showIndividualTax(thisInstance.getClosestRow(element));\n\t\t\tthisInstance.rowsCalculations();\n\t\t});\n\t\theadContainer.on('change', '.discountMode', function (e) {\n\t\t\tvar element = $(e.currentTarget);\n\t\t\tthisInstance.showIndividualDiscount(thisInstance.getClosestRow(element));\n\t\t\tthisInstance.rowsCalculations();\n\t\t});\n\t},\n\tregisterSubProducts: function (container) {\n\t\tvar thisInstance = this;\n\t\tcontainer.find('.inventoryItems ' + thisInstance.rowClass).each(function (index) {\n\t\t\tthisInstance.loadSubProducts($(this), false);\n\t\t});\n\t},\n\tregisterClearReferenceSelection: function (container) {\n\t\tvar thisInstance = this;\n\t\tcontainer.on('click', '.clearReferenceSelection', function (e) {\n\t\t\tvar element = $(e.currentTarget);\n\t\t\tvar row = thisInstance.getClosestRow(element);\n\t\t\tthisInstance.removeSubProducts(row);\n\t\t\trow.find('.unitPrice,.tax,.discount,.margin,.purchase').val(app.parseNumberToShow(0));\n\t\t\trow.find('textarea,.valueVal').val('');\n\t\t\trow.find('.valueText').text('');\n\t\t\trow.find('.qtyParamInfo').addClass('hidden');\n\t\t\tif (!thisInstance.isGroupTaxMode()) {\n\t\t\t\tthisInstance.setTaxParam(row, []);\n\t\t\t}\n\t\t\tthisInstance.quantityChangeActions(row);\n\t\t});\n\t},\n\tregisterDeleteLineItemEvent: function (container) {\n\t\tvar thisInstance = this;\n\t\tcontainer.on('click', '.deleteRow', function (e) {\n\t\t\tvar element = $(e.currentTarget);\n\t\t\tvar row = thisInstance.getClosestRow(element);\n\t\t\tcontainer.find('[numrowex=\"' + row.attr('numrow') + '\"]').remove();\n\t\t\trow.remove();\n\t\t\tthisInstance.checkDeleteIcon();\n\t\t\tthisInstance.rowsCalculations();\n\t\t\tif (thisInstance.getInventoryItemsContainer().find('.inventoryRow').length === 0) {\n\t\t\t\t$('#inventoryItemsNo').val(0);\n\t\t\t}\n\t\t\tthisInstance.updateRowSequence();\n\t\t});\n\t},\n\tregisterChangeDiscount: function (container) {\n\t\tvar thisInstance = this;\n\t\tcontainer.on('click', '.changeDiscount', function (e) {\n\t\t\tvar parentRow;\n\t\t\tvar element = $(e.currentTarget);\n\t\t\tvar params = {\n\t\t\t\tmodule: app.getModuleName(),\n\t\t\t\tview: 'Inventory',\n\t\t\t\tmode: 'showDiscounts',\n\t\t\t\tcurrency: thisInstance.getCurrency(),\n\t\t\t\trelatedRecord: thisInstance.getAccountId()\n\t\t\t};\n\t\t\tif (element.hasClass('groupDiscount')) {\n\t\t\t\tparentRow = thisInstance.getInventoryItemsContainer();\n\t\t\t\tif (parentRow.find('tfoot .colTotalPrice').length != 0) {\n\t\t\t\t\tparams.totalPrice = app.parseNumberToFloat(parentRow.find('tfoot .colTotalPrice').text());\n\t\t\t\t} else {\n\t\t\t\t\tparams.totalPrice = 0;\n\t\t\t\t}\n\t\t\t\tparams.discountType = 1;\n\t\t\t} else {\n\t\t\t\tparentRow = element.closest(thisInstance.rowClass);\n\t\t\t\tparams.totalPrice = thisInstance.getTotalPrice(parentRow);\n\t\t\t\tparams.discountType = 0;\n\t\t\t}\n\n\t\t\tvar progressInstace = $.progressIndicator();\n\t\t\tAppConnector.request(params).done(function (data) {\n\t\t\t\tapp.showModalWindow(data, function (data) {\n\t\t\t\t\tthisInstance.initDiscountsParameters(parentRow, $(data));\n\t\t\t\t\tthisInstance.registerChangeDiscountModal(data, parentRow, params);\n\t\t\t\t});\n\t\t\t\tprogressInstace.hide();\n\t\t\t}).fail(function (error, err) {\n\t\t\t\tprogressInstace.hide();\n\t\t\t\tconsole.error(error, err);\n\t\t\t});\n\t\t});\n\t},\n\tregisterChangeDiscountModal: function (modal, parentRow, params) {\n\t\tvar thisInstance = this;\n\t\tmodal.on('change', '.individualDiscountType', function (e) {\n\t\t\tvar element = $(e.currentTarget);\n\t\t\tmodal.find('.individualDiscountContainer .input-group-text').text(element.data('symbol'));\n\t\t});\n\t\tmodal.on('change', '.activeCheckbox[name=\"aggregationType\"]', function (e) {\n\t\t\tvar element = $(e.currentTarget);\n\n\t\t\tif (element.attr('type') == 'checkbox' && this.checked) {\n\t\t\t\telement.closest('.js-panel').find('.js-panel__body').removeClass('d-none');\n\t\t\t\telement.closest('.js-panel').addClass('js-active');\n\t\t\t} else if (element.attr('type') == 'radio') {\n\t\t\t\tmodal.find('.js-panel').removeClass('js-active');\n\t\t\t\tmodal.find('.js-panel .js-panel__body').addClass('d-none');\n\t\t\t\telement.closest('.js-panel').find('.js-panel__body').removeClass('d-none');\n\t\t\t\telement.closest('.js-panel').addClass('js-active');\n\t\t\t} else {\n\t\t\t\telement.closest('.js-panel').find('.js-panel__body').addClass('d-none');\n\t\t\t\telement.closest('.js-panel').removeClass('js-active');\n\t\t\t}\n\t\t});\n\t\tmodal.on('change', '.activeCheckbox, .globalDiscount,.individualDiscountValue,.individualDiscountType,.groupCheckbox', function (e) {\n\t\t\tthisInstance.calculateDiscount(parentRow, modal);\n\t\t});\n\t\tmodal.on('click', '.saveDiscount', function (e) {\n\t\t\tthisInstance.saveDiscountsParameters(parentRow, modal);\n\t\t\tif (params.discountType == 0) {\n\t\t\t\tthisInstance.setDiscount(parentRow, app.parseNumberToFloat(modal.find('.valueDiscount').text()));\n\t\t\t\tthisInstance.quantityChangeActions(parentRow);\n\t\t\t} else {\n\t\t\t\tvar rate = app.parseNumberToFloat(modal.find('.valueDiscount').text()) / app.parseNumberToFloat(modal.find('.valueTotalPrice').text());\n\t\t\t\tparentRow.find(thisInstance.rowClass).each(function (index) {\n\t\t\t\t\tthisInstance.setDiscount($(this), thisInstance.getTotalPrice($(this)) * rate);\n\t\t\t\t\tthisInstance.quantityChangeActions($(this));\n\t\t\t\t});\n\t\t\t}\n\t\t\tapp.hideModalWindow();\n\t\t});\n\t},\n\tregisterChangeTax: function (container) {\n\t\tvar thisInstance = this;\n\t\tcontainer.on('click', '.changeTax', function (e) {\n\t\t\tvar parentRow;\n\t\t\tvar element = $(e.currentTarget);\n\t\t\tvar params = {\n\t\t\t\tmodule: app.getModuleName(),\n\t\t\t\tview: 'Inventory',\n\t\t\t\tmode: 'showTaxes',\n\t\t\t\tcurrency: thisInstance.getCurrency(),\n\t\t\t\tsourceRecord: app.getRecordId()\n\t\t\t};\n\t\t\tif (element.hasClass('groupTax')) {\n\t\t\t\tparentRow = thisInstance.getInventoryItemsContainer();\n\t\t\t\tvar totalPrice = 0;\n\t\t\t\tif (parentRow.find('tfoot .colNetPrice').length > 0) {\n\t\t\t\t\ttotalPrice = parentRow.find('tfoot .colNetPrice').text();\n\t\t\t\t} else if (parentRow.find('tfoot .colTotalPrice ').length > 0) {\n\t\t\t\t\ttotalPrice = parentRow.find('tfoot .colTotalPrice ').text();\n\t\t\t\t}\n\t\t\t\tparams.totalPrice = app.parseNumberToFloat(totalPrice);\n\t\t\t\tparams.taxType = 1;\n\t\t\t} else {\n\t\t\t\tparentRow = element.closest(thisInstance.rowClass);\n\t\t\t\tparams.totalPrice = thisInstance.getNetPrice(parentRow);\n\t\t\t\tparams.taxType = 0;\n\t\t\t\tparams.record = parentRow.find('.rowName .sourceField').val();\n\t\t\t\tparams.recordModule = parentRow.find('.rowName [name=\"popupReferenceModule\"]').val();\n\t\t\t}\n\t\t\tvar progressInstace = $.progressIndicator();\n\t\t\tAppConnector.request(params).done(function (data) {\n\t\t\t\tapp.showModalWindow(data, function (data) {\n\t\t\t\t\tthisInstance.initTaxParameters(parentRow, $(data));\n\t\t\t\t\tthisInstance.registerChangeTaxModal(data, parentRow, params);\n\t\t\t\t});\n\t\t\t\tprogressInstace.hide();\n\t\t\t}).fail(function (error, err) {\n\t\t\t\tprogressInstace.hide();\n\t\t\t\tconsole.error(error, err);\n\t\t\t});\n\t\t});\n\t},\n\tlockCurrencyChange: false,\n\tregisterChangeCurrency: function (container) {\n\t\tvar thisInstance = this;\n\t\tcontainer.on('change', '[name=\"currency\"]', function (e) {\n\t\t\tvar element = $(e.currentTarget);\n\t\t\tvar symbol = element.find('option:selected').data('conversionSymbol');\n\t\t\tthisInstance.currencyChangeActions(element, element.find('option:selected'));\n\t\t\tcontainer.find('.currencySymbol').text(symbol);\n\t\t});\n\t},\n\tregisterChangeTaxModal: function (modal, parentRow, params) {\n\t\tvar thisInstance = this;\n\t\tmodal.on('change', '.individualTaxType', function (e) {\n\t\t\tvar element = $(e.currentTarget);\n\t\t\tmodal.find('.individualTaxContainer .input-group-text').text(element.data('symbol'));\n\t\t});\n\t\tmodal.on('change', '.activeCheckbox[name=\"aggregationType\"]', function (e) {\n\t\t\tvar element = $(e.currentTarget);\n\n\t\t\tif (element.attr('type') == 'checkbox' && this.checked) {\n\t\t\t\telement.closest('.js-panel').find('.js-panel__body').removeClass('d-none');\n\t\t\t\telement.closest('.js-panel').addClass('js-active');\n\t\t\t} else if (element.attr('type') == 'radio') {\n\t\t\t\tmodal.find('.js-panel').removeClass('js-active');\n\t\t\t\tmodal.find('.js-panel .js-panel__body').addClass('d-none');\n\t\t\t\telement.closest('.js-panel').find('.js-panel__body').removeClass('d-none');\n\t\t\t\telement.closest('.js-panel').addClass('js-active');\n\t\t\t} else {\n\t\t\t\telement.closest('.js-panel').find('.js-panel__body').addClass('d-none');\n\t\t\t\telement.closest('.js-panel').removeClass('js-active');\n\t\t\t}\n\t\t});\n\t\tmodal.on('change', '.activeCheckbox, .globalTax, .individualTaxValue, .groupTax, .regionalTax', function (e) {\n\t\t\tthisInstance.calculateTax(parentRow, modal);\n\t\t});\n\t\tmodal.on('click', '.saveTaxs', function (e) {\n\t\t\tthisInstance.saveTaxsParameters(parentRow, modal);\n\t\t\tif (params.taxType == '0') {\n\t\t\t\tthisInstance.setTax(parentRow, app.parseNumberToFloat(modal.find('.valueTax').text()));\n\t\t\t\tthisInstance.quantityChangeActions(parentRow);\n\t\t\t} else {\n\t\t\t\tvar rate = app.parseNumberToFloat(modal.find('.valueTax').text()) / app.parseNumberToFloat(modal.find('.valueNetPrice').text());\n\t\t\t\tparentRow.find(thisInstance.rowClass).each(function (index) {\n\t\t\t\t\tvar totalPrice;\n\t\t\t\t\tif ($('.netPrice', $(this)).length > 0) {\n\t\t\t\t\t\ttotalPrice = thisInstance.getNetPrice($(this));\n\t\t\t\t\t} else if ($('.totalPrice', $(this)).length > 0) {\n\t\t\t\t\t\ttotalPrice = thisInstance.getTotalPrice($(this));\n\t\t\t\t\t}\n\t\t\t\t\tthisInstance.setTax($(this), totalPrice * rate);\n\t\t\t\t\tthisInstance.quantityChangeActions($(this));\n\t\t\t\t});\n\t\t\t}\n\t\t\tapp.hideModalWindow();\n\t\t});\n\t},\n\tregisterRowAutoComplete: function (container) {\n\t\tvar thisInstance = this;\n\t\tvar sourceFieldElement = container.find('.sourceField');\n\t\tsourceFieldElement.on(Vtiger_Edit_Js.referenceSelectionEvent, function (e, params) {\n\t\t\tvar record = params.record;\n\t\t\tvar element = $(e.currentTarget);\n\t\t\tvar parentRow = element.closest(thisInstance.rowClass);\n\t\t\tvar selectedModule = parentRow.find('.rowName [name=\"popupReferenceModule\"]').val();\n\t\t\tvar dataUrl = \"index.php?module=\" + app.getModuleName() + \"&action=Inventory&mode=getDetails&record=\" + record + '&fieldname=' + element.data('columnname');\n\t\t\tif (thisInstance.getCurrency()) {\n\t\t\t\tdataUrl += \"&currency_id=\" + thisInstance.getCurrency();\n\t\t\t}\n\t\t\tAppConnector.request(dataUrl).done(function (data) {\n\t\t\t\tfor (var id in data) {\n\t\t\t\t\tif (typeof data[id] == \"object\") {\n\t\t\t\t\t\tvar recordData = data[id];\n\t\t\t\t\t\tthisInstance.mapResultsToFields(selectedModule, parentRow, recordData);\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t});\n\t\t});\n\t},\n\tcalculateItemNumbers: function () {\n\t\tvar thisInstance = this;\n\t\tvar items = this.getInventoryItemsContainer();\n\t\tvar i = 1;\n\t\titems.find(thisInstance.rowClass).each(function (index) {\n\t\t\t$(this).find('.itemNumberText').text(i);\n\t\t\ti++;\n\t\t});\n\t},\n\tinitItem: function (container) {\n\t\tlet thisInstance = this;\n\t\tif (typeof container === \"undefined\") {\n\t\t\tcontainer = thisInstance.getInventoryItemsContainer();\n\t\t}\n\t\tthisInstance.registerDeleteLineItemEvent(container);\n\t\tthisInstance.registerPriceBookModal(container);\n\t\tthisInstance.registerRowChangeEvent(container);\n\t\tthisInstance.registerRowAutoComplete(container);\n\t\tthisInstance.checkDeleteIcon();\n\t\tthisInstance.rowsCalculations();\n\t\tthisInstance.updateRowSequence();\n\t\tApp.Fields.Picklist.showSelect2ElementView(container.find('.selectInv'));\n\t\tApp.Fields.Date.register(container, true, {}, 'dateFieldInv');\n\t\tcontainer.validationEngine('detach');\n\t\tcontainer.validationEngine(app.validationEngineOptions);\n\t},\n\t/**\n\t * Function which will register all the events\n\t */\n\tregisterEvents: function (container) {\n\t\tthis.registerInventorySaveData(container);\n\t\tthis.registerAddItem(container);\n\n\t\tthis.initItem();\n\t\tthis.registerSortableItems();\n\t\tthis.registerSubProducts(container);\n\t\tthis.registerChangeDiscount(container);\n\t\tthis.registerChangeTax(container);\n\t\tthis.registerClearReferenceSelection(container);\n\t\tthis.registerShowHideExpanded(container);\n\t\tthis.registerChangeCurrency(container);\n\t\tthis.setDefaultGlobalTax(container);\n\t}\n});\n$(document).ready(function () {\n\tvar moduleName = app.getModuleName();\n\tvar moduleClassName = moduleName + \"_Inventory_Js\";\n\tif (typeof window[moduleClassName] === \"undefined\") {\n\t\tmoduleClassName = \"Vtiger_Inventory_Js\";\n\t}\n\tif (typeof window[moduleClassName] !== \"undefined\") {\n\t\tvar inventoryController = new window[moduleClassName]();\n\t\tinventoryController.registerEvents(Vtiger_Edit_Js.getInstance().getForm());\n\t}\n});\n"],"names":["$","Class","inventoryContainer","inventoryHeadContainer","summaryTaxesContainer","summaryDiscountContainer","summaryCurrenciesContainer","rowClass","discountModalFields","taxModalFields","getInventoryItemsContainer","getInventoryHeadContainer","getInventorySummaryDiscountContainer","getInventorySummaryTaxesContainer","getInventorySummaryCurrenciesContainer","getNextLineItemRowNumber","rowNumber","parseInt","$inventoryItemsNo","val","getAccountId","accountReferenceField","checkDeleteIcon","data","find","length","showLineItemsDeleteIcon","hideLineItemsDeleteIcon","removeClass","addClass","getClosestRow","element","closest","getBasicRow","clone","isRecordSelected","productField","parentRow","validationEngine","getTaxModeSelectElement","row","isIndividualTaxMode","selectedOption","taxModeElement","isGroupTaxMode","taxTypeElement","showIndividualTax","groupTax","thisInstance","items","newRow","taxParam","aggregationType","each","app","parseNumberToShow","thisItem","attr","setTaxParam","setTax","setDefaultGlobalTax","rowsCalculations","taxDefaultValue","isGroupTax","JSON","stringify","quantityChangeActions","getDiscountModeSelectElement","isIndividualDiscountMode","discountModeElement","showIndividualDiscount","groupDiscount","setDiscount","setDiscountParam","getCurrency","getTax","getNumberFromValue","getTaxParams","parse","taxParams","getQuantityValue","getUnitPriceValue","getDiscount","getNetPrice","getTotalPrice","getGrossPrice","getPurchase","purchase","parseNumberToFloat","qty","getSummaryGrossPrice","price","setUnitPrice","setNetPrice","text","setGrossPrice","setTotalPrice","setMargin","setMarginP","rowCalculations","summaryCalculations","calculateTotalPrice","calculateDiscounts","calculateNetPrice","calculateTaxes","calculateGrossPrice","calculateMargin","calculateItemNumbers","discountParams","discountRate","types","forEach","entry","discountValue","individualDiscount","individualDiscountType","valuePrices","globalDiscount","taxRate","taxValue","individualTax","globalTax","regionalTax","calculatSummary","calculatDiscountSummary","calculatTaxSummary","calculatCurrenciesSummary","calculatMarginPSummary","field","sum","sumRow","margin","marginp","discount","getAllDiscount","container","selected","base","conversionRate","baseConversionRate","parseFloat","getAllTaxs","html","taxs","index","value","appendTo","tax","typeSummary","netPrice","params","param","name","old","precent","netPriceBeforeDiscount","calculateDiscount","modal","discountsType","prop","panel","calculateTax","netPriceWithoutTax","taxType","updateRowSequence","registerInventorySaveData","on","Vtiger_Edit_Js","recordPreSave","checkLimits","table","removeAttr","pricebooksModalHandler","lineItemRow","rowName","showRecordsList","module","src_module","src_record","src_field","currency_id","instance","setSelectEvent","responseData","AppConnector","request","action","record","id","done","result","errorLog","subProductsCashe","loadSubProducts","indicator","recordId","recordModule","removeSubProducts","inArray","addSubProducts","progressIndicator","progressInstace","hide","fail","error","err","console","subProductsContainer","remove","append","priductText","mapResultsToFields","referenceModule","unitPrice","description","recordData","unitPriceValues","unitPriceValuesJson","parameters","taxes","type","currencyId","next","editorInstance","CKEDITOR","instances","commentElement","setData","saveDiscountsParameters","info","extend","push","saveTaxsParameters","showExpandedRow","inventoryRowExpanded","getInstance","key","listInstance","loadEditorElement","hideExpandedRow","destroy","initDiscountsParameters","parameter","isArray","array","arrayValue","filter","change","initTaxParameters","limitEnableSave","account","limit","getMainParams","response","getModuleName","mode","currency","async","dataType","status","showModalWindow","currencyChangeActions","select","option","showCurrencyChangeModal","currencyConvertValues","lockCurrencyChange","block","currencyParam","defaultCurrencyParams","rate","toString","conversion","hideModalWindow","previous","prevConversionRate","registerAddItem","e","sequenceNumber","currentTarget","replaced","replace","initItem","registerAutoCompleteFields","showPopoverElementView","registerSortableItems","sortable","handle","revert","tolerance","placeholder","helper","ui","children","width","start","event","item","startPos","stop","child","numrow","after","before","registerShowHideExpanded","registerPriceBookModal","registerRowChangeEvent","headContainer","registerSubProducts","registerClearReferenceSelection","registerDeleteLineItemEvent","registerChangeDiscount","view","relatedRecord","hasClass","totalPrice","discountType","registerChangeDiscountModal","checked","registerChangeTax","sourceRecord","getRecordId","registerChangeTaxModal","registerChangeCurrency","symbol","registerRowAutoComplete","sourceFieldElement","referenceSelectionEvent","selectedModule","dataUrl","i","App","Fields","Picklist","showSelect2ElementView","Date","register","validationEngineOptions","registerEvents","document","ready","moduleClassName","moduleName","inventoryController","getForm"],"mappings":"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"}