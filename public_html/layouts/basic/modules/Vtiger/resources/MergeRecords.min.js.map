{"version":3,"file":"MergeRecords.min.js","sources":["MergeRecords.js"],"sourcesContent":["/* {[The file is published on the basis of YetiForce Public License 3.0 that can be found in the following directory: licenses/LicenseEN.txt or yetiforce.com]} */\n'use strict';\n\n$.Class(\"Base_MergeRecords_JS\", {}, {\n\t/**\n\t * Modal container\n\t */\n\tcontainer: false,\n\t/**\n\t * Register list events\n\t */\n\tregisterListEvents: function () {\n\t\tthis.container.find('[name=\"record\"]').on('change', (e) => {\n\t\t\tthis.container.find('input[value=' + $(e.currentTarget).val() + ']').trigger('click');\n\t\t});\n\t\tthis.container.find('[type=\"submit\"]').on('click', (e) => {\n\t\t\te.preventDefault;\n\t\t\tconst progressIndicatorElement = $.progressIndicator({position: 'html', blockInfo: {enabled: true}});\n\t\t\tAppConnector.request(this.container.find('form').serializeFormData()).done(function (data) {\n\t\t\t\tprogressIndicatorElement.progressIndicator({mode: 'hide'});\n\t\t\t\tif (data.result === false) {\n\t\t\t\t\tVtiger_Helper_Js.showPnotify({text: app.vtranslate('JS_ERROR')});\n\t\t\t\t}\n\t\t\t\tapp.hideModalWindow();\n\t\t\t\tconst listInstance = new Vtiger_List_Js();\n\t\t\t\tlistInstance.getListViewRecords();\n\t\t\t\tVtiger_List_Js.clearList();\n\t\t\t});\n\t\t});\n\t},\n\t/**\n\t * Register modal events\n\t * @param {jQuery} modalContainer\n\t */\n\tregisterEvents: function (modalContainer) {\n\t\tthis.container = $(modalContainer);\n\t\tthis.registerListEvents();\n\t}\n});\n"],"names":["$","Class","container","registerListEvents","find","on","e","currentTarget","val","trigger","preventDefault","progressIndicator","position","blockInfo","enabled","AppConnector","request","serializeFormData","done","data","progressIndicatorElement","mode","result","Vtiger_Helper_Js","showPnotify","text","app","vtranslate","hideModalWindow","listInstance","getListViewRecords","Vtiger_List_Js","clearList","registerEvents","modalContainer"],"mappings":";;AAGAA,EAAEC,KAAF,CAAQ,sBAAR,CAAgC,EAAhC,CAAoC,CAInCC,YAJmC,CAQnCC,mBAAoB,YAAY,YAC/B,KAAKD,SAAL,CAAeE,IAAf,CAAoB,iBAApB,EAAuCC,EAAvC,CAA0C,QAA1C,CAAoD,SAACC,CAAD,CAAO,CAC1D,EAAKJ,SAAL,CAAeE,IAAf,CAAoB,eAAiBJ,EAAEM,EAAEC,aAAJ,EAAmBC,GAAnB,EAAjB,CAA4C,GAAhE,EAAqEC,OAArE,CAA6E,OAA7E,EACA,CAFD,CAD+B,CAI/B,KAAKP,SAAL,CAAeE,IAAf,CAAoB,iBAApB,EAAuCC,EAAvC,CAA0C,OAA1C,CAAmD,SAACC,CAAD,CAAO,CACzDA,EAAEI,cADuD,CAEzD,MAAiCV,EAAEW,iBAAF,CAAoB,CAACC,SAAU,MAAX,CAAmBC,UAAW,CAACC,UAAD,CAA9B,CAApB,CAAjC,CACAC,aAAaC,OAAb,CAAqB,EAAKd,SAAL,CAAeE,IAAf,CAAoB,MAApB,EAA4Ba,iBAA5B,EAArB,EAAsEC,IAAtE,CAA2E,SAAUC,CAAV,CAAgB,CAC1FC,EAAyBT,iBAAzB,CAA2C,CAACU,KAAM,MAAP,CAA3C,CAD0F,CAEtF,OAAKC,MAFiF,EAGzFC,iBAAiBC,WAAjB,CAA6B,CAACC,KAAMC,IAAIC,UAAJ,CAAe,UAAf,CAAP,CAA7B,CAHyF,CAK1FD,IAAIE,eAAJ,EAL0F,CAM1F,MAAqB,kBAArB,CACAC,EAAaC,kBAAb,EAP0F,CAQ1FC,eAAeC,SAAf,GACA,CATD,EAUA,CAbD,EAcA,CA1BkC,CA+BnCC,eAAgB,WAAUC,CAAV,CAA0B,CACzC,KAAKhC,SAAL,CAAiBF,EAAEkC,CAAF,CADwB,CAEzC,KAAK/B,kBAAL,GACA,CAlCkC,CAApC"}