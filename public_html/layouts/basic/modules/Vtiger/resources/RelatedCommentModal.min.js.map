{"version":3,"file":"RelatedCommentModal.min.js","sources":["RelatedCommentModal.js"],"sourcesContent":["/* {[The file is published on the basis of YetiForce Public License 3.0 that can be found in the following directory: licenses/LicenseEN.txt or yetiforce.com]} */\n'use strict';\n\njQuery.Class(\"Vtiger_RelatedCommentModal_Js\", {\n\twindowParent: app.getWindowParent(),\n\t/*\n\t * Function to register the click event for generate button\n\t */\n\tregisterSubmitEvent: function (container) {\n\t\tconst self = this;\n\t\tcontainer.find('[name=\"saveButton\"]').on('click', function (e) {\n\t\t\tvar progressLoader = jQuery.progressIndicator({\n\t\t\t\tposition: 'html',\n\t\t\t\tblockInfo: {\n\t\t\t\t\tenabled: true\n\t\t\t\t}\n\t\t\t});\n\t\t\tvar comment = container.find('.comment').val();\n\t\t\tvar params = {\n\t\t\t\tmodule: self.windowParent.app.getModuleName(),\n\t\t\t\trecord: self.windowParent.app.getRecordId(),\n\t\t\t\taction: 'RelatedCommentModal',\n\t\t\t\tmode: 'update',\n\t\t\t\tcomment: comment,\n\t\t\t\trelid: container.find('.relatedRecord').val(),\n\t\t\t\trelmodule: container.find('.relatedModuleName').val()\n\t\t\t};\n\t\t\tAppConnector.request(params).done(function (data) {\n\t\t\t\tVtiger_Helper_Js.showMessage({text: data.result});\n\t\t\t\tapp.hideModalWindow();\n\t\t\t\tprogressLoader.progressIndicator({mode: 'hide'});\n\t\t\t\tself.windowParent.Vtiger_Detail_Js.getInstance().reloadTabContent();\n\t\t\t}).fail(function (error) {\n\t\t\t\tprogressLoader.progressIndicator({mode: 'hide'});\n\t\t\t});\n\t\t});\n\t},\n\tregisterEvents: function () {\n\t\tvar container = jQuery('#modalRelatedCommentModal');\n\t\tthis.registerSubmitEvent(container);\n\t}\n});\njQuery(function () {\n\tvar instance = new Vtiger_RelatedCommentModal_Js();\n\tinstance.registerEvents();\n});\n"],"names":["jQuery","Class","windowParent","app","getWindowParent","registerSubmitEvent","container","find","on","progressIndicator","position","blockInfo","enabled","comment","val","params","module","self","getModuleName","record","getRecordId","action","mode","relid","relmodule","AppConnector","request","done","data","Vtiger_Helper_Js","showMessage","text","result","hideModalWindow","progressLoader","Vtiger_Detail_Js","getInstance","reloadTabContent","fail","registerEvents","instance"],"mappings":";;AAGAA,OAAOC,KAAP,CAAa,+BAAb,CAA8C,CAC7CC,aAAcC,IAAIC,eAAJ,EAD+B,CAK7CC,oBAAqB,WAAUC,CAAV,CAAqB,CACzC,MAAa,IAAb,CACAA,EAAUC,IAAV,CAAe,qBAAf,EAAsCC,EAAtC,CAAyC,OAAzC,CAAkD,UAAa,OACzCR,OAAOS,iBAAP,CAAyB,CAC7CC,SAAU,MADmC,CAE7CC,UAAW,CACVC,UADU,CAFkC,CAAzB,CADyC,CAO1DC,EAAUP,EAAUC,IAAV,CAAe,UAAf,EAA2BO,GAA3B,EAPgD,CAQ1DC,EAAS,CACZC,OAAQC,EAAKf,YAAL,CAAkBC,GAAlB,CAAsBe,aAAtB,EADI,CAEZC,OAAQF,EAAKf,YAAL,CAAkBC,GAAlB,CAAsBiB,WAAtB,EAFI,CAGZC,OAAQ,qBAHI,CAIZC,KAAM,QAJM,CAKZT,QAASA,CALG,CAMZU,MAAOjB,EAAUC,IAAV,CAAe,gBAAf,EAAiCO,GAAjC,EANK,CAOZU,UAAWlB,EAAUC,IAAV,CAAe,oBAAf,EAAqCO,GAArC,EAPC,CARiD,CAiB9DW,aAAaC,OAAb,CAAqBX,CAArB,EAA6BY,IAA7B,CAAkC,SAAUC,CAAV,CAAgB,CACjDC,iBAAiBC,WAAjB,CAA6B,CAACC,KAAMH,EAAKI,MAAZ,CAA7B,CADiD,CAEjD7B,IAAI8B,eAAJ,EAFiD,CAGjDC,EAAezB,iBAAf,CAAiC,CAACa,KAAM,MAAP,CAAjC,CAHiD,CAIjDL,EAAKf,YAAL,CAAkBiC,gBAAlB,CAAmCC,WAAnC,GAAiDC,gBAAjD,GACA,CALD,EAKGC,IALH,CAKQ,UAAiB,CACxBJ,EAAezB,iBAAf,CAAiC,CAACa,KAAM,MAAP,CAAjC,EACA,CAPD,EAQA,CAzBD,EA0BA,CAjC4C,CAkC7CiB,eAAgB,YAAY,CAC3B,MAAgBvC,OAAO,2BAAP,CAAhB,CACA,KAAKK,mBAAL,CAAyBC,CAAzB,EACA,CArC4C,CAA9C,EAuCAN,OAAO,UAAY,CAClB,MAAe,iCAAf,CACAwC,EAASD,cAAT,GACA,CAHD"}