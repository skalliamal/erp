{"version":3,"file":"RecordsList.min.js","sources":["RecordsList.js"],"sourcesContent":["/* {[The file is published on the basis of YetiForce Public License 3.0 that can be found in the following directory: licenses/LicenseEN.txt or yetiforce.com]} */\n'use strict';\n\n$.Class(\"Base_RecordsList_JS\", {}, {\n\t/**\n\t * Event for select row\n\t */\n\tselectEvent: false,\n\t/**\n\t * List search instance\n\t */\n\tlistSearchInstance: false,\n\t/**\n\t * Module name\n\t */\n\tmoduleName: false,\n\t/**\n\t * Modal container\n\t */\n\tcontainer: false,\n\t/**\n\t * Set event for select row\n\t * @param {function} cb\n\t */\n\tsetSelectEvent: function (cb) {\n\t\tthis.selectEvent = cb;\n\t},\n\t/**\n\t * Get params for record list\n\t * @returns {{module: string, view: string, src_module: string, src_record: int, src_field: string, related_parent_module: string, related_parent_id: int|string, page: int, orderby: string, sortorder: string, multi_select: boolean, totalCount: int|string, noOfEntries: int, onlyBody: boolean}}\n\t */\n\tgetParams: function () {\n\t\tlet params = {\n\t\t\tmodule: this.moduleName,\n\t\t\tview: this.container.data('view'),\n\t\t\tsrc_module: this.container.find('.js-parent-module').val(),\n\t\t\tsrc_record: this.container.find('.js-source-record').val(),\n\t\t\tsrc_field: this.container.find('.js-source-field').val(),\n\t\t\trelated_parent_module: this.container.find('.js-related-parent-module').val(),\n\t\t\trelated_parent_id: this.container.find('.js-related-parent-id').val(),\n\t\t\tpage: this.container.find('.js-page-number').val(),\n\t\t\torderby: this.container.find('.js-order-by').val(),\n\t\t\tsortorder: this.container.find('.js-sort-order').val(),\n\t\t\tmulti_select: this.container.find('.js-multi-select').val(),\n\t\t\ttotalCount: this.container.find('.js-total-count').val(),\n\t\t\tnoOfEntries: this.container.find('.js-no-entries').val(),\n\t\t\tfilterFields: JSON.parse(this.container.find('.js-filter-fields').val()),\n\t\t\tonlyBody: true\n\t\t}\n\t\tlet searchValue = this.listSearchInstance.getAlphabetSearchValue();\n\t\tparams['search_params'] = JSON.stringify(this.listSearchInstance.getListSearchParams(true));\n\t\tif ((typeof searchValue !== \"undefined\") && (searchValue.length > 0)) {\n\t\t\tparams['search_key'] = this.listSearchInstance.getAlphabetSearchField();\n\t\t\tparams['search_value'] = searchValue;\n\t\t\tparams['operator'] = 's';\n\t\t}\n\t\treturn params;\n\t},\n\t/**\n\t * Load records list\n\t * @param {object} params\n\t * @returns {*}\n\t */\n\tloadRecordList: function (params) {\n\t\tconst body = this.container.find('.js-modal-body')\n\t\tconst aDeferred = $.Deferred();\n\t\tconst progressIndicatorElement = $.progressIndicator({\n\t\t\tblockInfo: {\n\t\t\t\tenabled: true,\n\t\t\t\telementToBlock: body\n\t\t\t}\n\t\t});\n\t\tAppConnector.request($.extend(this.getParams(), params)).done((responseData) => {\n\t\t\tprogressIndicatorElement.progressIndicator({mode: 'hide'});\n\t\t\tbody.html($(responseData).html());\n\t\t\tthis.registerBasicEvents();\n\t\t\taDeferred.resolve(responseData);\n\t\t}).fail(function (textStatus, errorThrown) {\n\t\t\taDeferred.reject(textStatus, errorThrown);\n\t\t\tprogressIndicatorElement.progressIndicator({mode: 'hide'});\n\t\t});\n\t\treturn aDeferred.promise();\n\t},\n\t/*\n\t * Register the click event for listView headers\n\t */\n\tregisterHeadersClickEvent: function () {\n\t\tconst thisInstance = this;\n\t\tthis.container.on('click', '.js-change-order', function (e) {\n\t\t\te.preventDefault();\n\t\t\tconst element = $(this);\n\t\t\tif (typeof element.data('nextOrder') === \"undefined\") {\n\t\t\t\treturn;\n\t\t\t}\n\t\t\tthisInstance.loadRecordList({\n\t\t\t\torderby: element.data('name'),\n\t\t\t\tsortorder: element.data('nextOrder')\n\t\t\t});\n\t\t});\n\t},\n\t/**\n\t * Update record pagination\n\t * @param {boolean} countNumberRecords\n\t */\n\tupdatePagination: function (countNumberRecords) {\n\t\tlet params = this.getParams();\n\t\tparams['mode'] = 'getPagination';\n\t\tif (countNumberRecords) {\n\t\t\tparams['showTotalCount'] = true;\n\t\t}\n\t\tAppConnector.request(params).done((responseData) => {\n\t\t\tthis.container.find('.js-pagination-container').html(responseData);\n\t\t\tlet totalCount = this.container.find('.js-pagination-list').data('totalCount')\n\t\t\tif (totalCount) {\n\t\t\t\tthis.container.find('.js-total-count').val(totalCount);\n\t\t\t}\n\t\t\tthis.registerPaginationEvents();\n\t\t});\n\t},\n\t/**\n\t * Register pagination events\n\t */\n\tregisterPaginationEvents: function () {\n\t\tconst thisInstance = this;\n\t\tthis.container.find('.js-next-page').on('click', function () {\n\t\t\tif ($(this).hasClass('disabled')) {\n\t\t\t\treturn;\n\t\t\t}\n\t\t\tif (thisInstance.container.find('.js-no-entries').val() == thisInstance.container.find('.js-page-limit').val()) {\n\t\t\t\tlet pageNumber = thisInstance.container.find('.js-page-number');\n\t\t\t\tlet nextPageNumber = parseInt(parseFloat(pageNumber.val())) + 1;\n\t\t\t\tpageNumber.val(nextPageNumber)\n\t\t\t\tthisInstance.loadRecordList().done(function () {\n\t\t\t\t\tthisInstance.updatePagination();\n\t\t\t\t});\n\t\t\t}\n\t\t});\n\t\tthis.container.find('.js-page--previous').on('click', function () {\n\t\t\tlet pageNumber = thisInstance.container.find('.js-page-number');\n\t\t\tif (pageNumber.val() > 1) {\n\t\t\t\tlet nextPageNumber = parseInt(parseFloat(pageNumber.val())) - 1;\n\t\t\t\tpageNumber.val(nextPageNumber)\n\t\t\t\tthisInstance.loadRecordList().done(function () {\n\t\t\t\t\tthisInstance.updatePagination();\n\t\t\t\t});\n\t\t\t}\n\t\t});\n\t\tthis.container.find('.js-page--set').on('click', function () {\n\t\t\tif ($(this).hasClass('disabled')) {\n\t\t\t\treturn;\n\t\t\t}\n\t\t\tthisInstance.container.find('.js-page-number').val($(this).data(\"id\"));\n\t\t\tthisInstance.loadRecordList().done(function () {\n\t\t\t\tthisInstance.updatePagination();\n\t\t\t});\n\t\t});\n\t\tthis.container.find('.js-count-number-records').on('click', function () {\n\t\t\tapp.hidePopover($(this));\n\t\t\tVtiger_Helper_Js.showMessage({\n\t\t\t\ttitle: app.vtranslate('JS_LBL_PERMISSION'),\n\t\t\t\ttext: app.vtranslate('JS_GET_PAGINATION_INFO'),\n\t\t\t\ttype: 'info',\n\t\t\t});\n\t\t\tthisInstance.updatePagination(true);\n\t\t});\n\t\tthis.container.find('.js-page--jump-drop-down').on('click', 'li', function (e) {\n\t\t\te.stopImmediatePropagation();\n\t\t}).on('keypress', '.js-page-jump', function (e) {\n\t\t\tif (e.which == 13) {\n\t\t\t\te.stopImmediatePropagation();\n\t\t\t\tconst element = $(this);\n\t\t\t\tconst response = Vtiger_WholeNumberGreaterThanZero_Validator_Js.invokeValidation(element);\n\t\t\t\tif (typeof response !== \"undefined\") {\n\t\t\t\t\telement.validationEngine('showPrompt', response, '', \"topLeft\", true);\n\t\t\t\t} else {\n\t\t\t\t\telement.validationEngine('hideAll');\n\t\t\t\t\tlet pageNumber = thisInstance.container.find('.js-page-number');\n\t\t\t\t\tlet currentPageNumber = pageNumber.val();\n\t\t\t\t\tlet newPageNumber = parseInt($(this).val());\n\t\t\t\t\tvar totalPages = parseInt(thisInstance.container.find('.js-page--total').text());\n\t\t\t\t\tif (newPageNumber > totalPages) {\n\t\t\t\t\t\tvar error = app.vtranslate('JS_PAGE_NOT_EXIST');\n\t\t\t\t\t\telement.validationEngine('showPrompt', error, '', \"topLeft\", true);\n\t\t\t\t\t\treturn;\n\t\t\t\t\t}\n\t\t\t\t\tif (newPageNumber == currentPageNumber) {\n\t\t\t\t\t\tVtiger_Helper_Js.showMessage({\n\t\t\t\t\t\t\ttext: app.vtranslate('JS_YOU_ARE_IN_PAGE_NUMBER') + \" \" + newPageNumber,\n\t\t\t\t\t\t\ttype: 'info'\n\t\t\t\t\t\t});\n\t\t\t\t\t\treturn;\n\t\t\t\t\t}\n\t\t\t\t\tpageNumber.val(newPageNumber);\n\t\t\t\t\tthisInstance.loadRecordList().done(function () {\n\t\t\t\t\t\tthisInstance.updatePagination();\n\t\t\t\t\t});\n\t\t\t\t}\n\t\t\t}\n\t\t});\n\t},\n\t/**\n\t * Register list search\n\t */\n\tregisterListSearch: function () {\n\t\tthis.listSearchInstance = YetiForce_ListSearch_Js.getInstance(this.container, false, this, this.moduleName);\n\t\tthis.listSearchInstance.setViewName('RecordsList');\n\t},\n\t/**\n\t * Register list events\n\t */\n\tregisterListEvents: function () {\n\t\tconst thisInstance = this;\n\t\tlet additional = this.container.find('.js-additional-informations').val() == 1;\n\t\tthisInstance.container.on('click', \".js-select-row\", function (e) {\n\t\t\tif ($(e.target).hasClass('js-select-checkbox') || $(e.target).hasClass('u-cursor-auto')) {\n\t\t\t\treturn true;\n\t\t\t}\n\t\t\tlet data = $(this).data();\n\t\t\tif (thisInstance.container.find('.js-multi-select').val() === 'true') {\n\t\t\t\tlet selected = {};\n\t\t\t\tif (additional) {\n\t\t\t\t\tselected[data.id] = [];\n\t\t\t\t\t$(this).closest('tr').find('td[data-field]').each(function (index, field) {\n\t\t\t\t\t\tfield = $(field);\n\t\t\t\t\t\tselected[data.id].push({\n\t\t\t\t\t\t\tvalue: field.text(),\n\t\t\t\t\t\t\tfield: field.data('field'),\n\t\t\t\t\t\t\ttype: field.data('type')\n\t\t\t\t\t\t});\n\t\t\t\t\t});\n\t\t\t\t} else {\n\t\t\t\t\tselected[data.id] = data.name;\n\t\t\t\t}\n\t\t\t\tthisInstance.selectEvent(selected, e);\n\t\t\t} else {\n\t\t\t\tthisInstance.selectEvent(data, e);\n\t\t\t}\n\t\t\tapp.hideModalWindow(false, thisInstance.container.parent().attr('id'));\n\n\t\t});\n\t\tthisInstance.container.on('click', '.js-selected-rows', function (e) {\n\t\t\tlet selected = {};\n\t\t\tthisInstance.container.find('table tr.js-select-row .js-select-checkbox').each(function (index, element) {\n\t\t\t\telement = $(element)\n\t\t\t\tif (!element.is(\":checked\")) {\n\t\t\t\t\treturn true;\n\t\t\t\t}\n\t\t\t\tlet data = element.closest('tr').data();\n\t\t\t\tif (additional) {\n\t\t\t\t\tselected[data.id] = [];\n\t\t\t\t\telement.closest('tr').find('td[data-field]').each(function (index, field) {\n\t\t\t\t\t\tfield = $(field);\n\t\t\t\t\t\tselected[data.id].push({\n\t\t\t\t\t\t\tvalue: field.text(),\n\t\t\t\t\t\t\tfield: field.data('field'),\n\t\t\t\t\t\t\ttype: field.data('type')\n\t\t\t\t\t\t});\n\t\t\t\t\t});\n\t\t\t\t} else {\n\t\t\t\t\tselected[data.id] = data.name;\n\t\t\t\t}\n\t\t\t});\n\t\t\tif (Object.keys(selected).length <= 0) {\n\t\t\t\tVtiger_Helper_Js.showPnotify({\n\t\t\t\t\ttext: app.vtranslate('JS_PLEASE_SELECT_ONE_RECORD'),\n\t\t\t\t});\n\t\t\t} else {\n\t\t\t\tthisInstance.selectEvent(selected, e);\n\t\t\t\tapp.hideModalWindow($(e.target).closest('.js-modal-container'));\n\t\t\t}\n\t\t});\n\t\tthisInstance.container.on('change', '.js-hierarchy-records', function () {\n\t\t\tthisInstance.container.find('.js-related-parent-id').val(this.value);\n\t\t\tthisInstance.container.find('.js-total-count').val('');\n\t\t\tthisInstance.container.find('.js-page-number').val(1);\n\t\t\tthisInstance.loadRecordList().done(function () {\n\t\t\t\tthisInstance.updatePagination();\n\t\t\t});\n\t\t});\n\t\tthisInstance.container.on('click', '.js-select-checkbox', function (e) {\n\t\t\tlet parentElem, element;\n\t\t\tparentElem = element = $(this);\n\t\t\tif (element.data('type') === 'all') {\n\t\t\t\tparentElem = element.closest('table').find('.js-select-checkbox[data-type=\"row\"]');\n\t\t\t}\n\t\t\tif (element.is(':checked')) {\n\t\t\t\tparentElem.prop('checked', true).closest('tr').addClass('highlightBackgroundColor');\n\t\t\t} else {\n\t\t\t\tparentElem.prop('checked', false).closest('tr').removeClass('highlightBackgroundColor');\n\t\t\t}\n\t\t});\n\n\t},\n\t/**\n\t * Register modal basic events\n\t */\n\tregisterBasicEvents: function () {\n\t\tthis.registerListSearch();\n\t\tthis.registerPaginationEvents();\n\t},\n\t/**\n\t * Register modal events\n\t * @param {jQuery} modalContainer\n\t */\n\tregisterEvents: function (modalContainer) {\n\t\tthis.container = modalContainer;\n\t\tthis.moduleName = this.container.data('module');\n\t\tthis.registerBasicEvents();\n\t\tthis.registerListEvents();\n\t\tthis.registerHeadersClickEvent();\n\t}\n});"],"names":["$","Class","selectEvent","listSearchInstance","moduleName","container","setSelectEvent","cb","getParams","module","view","data","src_module","find","val","src_record","src_field","related_parent_module","related_parent_id","page","orderby","sortorder","multi_select","totalCount","noOfEntries","filterFields","JSON","parse","onlyBody","searchValue","getAlphabetSearchValue","stringify","getListSearchParams","length","params","getAlphabetSearchField","loadRecordList","body","aDeferred","Deferred","progressIndicatorElement","progressIndicator","blockInfo","enabled","elementToBlock","request","extend","done","responseData","mode","html","registerBasicEvents","resolve","fail","textStatus","errorThrown","reject","promise","registerHeadersClickEvent","on","e","preventDefault","thisInstance","element","updatePagination","countNumberRecords","AppConnector","registerPaginationEvents","hasClass","nextPageNumber","parseInt","parseFloat","pageNumber","app","hidePopover","Vtiger_Helper_Js","showMessage","title","vtranslate","text","type","stopImmediatePropagation","which","response","Vtiger_WholeNumberGreaterThanZero_Validator_Js","invokeValidation","validationEngine","currentPageNumber","newPageNumber","totalPages","error","registerListSearch","YetiForce_ListSearch_Js","getInstance","setViewName","registerListEvents","additional","target","selected","id","closest","each","index","field","push","value","name","hideModalWindow","parent","attr","is","keys","showPnotify","parentElem","prop","addClass","removeClass","registerEvents","modalContainer"],"mappings":"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"}