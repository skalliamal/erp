{"version":3,"file":"AdvanceFilter.min.js","sources":["AdvanceFilter.js"],"sourcesContent":["/*+***********************************************************************************\n * The contents of this file are subject to the vtiger CRM Public License Version 1.0\n * (\"License\"); You may not use this file except in compliance with the License\n * The Original Code is:  vtiger CRM Open Source\n * The Initial Developer of the Original Code is vtiger.\n * Portions created by vtiger are Copyright (C) vtiger.\n * All Rights Reserved.\n * Contributor(s): YetiForce.com\n *************************************************************************************/\n'use strict';\n\njQuery.Class(\"Vtiger_AdvanceFilter_Js\", {\n\tgetInstance: function (container) {\n\t\tvar module = app.getModuleName();\n\t\tvar moduleClassName1 = module + \"_AdvanceFilterEx_Js\";\n\t\tvar moduleClassName2 = module + \"_AdvanceFilter_Js\";\n\t\tvar moduleClassName3 = \"Vtiger_AdvanceFilterEx_Js\";\n\t\tvar moduleClassName4 = \"Vtiger_AdvanceFilter_Js\";\n\t\tvar instance;\n\t\tif (typeof window[moduleClassName1] !== \"undefined\") {\n\t\t\tinstance = new window[moduleClassName1](container);\n\t\t} else if (typeof window[moduleClassName2] !== \"undefined\") {\n\t\t\tinstance = new window[moduleClassName2](container);\n\t\t} else if (typeof window[moduleClassName3] !== \"undefined\") {\n\t\t\tinstance = new window[moduleClassName3](container);\n\t\t} else {\n\t\t\tinstance = new window[moduleClassName4](container);\n\t\t}\n\t\treturn instance;\n\t}\n}, {\n\tfilterContainer: false,\n\t//Hold the conditions for a particular field type\n\tfieldTypeConditionMapping: false,\n\t//Hold the condition and their label translations\n\tconditonOperatorLabelMapping: false,\n\tdateConditionInfo: false,\n\tfieldModelInstance: false,\n\t//Holds fields type and conditions for which it needs validation\n\tvalidationSupportedFieldConditionMap: {\n\t\t'email': ['e', 'n']\n\t},\n\t//Hols field type for which there is validations always needed\n\tallConditionValidationNeededFieldList: ['double', 'integer', 'currency'],\n\t//used to eliminate mutiple times validation registrations\n\tvalidationForControlsRegistered: false,\n\tinit: function (container) {\n\t\tif (typeof container === \"undefined\") {\n\t\t\tcontainer = jQuery('.filterContainer');\n\t\t}\n\n\t\tif (container.is('.filterContainer')) {\n\t\t\tthis.setFilterContainer(container);\n\t\t} else {\n\t\t\tthis.setFilterContainer(jQuery('.filterContainer', container));\n\t\t}\n\t\tthis.initialize();\n\t},\n\tgetModuleName: function () {\n\t\treturn 'AdvanceFilter';\n\t},\n\t/**\n\t * Function  to initialize the advance filter\n\t */\n\tinitialize: function () {\n\t\tthis.registerEvents();\n\t\tthis.initializeOperationMappingDetails();\n\t\tthis.loadFieldSpecificUiForAll();\n\t},\n\t/**\n\t * Function which will save the field condition mapping condition label mapping\n\t */\n\tinitializeOperationMappingDetails: function () {\n\t\tvar filterContainer = this.getFilterContainer();\n\t\tthis.fieldTypeConditionMapping = jQuery('input[name=\"advanceFilterOpsByFieldType\"]', filterContainer).data('value');\n\t\tthis.conditonOperatorLabelMapping = jQuery('input[name=\"advanceFilterOptions\"]', filterContainer).data('value');\n\t\tthis.dateConditionInfo = jQuery('[name=\"date_filters\"]').data('value');\n\t\treturn this;\n\t},\n\t/**\n\t * Function to get the container which holds all the filter elements\n\t * @return jQuery object\n\t */\n\tgetFilterContainer: function () {\n\t\treturn this.filterContainer;\n\t},\n\t/**\n\t * Function to set the filter container\n\t * @params : element - which represents the filter container\n\t * @return : current instance\n\t */\n\tsetFilterContainer: function (element) {\n\t\tthis.filterContainer = element;\n\t\treturn this;\n\t},\n\tgetDateSpecificConditionInfo: function () {\n\t\treturn this.dateConditionInfo;\n\t},\n\t/**\n\t * Function which will return set of condition for the given field type\n\t * @return array of conditions\n\t */\n\tgetConditionListFromType: function (fieldType) {\n\t\tvar fieldTypeConditions = this.fieldTypeConditionMapping[fieldType];\n\t\tif (fieldType == 'D' || fieldType == 'DT') {\n\t\t\tfieldTypeConditions = fieldTypeConditions.concat(this.getDateConditions(fieldType));\n\t\t}\n\t\treturn fieldTypeConditions;\n\t},\n\tgetDateConditions: function (fieldType) {\n\t\tif (fieldType != 'D' && fieldType != 'DT') {\n\t\t\treturn [];\n\t\t}\n\t\tvar filterContainer = this.getFilterContainer();\n\t\tvar dateFilters = this.getDateSpecificConditionInfo();\n\t\treturn Object.keys(dateFilters);\n\t},\n\t/**\n\t * Function to get the condition label\n\t * @param : key - condition key\n\t * @reurn : label for the condition or key if it doest not contain in the condition label mapping\n\t */\n\tgetConditionLabel: function (key) {\n\t\tif (key in this.conditonOperatorLabelMapping) {\n\t\t\treturn this.conditonOperatorLabelMapping[key];\n\t\t}\n\t\tif (key in this.getDateSpecificConditionInfo()) {\n\t\t\treturn this.getDateSpecificConditionInfo()[key]['label'];\n\t\t}\n\t\treturn key;\n\t},\n\t/**\n\t * Function to check if the field selected is empty field\n\t * @params : select element which represents the field\n\t * @return : boolean true/false\n\t */\n\tisEmptyFieldSelected: function (fieldSelect) {\n\t\tvar selectedOption = fieldSelect.find('option:selected');\n\t\t//assumption that empty field will be having value none\n\t\tif (selectedOption.val() == 'none') {\n\t\t\treturn true;\n\t\t}\n\t\treturn false;\n\t},\n\t/**\n\t * Function to get the add condition elements\n\t * @returns : jQuery object which represents the add conditions elements\n\t */\n\tgetAddConditionElement: function () {\n\t\tvar filterContainer = this.getFilterContainer();\n\t\treturn jQuery('.addCondition button', filterContainer);\n\t},\n\t/**\n\t * Function to add new condition row\n\t * @params : condtionGroupElement - group where condtion need to be added\n\t * @return : current instance\n\t */\n\taddNewCondition: function (conditionGroupElement) {\n\t\tlet basicElement = $('.basic', conditionGroupElement);\n\t\tlet newRowElement = basicElement.find('.js-conditions-row').clone(true, true);\n\t\tlet selectElement = newRowElement.find('select').addClass('select2');\n\t\tlet conditionList = $('.conditionList', conditionGroupElement);\n\t\tconditionList.append(newRowElement);\n\t\tApp.Fields.Picklist.showSelect2ElementView(selectElement, {dropdownParent: conditionGroupElement});\n\t\treturn this;\n\t},\n\t/**\n\t * Function/Handler  which will triggered when user clicks on add condition\n\t */\n\taddConditionHandler: function (e) {\n\t\tvar element = jQuery(e.currentTarget);\n\t\tvar conditionGroup = element.closest('div.conditionGroup');\n\t\tthis.addNewCondition(conditionGroup);\n\t},\n\tgetFieldSpecificType: function (fieldSelected) {\n\t\tvar fieldInfo = fieldSelected.data('fieldinfo');\n\t\tvar type = fieldInfo.type;\n\t\tif (type == 'reference') {\n\t\t\treturn 'V';\n\t\t}\n\t\treturn fieldSelected.data('fieldtype');\n\t},\n\t/**\n\t * Function to load condition list for the selected field\n\t * @params : fieldSelect - select element which will represents field list\n\t * @return : select element which will represent the condition element\n\t */\n\tloadConditions: function (fieldSelect) {\n\t\tvar row = fieldSelect.closest('div.js-conditions-row');\n\t\tvar conditionSelectElement = row.find('select[name=\"comparator\"]');\n\t\tvar group = row.find('[name=\"column_condition\"]');\n\t\tvar conditionSelected = conditionSelectElement.val();\n\t\tvar fieldSelected = fieldSelect.find('option:selected');\n\t\tvar fieldSpecificType = this.getFieldSpecificType(fieldSelected);\n\t\tvar conditionList = this.getConditionListFromType(fieldSpecificType);\n\t\tvar fieldName = fieldSelected.data('field-name');\n\t\tvar fieldInfo = fieldSelected.data('fieldinfo');\n\t\t//for none in field name\n\t\tif (typeof conditionList === \"undefined\") {\n\t\t\tconditionList = {};\n\t\t\tconditionList['none'] = 'None';\n\t\t}\n\t\tvar options = '';\n\t\tfor (var key in conditionList) {\n\t\t\tif (jQuery.inArray(fieldInfo.type, ['rangeTime', 'image']) != -1 && jQuery.inArray(conditionList[key], ['y', 'ny']) == -1) {\n\t\t\t\tcontinue;\n\t\t\t}\n\t\t\tif (jQuery.inArray(fieldInfo.type, ['userCreator', 'owner', 'picklist', 'modules', 'tree', 'inventoryLimit', 'languages', 'currencyList', 'fileLocationType']) != -1 && jQuery.inArray(conditionList[key], ['s', 'ew', 'c', 'k']) != -1) {\n\t\t\t\tcontinue;\n\t\t\t}\n\t\t\tif (conditionList[key] === 'om' && jQuery.inArray(fieldInfo.type, ['owner', 'sharedOwner', 'userCreator']) == -1) {\n\t\t\t\tcontinue;\n\t\t\t}\n\t\t\tif (jQuery.inArray(conditionList[key], ['wr', 'nwr']) != -1 && jQuery.inArray(fieldInfo.type, ['owner']) == -1) {\n\t\t\t\tcontinue;\n\t\t\t}\n\t\t\tif (jQuery.inArray(conditionList[key], ['s', 'ew']) != -1 && jQuery.inArray(fieldInfo.type, ['taxes', 'multipicklist', 'categoryMultipicklist', 'sharedOwner']) != -1) {\n\t\t\t\tcontinue;\n\t\t\t}\n\t\t\tif (jQuery.inArray(conditionList[key], ['bw', 'm', 'h']) != -1 && jQuery.inArray(fieldInfo.type, ['time']) != -1) {\n\t\t\t\tcontinue;\n\t\t\t}\n\t\t\tif (conditionList[key] === 'd' && group.val() !== 'and') {\n\t\t\t\tcontinue;\n\t\t\t}\n\t\t\t//IE Browser consider the prototype properties also, it should consider has own properties only.\n\t\t\tif (conditionList.hasOwnProperty(key)) {\n\t\t\t\tvar conditionValue = conditionList[key];\n\t\t\t\tvar conditionLabel = this.getConditionLabel(conditionValue);\n\t\t\t\toptions += '<option value=\"' + conditionValue + '\"';\n\t\t\t\tif (conditionValue == conditionSelected) {\n\t\t\t\t\toptions += ' selected=\"selected\" ';\n\t\t\t\t}\n\t\t\t\toptions += '>' + conditionLabel + '</option>';\n\t\t\t}\n\t\t}\n\t\tconditionSelectElement.empty().html(options).trigger(\"chosen:updated\");\n\t\treturn conditionSelectElement;\n\t},\n\t/**\n\t * Functiont to get the field specific ui for the selected field\n\t * @prarms : fieldSelectElement - select element which will represents field list\n\t * @return : jquery object which represents the ui for the field\n\t */\n\tgetFieldSpecificUi: function (fieldSelectElement) {\n\t\tvar selectedOption = fieldSelectElement.find('option:selected');\n\t\tvar fieldModel = this.fieldModelInstance;\n\t\tif (fieldModel.get('comparatorElementVal') === 'd') {\n\t\t\tvar html = '<div class=\"checkbox\"><label><input type=\"checkbox\" name=\"' + fieldModel.getName() + '\" value=\"0\" ';\n\t\t\tif (fieldModel.getValue() === 1 || fieldModel.getValue() === '1') {\n\t\t\t\thtml += 'checked';\n\t\t\t}\n\t\t\thtml += ' >' + app.vtranslate('JS_IGNORE_EMPTY_VALUES') + '</label></div>';\n\t\t\treturn jQuery(html);\n\t\t} else if (fieldModel.getType().toLowerCase() == \"boolean\") {\n\t\t\tvar conditionRow = fieldSelectElement.closest('.js-conditions-row');\n\t\t\tvar selectedValue = conditionRow.find('[data-value=\"value\"]').val();\n\t\t\tvar html = '<select class=\"chzn-select\" name=\"' + fieldModel.getName() + '\">';\n\t\t\thtml += '<option value=\"0\"';\n\t\t\tif (selectedValue == '0') {\n\t\t\t\thtml += ' selected=\"selected\" ';\n\t\t\t}\n\t\t\thtml += '>' + app.vtranslate('JS_IS_DISABLED') + '</option>';\n\n\t\t\thtml += '<option value=\"1\"';\n\t\t\tif (selectedValue == '1') {\n\t\t\t\thtml += ' selected=\"selected\" ';\n\t\t\t}\n\t\t\thtml += '>' + app.vtranslate('JS_IS_ENABLED') + '</option>';\n\t\t\thtml += '</select>';\n\t\t\treturn jQuery(html);\n\t\t} else {\n\t\t\treturn jQuery(fieldModel.getUiTypeSpecificHtml());\n\t\t}\n\t},\n\t/**\n\t * Function which will load the field specific ui for a selected field\n\t * @prarms : fieldSelect - select element which will represents field list\n\t * @return : current instance\n\t */\n\tloadFieldSpecificUi: function (fieldSelect) {\n\t\tvar selectedOption = fieldSelect.find('option:selected');\n\t\tvar row = fieldSelect.closest('div.js-conditions-row');\n\t\tvar fieldUiHolder = row.find('.fieldUiHolder');\n\t\tvar conditionSelectElement = row.find('select[name=\"comparator\"]');\n\t\tvar fieldInfo = selectedOption.data('fieldinfo');\n\n\t\tvar fieldType = 'string';\n\t\tif (typeof fieldInfo !== \"undefined\") {\n\t\t\tfieldType = fieldInfo.type;\n\t\t}\n\n\t\tvar comparatorElementVal = fieldInfo.comparatorElementVal = conditionSelectElement.val();\n\t\tif (fieldType == 'date' || fieldType == 'datetime') {\n\t\t\tfieldInfo.dateSpecificConditions = this.getDateSpecificConditionInfo();\n\t\t}\n\t\tvar moduleName = this.getModuleName();\n\t\tvar fieldModel = Vtiger_Field_Js.getInstance(fieldInfo, moduleName);\n\t\tthis.fieldModelInstance = fieldModel;\n\t\tvar fieldSpecificUi = this.getFieldSpecificUi(fieldSelect);\n\n\t\t//remove validation since we dont need validations for all eleements\n\t\t// Both filter and find is used since we dont know whether the element is enclosed in some conainer like currency\n\t\tvar fieldName = fieldModel.getName();\n\n\t\tif ($.inArray(fieldModel.getType(), ['multipicklist', 'sharedOwner', 'multiReferenceValue', 'taxes', 'categoryMultipicklist']) > -1) {\n\t\t\tfieldName = fieldName + \"[]\";\n\t\t} else if (($.inArray(fieldModel.getType(), ['userCreator', 'picklist', 'owner', 'languages', 'modules', 'inventoryLimit', 'currencyList', 'fileLocationType']) > -1) &&\n\t\t\t\tfieldSpecificUi.is('select') && (comparatorElementVal == 'e' || comparatorElementVal == 'n')) {\n\t\t\tfieldName = fieldName + \"[]\";\n\t\t}\n\n\t\tif (fieldSpecificUi.find('.input-group-addon').length > 0) {\n\t\t\tfieldSpecificUi.find('.input-group').addClass('row');\n\t\t\tfieldSpecificUi.find('.input-group').addClass('row');\n\t\t\tfieldSpecificUi.find('input[type=\"text\"]').css('width', '100%');\n\t\t\tfieldSpecificUi.find('input[type=\"text\"]').addClass('form-control');\n\t\t} else {\n\t\t\tfieldSpecificUi.filter('[name=\"' + fieldName + '\"]').addClass('form-control');\n\t\t}\n\n\t\tfieldSpecificUi.filter('[name=\"' + fieldName + '\"]').attr('data-value', 'value').removeAttr('data-validation-engine');\n\t\tfieldSpecificUi.find('[name=\"' + fieldName + '\"]').attr('data-value', 'value').removeAttr('data-validation-engine');\n\n\t\tif (fieldModel.getType() == 'currency') {\n\t\t\tfieldSpecificUi.filter('[name=\"' + fieldName + '\"]').attr('data-decimal-separator', fieldInfo.decimal_separator).attr('data-group-separator', fieldInfo.group_separator);\n\t\t\tfieldSpecificUi.find('[name=\"' + fieldName + '\"]').attr('data-decimal-separator', fieldInfo.decimal_separator).attr('data-group-separator', fieldInfo.group_separator);\n\t\t}\n\n\t\tfieldUiHolder.html(fieldSpecificUi);\n\n\t\tif (fieldSpecificUi.is('select')) {\n\t\t\tif (fieldSpecificUi.hasClass('chzn-select')) {\n\t\t\t\tApp.Fields.Picklist.changeSelectElementView(fieldSpecificUi);\n\t\t\t} else {\n\t\t\t\tApp.Fields.Picklist.showSelect2ElementView(fieldSpecificUi, {dropdownParent: row});\n\t\t\t}\n\t\t} else if (fieldSpecificUi.has('input.dateField').length > 0) {\n\t\t\tApp.Fields.Date.register(fieldSpecificUi);\n\t\t} else if (fieldSpecificUi.has('input.dateRangeField').length > 0) {\n\t\t\tApp.Fields.Date.registerRange(fieldSpecificUi, {ranges: false});\n\t\t} else if (fieldSpecificUi.has('input.clockPicker').length > 0) {\n\t\t\tapp.registerEventForClockPicker(fieldSpecificUi);\n\t\t}\n\t\tthis.addValidationToFieldIfNeeded(fieldSelect);\n\n\t\t// Is Empty, today, tomorrow, yesterday conditions does not need any field input value - hide the UI\n\t\t// re-enable if condition element is chosen.\n\t\tvar specialConditions = [\"y\", \"today\", \"tomorrow\", \"yesterday\", \"smallerthannow\", \"greaterthannow\", \"ny\", \"om\", \"wr\", \"nwr\"];\n\t\tif (specialConditions.indexOf(conditionSelectElement.val()) != -1) {\n\t\t\tfieldUiHolder.hide();\n\t\t} else {\n\t\t\tfieldUiHolder.show();\n\t\t}\n\n\t\treturn this;\n\t},\n\t/**\n\t * Function to load field specific ui for all the select elements - this is used on load\n\t * to show field specific ui for all the fields\n\t */\n\tloadFieldSpecificUiForAll: function () {\n\t\tvar conditionsContainer = jQuery('.conditionList');\n\t\tvar fieldSelectElement = jQuery('select[name=\"columnname\"]', conditionsContainer);\n\t\tjQuery.each(fieldSelectElement, function (i, elem) {\n\t\t\tvar currentElement = jQuery(elem);\n\t\t\tif (currentElement.val() != 'none') {\n\t\t\t\tcurrentElement.trigger('change', {'_intialize': true});\n\t\t\t}\n\t\t});\n\t\treturn this;\n\t},\n\t/**\n\t * Function to add the validation if required\n\t * @prarms : selectFieldElement - select element which will represents field list\n\t */\n\taddValidationToFieldIfNeeded: function (selectFieldElement) {\n\t\tvar selectedOption = selectFieldElement.find('option:selected');\n\t\tvar row = selectFieldElement.closest('div.js-conditions-row');\n\t\tvar fieldSpecificElement = row.find('[data-value=\"value\"]');\n\t\tvar validator = selectedOption.attr('data-validator');\n\n\t\tif (this.isFieldSupportsValidation(selectFieldElement)) {\n\t\t\t//data attribute will not be present while attaching validation engine events . so we are\n\t\t\t//depending on the fallback option which is class\n\t\t\tfieldSpecificElement.addClass('validate[funcCall[Vtiger_Base_Validator_Js.invokeValidation]]')\n\t\t\t\t\t.attr('data-validation-engine', 'validate[funcCall[Vtiger_Base_Validator_Js.invokeValidation]]')\n\t\t\t\t\t.attr('data-fieldinfo', JSON.stringify(selectedOption.data('fieldinfo')));\n\t\t\tif (typeof validator !== \"undefined\") {\n\t\t\t\tfieldSpecificElement.attr('data-validator', validator);\n\t\t\t}\n\t\t} else {\n\t\t\tfieldSpecificElement.removeClass('validate[funcCall[Vtiger_Base_Validator_Js.invokeValidation]]')\n\t\t\t\t\t.removeAttr('data-validation-engine')\n\t\t\t\t\t.removeAttr('data-fieldinfo');\n\t\t}\n\t\treturn this;\n\t},\n\t/**\n\t * Check if field supports validation\n\t * @prarms : selectFieldElement - select element which will represents field list\n\t * @return - boolen true/false\n\t */\n\tisFieldSupportsValidation: function (fieldSelect) {\n\t\tvar selectedOption = fieldSelect.find('option:selected');\n\n\t\tvar fieldModel = this.fieldModelInstance;\n\t\tvar type = fieldModel.getType();\n\n\t\tif (jQuery.inArray(type, this.allConditionValidationNeededFieldList) >= 0) {\n\t\t\treturn true;\n\t\t}\n\n\t\tvar row = fieldSelect.closest('div.js-conditions-row');\n\t\tvar conditionSelectElement = row.find('select[name=\"comparator\"]');\n\t\tvar selectedCondition = conditionSelectElement.find('option:selected');\n\n\t\tvar conditionValue = conditionSelectElement.val();\n\n\t\tif (type in this.validationSupportedFieldConditionMap) {\n\t\t\tif (jQuery.inArray(conditionValue, this.validationSupportedFieldConditionMap[type]) >= 0) {\n\t\t\t\treturn true;\n\t\t\t}\n\t\t}\n\t\treturn false;\n\t},\n\t/**\n\t * Function to retrieve the values of the filter\n\t * @return : object\n\t */\n\tgetValues: function () {\n\t\tvar thisInstance = this;\n\t\tvar filterContainer = this.getFilterContainer();\n\n\t\tvar fieldList = new Array('columnname', 'comparator', 'value', 'column_condition');\n\n\t\tvar values = {};\n\t\tvar columnIndex = 0;\n\t\tvar conditionGroups = jQuery('.conditionGroup', filterContainer);\n\t\tconditionGroups.each(function (index, domElement) {\n\t\t\tvar groupElement = jQuery(domElement);\n\t\t\tvalues[index + 1] = {};\n\t\t\tvar conditions = jQuery('.conditionList .js-conditions-row', groupElement);\n\t\t\tvalues[index + 1]['columns'] = {};\n\t\t\tconditions.each(function (i, conditionDomElement) {\n\t\t\t\tvar rowElement = jQuery(conditionDomElement);\n\t\t\t\tvar fieldSelectElement = jQuery('[name=\"columnname\"]', rowElement);\n\t\t\t\tvar valueSelectElement = jQuery('[data-value=\"value\"]', rowElement);\n\t\t\t\t//To not send empty fields to server\n\t\t\t\tif (thisInstance.isEmptyFieldSelected(fieldSelectElement)) {\n\t\t\t\t\treturn true;\n\t\t\t\t}\n\t\t\t\tvar fieldDataInfo = fieldSelectElement.find('option:selected').data('fieldinfo');\n\t\t\t\tvar fieldType = fieldDataInfo.type;\n\t\t\t\tvar searchOperator = fieldDataInfo.hasOwnProperty(\"searchOperator\");\n\t\t\t\tvar rowValues = {};\n\t\t\t\tif (fieldType == 'owner' || fieldType == 'userCreator') {\n\t\t\t\t\tfor (var key in fieldList) {\n\t\t\t\t\t\tvar field = fieldList[key];\n\t\t\t\t\t\tif (field == 'value' && valueSelectElement.is('select')) {\n\t\t\t\t\t\t\tvar newValuesArr = valueSelectElement.val();\n\t\t\t\t\t\t\tif (!newValuesArr) {\n\t\t\t\t\t\t\t\trowValues[field] = '';\n\t\t\t\t\t\t\t} else {\n\t\t\t\t\t\t\t\trowValues[field] = newValuesArr.join(',');\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t} else if (field == 'value' && valueSelectElement.is('input')) {\n\t\t\t\t\t\t\trowValues[field] = valueSelectElement.attr('type') === 'checkbox' && valueSelectElement.prop('checked') ? 1 : valueSelectElement.val();\n\t\t\t\t\t\t} else {\n\t\t\t\t\t\t\trowValues[field] = jQuery('[name=\"' + field + '\"]', rowElement).val();\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\t\t\t} else if ($.inArray(fieldType, ['picklist', 'multipicklist', 'modules', 'sharedOwner', 'multiReferenceValue', 'inventoryLimit', 'languages', 'currencyList', 'taxes', 'fileLocationType', 'categoryMultipicklist']) > -1) {\n\t\t\t\t\tfor (var key in fieldList) {\n\t\t\t\t\t\tvar field = fieldList[key];\n\t\t\t\t\t\tif (field == 'value' && valueSelectElement.attr('type') === 'checkbox') {\n\t\t\t\t\t\t\trowValues[field] = valueSelectElement.prop('checked') ? 1 : valueSelectElement.val();\n\t\t\t\t\t\t} else if (field == 'value' && valueSelectElement.is('input')) {\n\t\t\t\t\t\t\tvar commaSeperatedValues = valueSelectElement.val();\n\t\t\t\t\t\t\tvar pickListValues = valueSelectElement.data('picklistvalues');\n\t\t\t\t\t\t\tvar valuesArr = commaSeperatedValues.split(',');\n\t\t\t\t\t\t\tvar newvaluesArr = [];\n\t\t\t\t\t\t\tfor (i = 0; i < valuesArr.length; i++) {\n\t\t\t\t\t\t\t\tif (typeof pickListValues[valuesArr[i]] !== \"undefined\") {\n\t\t\t\t\t\t\t\t\tnewvaluesArr.push(pickListValues[valuesArr[i]]);\n\t\t\t\t\t\t\t\t} else {\n\t\t\t\t\t\t\t\t\tnewvaluesArr.push(valuesArr[i]);\n\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\tvar reconstructedCommaSeperatedValues = newvaluesArr.join(',');\n\t\t\t\t\t\t\trowValues[field] = reconstructedCommaSeperatedValues;\n\t\t\t\t\t\t} else if (field == 'value' && valueSelectElement.is('select') && ($.inArray(fieldType, ['picklist', 'multipicklist', 'modules', 'sharedOwner', 'multiReferenceValue', 'inventoryLimit', 'languages', 'currencyList', 'taxes', 'fileLocationType', 'categoryMultipicklist']) > -1)) {\n\t\t\t\t\t\t\tvar value = valueSelectElement.val();\n\t\t\t\t\t\t\tif (value == null) {\n\t\t\t\t\t\t\t\trowValues[field] = value;\n\t\t\t\t\t\t\t} else {\n\t\t\t\t\t\t\t\trowValues[field] = value.join(',');\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t} else {\n\t\t\t\t\t\t\trowValues[field] = jQuery('[name=\"' + field + '\"]', rowElement).val();\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\n\t\t\t\t} else {\n\t\t\t\t\tfor (var key in fieldList) {\n\t\t\t\t\t\tvar field = fieldList[key];\n\t\t\t\t\t\tif (field == 'value') {\n\t\t\t\t\t\t\trowValues[field] = valueSelectElement.attr('type') === 'checkbox' && valueSelectElement.prop('checked') ? 1 : valueSelectElement.val();\n\t\t\t\t\t\t} else {\n\t\t\t\t\t\t\trowValues[field] = jQuery('[name=\"' + field + '\"]', rowElement).val();\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\t\t\t}\n\n\t\t\t\tif (rowElement.is(\":last-child\")) {\n\t\t\t\t\trowValues['column_condition'] = '';\n\t\t\t\t}\n\t\t\t\tvalues[index + 1]['columns'][columnIndex] = rowValues;\n\t\t\t\tcolumnIndex++;\n\t\t\t});\n\t\t\tif (groupElement.find('div.groupCondition').length > 0) {\n\t\t\t\tvalues[index + 1]['condition'] = conditionGroups.find('div.groupCondition [name=\"condition\"]').val();\n\t\t\t}\n\t\t});\n\t\treturn values;\n\n\t},\n\t/**\n\t * Event handle which will be triggred on deletion of a condition row\n\t */\n\tdeleteConditionHandler: function (e) {\n\t\tvar element = jQuery(e.currentTarget);\n\t\tvar row = element.closest('.js-conditions-row');\n\t\trow.remove();\n\t},\n\t/**\n\t * Event handler which is invoked on add condition\n\t */\n\tregisterAddCondition: function () {\n\t\tvar thisInstance = this;\n\t\tthis.getAddConditionElement().on('click', function (e) {\n\t\t\tthisInstance.addConditionHandler(e);\n\t\t});\n\t},\n\t/**\n\t * Function which will register field change event\n\t */\n\tregisterFieldChange: function () {\n\t\tvar filterContainer = this.getFilterContainer();\n\t\tvar thisInstance = this;\n\t\tfilterContainer.on('change', 'select[name=\"columnname\"]', function (e, data) {\n\t\t\tvar currentElement = jQuery(e.currentTarget);\n\t\t\tif (typeof data === \"undefined\" || data._intialize != true) {\n\t\t\t\tvar row = currentElement.closest('div.js-conditions-row');\n\t\t\t\tvar conditionSelectElement = row.find('select[name=\"comparator\"]');\n\t\t\t\tconditionSelectElement.empty();\n\t\t\t}\n\t\t\tthisInstance.loadConditions(currentElement);\n\t\t\tthisInstance.loadFieldSpecificUi(currentElement);\n\t\t});\n\t},\n\t/**\n\t * Function which will register condition change\n\t */\n\tregisterConditionChange: function () {\n\t\tvar filterContainer = this.getFilterContainer();\n\t\tvar thisInstance = this;\n\t\tfilterContainer.on('change', 'select[name=\"comparator\"]', function (e) {\n\t\t\tvar comparatorSelectElement = jQuery(e.currentTarget);\n\t\t\tvar row = comparatorSelectElement.closest('div.js-conditions-row');\n\t\t\tvar fieldSelectElement = row.find('select[name=\"columnname\"]');\n\t\t\tvar selectedOption = fieldSelectElement.find('option:selected');\n\t\t\t//To handle the validation depending on condtion\n\t\t\tthisInstance.loadFieldSpecificUi(fieldSelectElement);\n\t\t\tthisInstance.addValidationToFieldIfNeeded(fieldSelectElement);\n\t\t});\n\t},\n\t/**\n\t * Function to regisgter delete condition event\n\t */\n\tregisterDeleteCondition: function () {\n\t\tvar thisInstance = this;\n\t\tvar filterContainer = this.getFilterContainer();\n\t\tfilterContainer.on('click', '.deleteCondition', function (e) {\n\t\t\tthisInstance.deleteConditionHandler(e);\n\t\t});\n\t},\n\t/**\n\t * Function which will regiter all events for this page\n\t */\n\tregisterEvents: function () {\n\t\tthis.registerAddCondition();\n\t\tthis.registerFieldChange();\n\t\tthis.registerDeleteCondition();\n\t\tthis.registerConditionChange();\n\t}\n});\n\nVtiger_Field_Js('AdvanceFilter_Field_Js', {}, {\n\tgetUiTypeSpecificHtml: function () {\n\t\tvar uiTypeModel = this.getUiTypeModel();\n\t\treturn uiTypeModel.getUi();\n\t},\n\tgetModuleName: function () {\n\t\tvar currentModule = app.getModuleName();\n\n\t\tvar type = this.getType();\n\t\tif ($.inArray(type, ['picklist', 'userCreator', 'multipicklist', 'owner', 'userCreator', 'modules', 'date', 'datetime', 'sharedOwner', 'multiReferenceValue', 'inventoryLimit', 'languages', 'currencyList', 'taxes', 'fileLocationType', 'categoryMultipicklist']) > -1) {\n\t\t\tcurrentModule = 'AdvanceFilter';\n\t\t}\n\t\treturn currentModule;\n\t}\n});\n\nVtiger_Picklist_Field_Js('AdvanceFilter_Picklist_Field_Js', {}, {\n\tgetUi: function () {\n\t\tvar html = '<select class=\"select2\" multiple name=\"' + this.getName() + '[]\">';\n\t\tvar pickListValues = this.getPickListValues();\n\t\tvar selectedOption = app.htmlDecode(this.getValue());\n\t\tvar selectedOptionsArray = selectedOption.split(',');\n\t\tfor (var option in pickListValues) {\n\t\t\thtml += '<option value=\"' + option + '\" ';\n\t\t\tif (jQuery.inArray(option, selectedOptionsArray) != -1) {\n\t\t\t\thtml += ' selected ';\n\t\t\t}\n\t\t\thtml += '>' + pickListValues[option] + '</option>';\n\t\t}\n\t\thtml += '</select>';\n\t\tvar selectContainer = jQuery(html);\n\t\tthis.addValidationToElement(selectContainer);\n\t\treturn selectContainer;\n\t}\n});\n\nAdvanceFilter_Picklist_Field_Js('AdvanceFilter_Modules_Field_Js', {}, {});\n\nAdvanceFilter_Picklist_Field_Js('AdvanceFilter_Inventorylimit_Field_Js', {}, {});\n\nAdvanceFilter_Picklist_Field_Js('AdvanceFilter_Filelocationtype_Field_Js', {}, {});\n\nVtiger_Multipicklist_Field_Js('AdvanceFilter_Multipicklist_Field_Js', {}, {});\n\nVtiger_Multipicklist_Field_Js('AdvanceFilter_Categorymultipicklist_Field_Js', {}, {});\n\nAdvanceFilter_Picklist_Field_Js('AdvanceFilter_Languages_Field_Js', {}, {});\n\nAdvanceFilter_Picklist_Field_Js('AdvanceFilter_Currencylist_Field_Js', {}, {});\n\nAdvanceFilter_Multipicklist_Field_Js('AdvanceFilter_Taxes_Field_Js', {}, {});\n\nVtiger_Owner_Field_Js('AdvanceFilter_Owner_Field_Js', {}, {\n\tgetUi: function () {\n\t\tvar comparatorSelectedOptionVal = this.get('comparatorElementVal');\n\t\tif ((comparatorSelectedOptionVal == 'e' || comparatorSelectedOptionVal == 'n') || (this.getName() === 'shownerid' && jQuery.inArray(comparatorSelectedOptionVal, ['c', 'k']) != -1)) {\n\t\t\tvar html = '<select class=\"select2\" multiple name=\"' + this.getName() + '[]\">';\n\t\t\tvar pickListValues = this.getPickListValues();\n\t\t\tvar selectedOption = app.htmlDecode(this.getValue());\n\t\t\tvar selectedOptionsArray = selectedOption.split(',');\n\t\t\tfor (var optGroup in pickListValues) {\n\t\t\t\thtml += '<optgroup label=\"' + optGroup + '\">'\n\t\t\t\tvar optionGroupValues = pickListValues[optGroup];\n\t\t\t\tfor (var option in optionGroupValues) {\n\t\t\t\t\thtml += '<option value=\"' + option + '\" ';\n\t\t\t\t\tif (jQuery.inArray(option, selectedOptionsArray) != -1) {\n\t\t\t\t\t\thtml += ' selected ';\n\t\t\t\t\t}\n\t\t\t\t\thtml += '>' + optionGroupValues[option] + '</option>';\n\t\t\t\t}\n\t\t\t\thtml += '</optgroup>';\n\t\t\t}\n\t\t\thtml += '</select>';\n\t\t\tvar selectContainer = jQuery(html);\n\t\t\tthis.addValidationToElement(selectContainer);\n\t\t\treturn selectContainer;\n\t\t} else {\n\t\t\tvar selectedOption = this.getValue();\n\t\t\tvar pickListValues = this.getPickListValues();\n\t\t\tvar tagsArray = [];\n\t\t\tjQuery.each(pickListValues, function (groups, blocks) {\n\t\t\t\tjQuery.each(blocks, function (i, e) {\n\t\t\t\t\ttagsArray.push(jQuery.trim(e));\n\t\t\t\t});\n\t\t\t});\n\t\t\tvar html = '<input data-tags=\"' + tagsArray + '\" type=\"hidden\" class=\"row select2\" name=\"' + this.getName() + '\">';\n\t\t\tvar selectContainer = jQuery(html).val(selectedOption);\n\t\t\tselectContainer.data('tags', tagsArray);\n\t\t\tthis.addValidationToElement(selectContainer);\n\t\t\treturn selectContainer;\n\t\t}\n\t}\n});\n\nVtiger_Multireferencevalue_Field_Js('AdvanceFilter_Multireferencevalue_Field_Js', {}, {});\n\nAdvanceFilter_Owner_Field_Js('AdvanceFilter_Sharedowner_Field_Js', {}, {});\n\nAdvanceFilter_Owner_Field_Js('AdvanceFilter_Usercreator_Field_Js', {}, {});\nVtiger_Date_Field_Js('AdvanceFilter_Date_Field_Js', {}, {\n\t/**\n\t * Function to get the ui\n\t * @return - input text field\n\t */\n\tgetUi: function () {\n\t\tvar comparatorSelectedOptionVal = this.get('comparatorElementVal');\n\t\tvar dateSpecificConditions = this.get('dateSpecificConditions');\n\t\tif (comparatorSelectedOptionVal == 'bw' || comparatorSelectedOptionVal == 'custom') {\n\t\t\tvar html = '<div class=\"date\"><input class=\"dateRangeField form-control\" data-calendar-type=\"range\" name=\"' + this.getName() + '\" data-date-format=\"' + this.getDateFormat() + '\" type=\"text\" ReadOnly=\"true\" value=\"' + this.getValue() + '\"></div>';\n\t\t\tvar element = jQuery(html);\n\t\t\tvar dateFieldUi = element.find('.dateRangeField');\n\t\t\tif (dateFieldUi.val().indexOf(',') !== -1) {\n\t\t\t\tvar valueArray = this.getValue().split(',');\n\t\t\t\tvar startDateTime = valueArray[0];\n\t\t\t\tvar endDateTime = valueArray[1];\n\t\t\t\tif (startDateTime.indexOf(' ') !== -1) {\n\t\t\t\t\tvar dateTime = startDateTime.split(' ');\n\t\t\t\t\tstartDateTime = dateTime[0];\n\t\t\t\t}\n\t\t\t\tif (endDateTime.indexOf(' ') !== -1) {\n\t\t\t\t\tvar dateTimeValue = endDateTime.split(' ');\n\t\t\t\t\tendDateTime = dateTimeValue[0];\n\t\t\t\t}\n\t\t\t\tdateFieldUi.val(startDateTime + ',' + endDateTime);\n\t\t\t} else {\n\t\t\t\t// while changing to between/custom from equal/notequal/... we'll only have one value\n\t\t\t\tvar value = this.getValue().split(' ');\n\t\t\t\tvar startDate = value[0];\n\t\t\t\tvar endDate = value[0];\n\t\t\t\tif (startDate != '' && endDate != '') {\n\t\t\t\t\tdateFieldUi.val(startDate + ',' + endDate);\n\t\t\t\t}\n\t\t\t}\n\t\t\treturn this.addValidationToElement(element);\n\t\t} else if (comparatorSelectedOptionVal in dateSpecificConditions) {\n\t\t\tvar startValue = dateSpecificConditions[comparatorSelectedOptionVal]['startdate'];\n\t\t\tvar endValue = dateSpecificConditions[comparatorSelectedOptionVal]['enddate'];\n\t\t\tif (comparatorSelectedOptionVal == 'today' || comparatorSelectedOptionVal == 'tomorrow' || comparatorSelectedOptionVal == 'yesterday') {\n\t\t\t\tvar html = '<input name=\"' + this.getName() + '\" type=\"text\" ReadOnly=\"true\" value=\"' + startValue + '\">';\n\t\t\t} else {\n\t\t\t\tvar html = '<input name=\"' + this.getName() + '\" type=\"text\" ReadOnly=\"true\" value=\"' + startValue + ',' + endValue + '\">';\n\t\t\t}\n\t\t\treturn jQuery(html);\n\t\t} else {\n\t\t\tvar fieldUi = this._super();\n\t\t\tvar dateTimeFieldValue = fieldUi.find('.dateField').val();\n\t\t\tvar dateValue = dateTimeFieldValue.split(' ');\n\t\t\tif (dateValue[1] == '00:00:00') {\n\t\t\t\tdateTimeFieldValue = dateValue[0];\n\t\t\t} else if (comparatorSelectedOptionVal == 'e' || comparatorSelectedOptionVal == 'n' ||\n\t\t\t\t\tcomparatorSelectedOptionVal == 'b' || comparatorSelectedOptionVal == 'a') {\n\t\t\t\tvar dateTimeArray = dateTimeFieldValue.split(' ');\n\t\t\t\tdateTimeFieldValue = dateTimeArray[0];\n\t\t\t}\n\t\t\tfieldUi.find('.dateField').val(dateTimeFieldValue);\n\t\t\treturn fieldUi;\n\t\t}\n\t}\n});\n\n\nAdvanceFilter_Date_Field_Js('AdvanceFilter_Datetime_Field_Js', {}, {});\n"],"names":["jQuery","Class","getInstance","container","module","app","getModuleName","moduleClassName1","moduleClassName2","instance","filterContainer","fieldTypeConditionMapping","conditonOperatorLabelMapping","dateConditionInfo","fieldModelInstance","validationSupportedFieldConditionMap","allConditionValidationNeededFieldList","validationForControlsRegistered","init","is","setFilterContainer","initialize","registerEvents","initializeOperationMappingDetails","loadFieldSpecificUiForAll","getFilterContainer","data","element","getDateSpecificConditionInfo","getConditionListFromType","fieldType","fieldTypeConditions","concat","getDateConditions","dateFilters","keys","getConditionLabel","key","isEmptyFieldSelected","fieldSelect","find","val","getAddConditionElement","addNewCondition","conditionGroupElement","$","newRowElement","basicElement","clone","selectElement","addClass","conditionList","append","App","Fields","Picklist","showSelect2ElementView","dropdownParent","addConditionHandler","e","currentTarget","conditionGroup","closest","getFieldSpecificType","fieldSelected","type","fieldInfo","loadConditions","conditionSelectElement","row","group","conditionSelected","fieldSpecificType","fieldName","inArray","hasOwnProperty","conditionLabel","conditionValue","options","empty","html","trigger","getFieldSpecificUi","fieldSelectElement","fieldModel","get","getName","getValue","vtranslate","getType","toLowerCase","selectedValue","conditionRow","getUiTypeSpecificHtml","loadFieldSpecificUi","fieldUiHolder","selectedOption","comparatorElementVal","dateSpecificConditions","Vtiger_Field_Js","moduleName","fieldSpecificUi","length","css","filter","attr","removeAttr","decimal_separator","group_separator","hasClass","changeSelectElementView","has","Date","register","registerRange","ranges","registerEventForClockPicker","addValidationToFieldIfNeeded","indexOf","show","hide","conditionsContainer","each","i","elem","currentElement","selectFieldElement","fieldSpecificElement","validator","isFieldSupportsValidation","JSON","stringify","removeClass","selectedCondition","getValues","fieldList","values","columnIndex","conditionGroups","index","domElement","groupElement","conditions","conditionDomElement","rowElement","valueSelectElement","thisInstance","fieldDataInfo","searchOperator","rowValues","field","newValuesArr","join","prop","pickListValues","valuesArr","commaSeperatedValues","split","newvaluesArr","push","reconstructedCommaSeperatedValues","value","deleteConditionHandler","remove","registerAddCondition","on","registerFieldChange","_intialize","registerConditionChange","comparatorSelectElement","registerDeleteCondition","getUiTypeModel","getUi","currentModule","Vtiger_Picklist_Field_Js","getPickListValues","htmlDecode","selectedOptionsArray","option","addValidationToElement","selectContainer","AdvanceFilter_Picklist_Field_Js","Vtiger_Multipicklist_Field_Js","AdvanceFilter_Multipicklist_Field_Js","Vtiger_Owner_Field_Js","comparatorSelectedOptionVal","optGroup","optionGroupValues","tagsArray","groups","blocks","trim","Vtiger_Multireferencevalue_Field_Js","AdvanceFilter_Owner_Field_Js","Vtiger_Date_Field_Js","getDateFormat","dateFieldUi","startDateTime","valueArray","endDateTime","dateTime","dateTimeValue","startDate","endDate","endValue","startValue","_super","dateTimeFieldValue","fieldUi","dateValue","dateTimeArray","AdvanceFilter_Date_Field_Js"],"mappings":"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"}