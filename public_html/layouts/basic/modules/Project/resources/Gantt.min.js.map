{"version":3,"file":"Gantt.min.js","sources":["Gantt.js"],"sourcesContent":["/* {[The file is published on the basis of YetiForce Public License 3.0 that can be found in the following directory: licenses/LicenseEN.txt or yetiforce.com]} */\n'use strict';\n\nclass Gantt {\n\n\t/**\n\t * Constructor\n\t *\n\t * @param {jQUery|HTMLElement|string} container\n\t * @param {object} projectData\n\t */\n\tconstructor(container, projectData) {\n\t\tthis.container = $(container);\n\t\tthis.registerLanguage();\n\t\tthis.registerTemplates();\n\t\tif (typeof projectData !== 'undefined') {\n\t\t\tthis.loadProject(projectData);\n\t\t}\n\t}\n\n\t/**\n\t * Register language translations globally (replace old ones)\n\t */\n\tregisterLanguage() {\n\t\tGanttMaster.messages.GANTT_ERROR_LOADING_DATA_TASK_REMOVED = app.vtranslate(\"JS_GANTT_ERROR_LOADING_DATA_TASK_REMOVED\", 'Project');\n\t\tGanttMaster.messages.INVALID_DATE_FORMAT = app.vtranslate(\"JS_INVALID_DATE_FORMAT\", 'Project');\n\t\tGanttMaster.messages.GANTT_SEMESTER_SHORT = app.vtranslate(\"JS_GANTT_SEMESTER_SHORT\", 'Project');\n\t\tGanttMaster.messages.GANTT_SEMESTER = app.vtranslate(\"JS_GANTT_SEMESTER\", 'Project');\n\t\tGanttMaster.messages.GANTT_QUARTER_SHORT = app.vtranslate(\"JS_GANTT_QUARTER_SHORT\", 'Project');\n\t\tGanttMaster.messages.GANTT_QUARTER = app.vtranslate(\"JS_GANTT_QUARTER\", 'Project');\n\t\tGanttMaster.messages.GANTT_WEEK = app.vtranslate(\"JS_GANTT_WEEK\", 'Project');\n\t\tGanttMaster.messages.GANTT_WEEK_SHORT = app.vtranslate(\"JS_GANTT_WEEK_SHORT\", 'Project');\n\t\tGantt_i18n.YES = app.vtranslate(\"JS_YES\", 'Project');\n\t\tGantt_i18n.NO = app.vtranslate(\"JS_NO\", 'Project');\n\t\tGantt_i18n.INVALID_DATA = app.vtranslate(\"JS_INVALID_DATA\", 'Project');\n\t\tGantt_i18n.ERROR_ON_FIELD = app.vtranslate(\"JS_ERROR_ON_FIELD\", 'Project');\n\t\tGantt_i18n.OUT_OF_BOUDARIES = app.vtranslate(\"JS_OUT_OF_BOUDARIES\", 'Project');\n\t\tGantt_i18n.ERR_FIELD_MAX_SIZE_EXCEEDED = app.vtranslate(\"JS_ERR_FIELD_MAX_SIZE_EXCEEDED\", 'Project');\n\t\tGantt_i18n.WEEK_SHORT = app.vtranslate(\"JS_WEEK_SHORT\", 'Project');\n\t\tGantt_i18n.PROCEED = app.vtranslate(\"JS_PROCEED\", 'Project');\n\t\tGantt_i18n.PREV = app.vtranslate(\"JS_PREV\", 'Project');\n\t\tGantt_i18n.NEXT = app.vtranslate(\"JS_NEXT\", 'Project');\n\t\tGantt_i18n.HINT_SKIP = app.vtranslate(\"JS_HINT_SKIP\", 'Project');\n\t\tDate.monthNames = App.Fields.Date.fullMonthsTranslated.map(month => month);\n\t\tDate.monthAbbreviations = App.Fields.Date.monthsTranslated.map(month => month);\n\t\tDate.dayAbbreviations = App.Fields.Date.daysTranslated.map(day => day);\n\t\tDate.dayNames = App.Fields.Date.fullDaysTranslated.map(day => day);\n\t\tDate.firstDayOfWeek = CONFIG.firstDayOfWeekNo;\n\t\tDate.defaultFormat = CONFIG.dateFormat;\n\t\tDate.today = app.vtranslate('JS_TODAY');\n\t\tNumber.decimalSeparator = CONFIG.currencyDecimalSeparator;\n\t\tNumber.groupingSeparator = CONFIG.currencyGroupingSeparator;\n\t\tNumber.currencyFormat = \"###,##0.00\";\n\t}\n\n\t/**\n\t * Register gantt templates globally\n\t *\n\t * @returns {string}\n\t */\n\tregisterTemplates() {\n\t\tconst self = this;\n\t\tthis.ganttTemplateFunctions = [];\n\t\tthis.ganttTemplateFunctions.push({\n\t\t\ttype: \"GANTBUTTONS\",\n\t\t\trender(obj) {\n\t\t\t\treturn `<div class=\"ganttButtonBar noprint\">\n\t\t\t\t<div class=\"buttons\">\n\t\t\t\t\t<button class=\"js-gantt__expand-all-btn button textual icon \" title=\"${app.vtranslate('JS_GANTT_EXPAND_ALL')}\"><span class=\"teamworkIcon\">6</span></button>\n\t\t\t\t\t<button class=\"js-gantt__collapse-all-btn button textual icon \" title=\"${app.vtranslate('JS_GANTT_COLLAPSE_ALL')}\"><span class=\"teamworkIcon\">5</span></button>\n\t\t\t\t\t<span class=\"ganttButtonSeparator\"></span>\n\t\t\t\t\t<button class=\"js-gantt__zoom-out-btn button textual icon \" title=\"${app.vtranslate('JS_GANTT_ZOOM_OUT')}\"><span class=\"teamworkIcon\">)</span></button>\n\t\t\t\t\t<button class=\"js-gantt__zoom-in-btn button textual icon \" title=\"${app.vtranslate('JS_GANTT_ZOOM_IN')}\"><span class=\"teamworkIcon\">(</span></button>\n\t\t\t\t\t<span class=\"ganttButtonSeparator\"></span>\n\t\t\t\t\t<button class=\"js-gantt__resize-0-btn button textual icon\" title=\"${app.vtranslate('JS_GANTT_RESIZE_0')}\"><span class=\"teamworkIcon\">F</span>\n\t\t\t\t\t</button>\n\t\t\t\t\t<button class=\"js-gantt__resize-50-btn button textual icon\" title=\"${app.vtranslate('JS_GANTT_RESIZE_50')}\"><span class=\"teamworkIcon\">O</span>\n\t\t\t\t\t</button>\n\t\t\t\t\t<button class=\"js-gantt__resize-100-btn button textual icon\" title=\"${app.vtranslate('JS_GANTT_RESIZE_100')}\"><span class=\"teamworkIcon\">R</span>\n\t\t\t\t\t</button>\n\t\t\t\t\t<span class=\"ganttButtonSeparator\"></span>\n\t\t\t\t\t<button class=\"js-gantt__front-filter button textual icon\" title=\"${app.vtranslate('JS_GANTT_FILTER')}\"><span class=\"teamworkIcon\">f</span></button>\n\t\t\t\t</div>\n\t\t\t</div>`;\n\t\t\t}\n\t\t});\n\n\t\tthis.ganttTemplateFunctions.push({\n\t\t\ttype: \"TASKSEDITHEAD\",\n\t\t\trender(obj) {\n\t\t\t\treturn `<table class=\"gdfTable\" cellspacing=\"0\" cellpadding=\"0\">\n\t\t\t\t<thead>\n\t\t\t\t<tr style=\"height:40px\">\n      \t\t\t\t<th class=\"gdfColHeader gdfResizable\" style=\"width:80px\">${app.vtranslate(\"JS_NO.\", \"Project\")}</th>\n\t\t\t\t\t<th class=\"gdfColHeader gdfResizable\" style=\"width:300px\">${app.vtranslate(\"JS_NAME\")}</th>\n\t\t\t\t\t<th class=\"gdfColHeader gdfResizable\" style=\"width:60px\">${app.vtranslate(\"JS_PRIORITY\")}</th>\n\t\t\t\t\t<th class=\"gdfColHeader gdfResizable\" style=\"width:100px\">${app.vtranslate(\"JS_STATUS\")}</th>\n\t\t\t\t\t<th class=\"gdfColHeader gdfResizable\" style=\"width:70px\">${app.vtranslate(\"JS_DURATION_SHORT\", \"Project\")}</th>\n\t\t\t\t\t<th class=\"gdfColHeader gdfResizable\" style=\"width:50px\">%</th>\n\t\t\t\t\t<th class=\"gdfColHeader gdfResizable\" style=\"width:200px\">${app.vtranslate(\"JS_ASSIGNED\", \"Project\")}</th>\n\t\t\t\t</tr>\n\t\t\t\t</thead>\n\t\t\t</table>`;\n\t\t\t}\n\t\t});\n\n\t\tthis.ganttTemplateFunctions.push({\n\t\t\ttype: \"TASKROW\",\n\t\t\trender(obj) {\n\t\t\t\treturn `<tr id=\"tid_${obj.id}\" taskId=\"${obj.id}\" class=\"taskEditRow ${obj.isParent() ? 'isParent' : ''} ${obj.collapsed ? 'collapsed' : ''}\" level=\"${obj.level}\">\n\t   \t\t\t<td class=\"gdfCell text-center\">${obj.no}</td>\n\t\t\t\t<td class=\"gdfCell indentCell\" style=\"padding-left:${obj.level * 10 + 18}px;\" title=\"${obj.name}\" data-toggle=\"tooltip\">\n\t\t\t\t\t<div class=\"exp-controller\" align=\"center\"></div>\n\t\t\t\t\t${obj.type === 'project' ? '<span class=\"fas fa-briefcase\"></span>' : obj.type === 'milestone' ? '<i class=\"fas fa-folder\"></i>' : '<i class=\"fas fa-file\"></i>'}\n\t\t\t\t\t<input type=\"text\" name=\"name\" value=\"${obj.name}\" placeholder=\"name\" ${obj.canWrite ? 'canWrite' : 'disabled'}>\n\t\t\t\t</td>\n\t\t\t\t<td class=\"gdfCell\"><input type=\"text\" name=\"priority\" class=\"text-center\" autocomplete=\"off\" value=\"${obj.priority_label ? obj.priority_label : ''}\"></td>\n\t\t\t\t<td class=\"gdfCell\"><input type=\"text\" name=\"status\" class=\"text-center\" autocomplete=\"off\" value=\"${obj.status_label ? obj.status_label : ''}\"></td>\n\t\t\t\t<td class=\"gdfCell\"><input type=\"text\" name=\"duration\" class=\"text-center\" autocomplete=\"off\" value=\"${obj.duration}\"></td>\n\t\t\t\t<td class=\"gdfCell\"><input type=\"text\" name=\"progress\" class=\"validated text-center\" entrytype=\"PERCENTILE\" autocomplete=\"off\" value=\"${obj.progress ? obj.progress : ''}\" ${obj.progressByWorklog ? \"readOnly\" : \"\"}></td>\n\t\t\t\t<td class=\"gdfCell\"><input type=\"text\" name=\"assigned\" class=\"text-center\" autocomplete=\"off\" value=\"${obj.assigned_user_name}\"></td>\n\t\t\t</tr>`;\n\t\t\t}\n\t\t});\n\n\n\t\tthis.ganttTemplateFunctions.push({\n\t\t\ttype: \"TASKEMPTYROW\",\n\t\t\trender(obj) {\n\t\t\t\treturn `<tr class=\"taskEditRow emptyRow\">\n\t\t\t\t<td class=\"gdfCell\"></td>\n\t\t\t\t<td class=\"gdfCell\"></td>\n\t\t\t\t<td class=\"gdfCell\"></td>\n\t\t\t\t<td class=\"gdfCell\"></td>\n\t\t\t\t<td class=\"gdfCell\"></td>\n\t\t\t\t<td class=\"gdfCell\"></td>\n\t\t\t\t<td class=\"gdfCell\"></td>\n\t\t\t</tr>`;\n\t\t\t}\n\t\t});\n\n\t\tthis.ganttTemplateFunctions.push({\n\t\t\ttype: \"TASKBAR\",\n\t\t\trender(obj) {\n\t\t\t\treturn `<div class=\"taskBox taskBoxDiv\" taskId=\"${obj.id}\">\n\t\t\t\t<div class=\"layout ${obj.hasExternalDep ? 'extDep' : ''}\">\n\t\t\t\t\t<div class=\"taskProgress\"\n\t\t\t\t\t\t style=\"width:${obj.progress > 100 ? 100 : obj.progress}%; background-color:${obj.progress > 100 ? 'red' : 'rgb(153,255,51);'};\"></div>\n\t\t\t\t\t<div class=\"milestone ${obj.startIsMilestone ? 'active' : ''}\"></div>\n\t\t\t\t\t<div class=\"taskLabel\"></div>\n\t\t\t\t\t<div class=\"milestone end ${obj.endIsMilestone ? 'active' : ''}\"></div>\n\t\t\t\t</div>\n\t\t\t</div>`;\n\t\t\t}\n\t\t});\n\n\n\t\tthis.ganttTemplateFunctions.push({\n\t\t\ttype: \"CHANGE_STATUS\",\n\t\t\trender(obj) {\n\t\t\t\treturn `<div class=\"taskStatusBox\">\n\t\t\t\t<div class=\"taskStatus cvcColorSquare\" status=\"STATUS_ACTIVE\" title=\"Active\"></div>\n\t\t\t\t<div class=\"taskStatus cvcColorSquare\" status=\"STATUS_DONE\" title=\"Completed\"></div>\n\t\t\t\t<div class=\"taskStatus cvcColorSquare\" status=\"STATUS_FAILED\" title=\"Failed\"></div>\n\t\t\t\t<div class=\"taskStatus cvcColorSquare\" status=\"STATUS_SUSPENDED\" title=\"Suspended\"></div>\n\t\t\t\t<div class=\"taskStatus cvcColorSquare\" status=\"STATUS_WAITING\" title=\"Waiting\" style=\"display: none;\"></div>\n\t\t\t\t<div class=\"taskStatus cvcColorSquare\" status=\"STATUS_UNDEFINED\" title=\"Undefined\"></div>\n\t\t\t</div>`;\n\t\t\t}\n\t\t});\n\n\t\tthis.ganttTemplateFunctions.push({\n\t\t\ttype: \"ASSIGNMENT_ROW\",\n\t\t\trender(obj) {\n\t\t\t\treturn `<tr taskId=\"${obj.task.id}\" assId=\"${obj.assig.id}\" class=\"assigEditRow\">\n\t\t\t\t<td><select name=\"resourceId\" class=\"formElements\" ${obj.assig.id.indexOf(\"tmp_\") == 0 ? \"\" : \"disabled\"}></select></td>\n\t\t\t\t<td><select type=\"select\" name=\"roleId\" class=\"formElements\"></select></td>\n\t\t\t\t<td><input type=\"text\" name=\"effort\" value=\"${getMillisInHoursMinutes(obj.assig.effort)}\" size=\"5\" class=\"formElements\"></td>\n\t\t\t\t<td align=\"center\"><span class=\"teamworkIcon delAssig del\" style=\"cursor: pointer\">d</span></td>\n\t\t\t</tr>`;\n\t\t\t}\n\t\t});\n\n\t\tthis.ganttTemplateFunctions.push({\n\t\t\ttype: \"RESOURCE_ROW\",\n\t\t\trender(obj) {\n\t\t\t\treturn `<tr resId=\"${obj.id}\" class=\"resRow\">\n\t\t\t\t<td><input type=\"text\" name=\"name\" value=\"${obj.name}\" style=\"width:100%;\" class=\"formElements\"></td>\n\t\t\t\t<td align=\"center\"><span class=\"teamworkIcon delRes del\" style=\"cursor: pointer\">d</span></td>\n\t\t\t</tr>`;\n\t\t\t}\n\t\t});\n\t\t// must be declared but for now not needed\n\t\tthis.ganttTemplateFunctions.push({\n\t\t\ttype: \"TASKEDITHEAD\",\n\t\t\trender(obj) {\n\t\t\t\treturn \"\";\n\t\t\t}\n\t\t});\n\t\tthis.ganttTemplateFunctions.push({\n\t\t\ttype: \"TASK_EDITOR\",\n\t\t\trender(obj) {\n\t\t\t\treturn \"\";\n\t\t\t}\n\t\t});\n\t\tthis.ganttTemplateFunctions.push({\n\t\t\ttype: \"RESOURCE_EDITOR\",\n\t\t\trender(obj) {\n\t\t\t\treturn \"\";\n\t\t\t}\n\t\t});\n\t\tthis.ganttTemplateFunctions.push({\n\t\t\ttype: \"RESOURCE_EDITOR\",\n\t\t\trender(obj) {\n\t\t\t\treturn \"\";\n\t\t\t}\n\t\t});\n\t}\n\n\t/**\n\t * Make tree from task array\n\t *\n\t * @param {Array} tasks\n\t * @param {Object} parent\n\t * @returns {Object}\n\t */\n\tmakeTree(tasks, parent = {id: 0}) {\n\t\tparent = {...parent};\n\t\tif (typeof parent.children === 'undefined') {\n\t\t\tparent.children = [];\n\t\t}\n\t\tfor (let child of tasks) {\n\t\t\tchild = {...child};\n\t\t\tif (typeof child.parent === 'undefined') {\n\t\t\t\tchild.parent = 0;\n\t\t\t}\n\t\t\tif (child.parent === parent.id) {\n\t\t\t\tchild = this.makeTree(tasks, child);\n\t\t\t\tparent.children.push(child);\n\t\t\t}\n\t\t}\n\t\treturn parent;\n\t}\n\n\t/**\n\t * Flatten tree to array\n\t *\n\t * @param {Object} tree\n\t * @param {Array} flat\n\t * @returns {Array}\n\t */\n\tflattenTree(tree, flat = []) {\n\t\tfor (let child of tree.children) {\n\t\t\tflat.push(child);\n\t\t\tflat = this.flattenTree(child, flat);\n\t\t}\n\t\treturn flat;\n\t}\n\n\t/**\n\t * Get branch that fulfill statuses\n\t *\n\t * @param {String} moduleName\n\t * @param {String[]} statuses\n\t * @param {Object} current\n\t * @returns {Object}\n\t */\n\tgetBranchesWithStatus(moduleName, statuses, current) {\n\t\tcurrent = {...current};\n\t\tlet children = [];\n\t\tcurrent.children = current.children.map(task => task);\n\t\tfor (let task of current.children) {\n\t\t\tif (task.module !== moduleName || statuses.map(status => status.value).indexOf(task.normalized_status) > -1 || statuses.length === 0) {\n\t\t\t\tchildren.push(this.getBranchesWithStatus(moduleName, statuses, task));\n\t\t\t}\n\t\t}\n\t\tcurrent.children = children;\n\t\treturn current;\n\t}\n\n\t/**\n\t * Filter project data\n\t *\n\t * @param {Object} projectData\n\t * @returns {Object}\n\t */\n\tfilterProjectData(projectData) {\n\t\tlet newProjectData = Object.assign({}, projectData);\n\t\tlet tree = this.makeTree(newProjectData.tasks);\n\t\tfor (let moduleName in this.filter.status) {\n\t\t\tif (this.filter.status.hasOwnProperty(moduleName)) {\n\t\t\t\ttree = this.getBranchesWithStatus(moduleName, this.filter.status[moduleName], tree);\n\t\t\t}\n\t\t}\n\t\tnewProjectData.tasks = this.flattenTree(tree);\n\t\treturn newProjectData;\n\t}\n\n\t/**\n\t * Load project\n\t */\n\tloadProject(projectData) {\n\t\tthis.projectData = projectData;\n\t\tthis.statuses = this.projectData.statuses;\n\t\tthis.filter = {status: this.projectData.activeStatuses};\n\t\tthis.gantt = new GanttMaster(this.ganttTemplateFunctions);\n\t\tthis.gantt.resourceUrl = '/libraries/jquery-gantt-editor/res/';\n\t\tthis.gantt.init(this.container);\n\t\tthis.allTasks = this.projectData.tasks;\n\t\tif (this.allTasks.length > 0) {\n\t\t\tthis.gantt.loadProject($.extend(true, {}, this.filterProjectData(this.projectData)));\n\t\t\tthis.registerEvents();\n\t\t}\n\t}\n\n\t/**\n\t * Load project from ajax request\n\t * @param {object} params - request params such as module/action and projectId\n\t */\n\tloadProjectFromAjax(params) {\n\t\tconst progressInstance = jQuery.progressIndicator({blockInfo: {enabled: true}});\n\t\tAppConnector.request(params).done((response) => {\n\t\t\tthis.loadProject(response.result);\n\t\t\tprogressInstance.progressIndicator({mode: 'hide'});\n\t\t});\n\t}\n\n\t/**\n\t * Load new data to gantt\n\t *\n\t * @param {Object} data\n\t */\n\treloadData(data) {\n\t\tthis.gantt.loadProject(data);\n\t}\n\n\t/**\n\t * Save filter and reload data.\n\t *\n\t * @param {Object} filterOptions\n\t */\n\tsaveFilter(filterOptions) {\n\t\tthis.filter = filterOptions;\n\t\tthis.reloadData(this.filterProjectData(this.projectData));\n\t}\n\n\t/**\n\t * Get status from value (object with other props)\n\t * @param {String} value\n\t * @param {String} moduleName\n\t * @returns {Object}\n\t */\n\tgetStatusFromValue(value, moduleName) {\n\t\tfor (let status of this.statuses[moduleName]) {\n\t\t\tif (status.value === value) {\n\t\t\t\treturn Object.assign({}, status);\n\t\t\t}\n\t\t}\n\t\tapp.errorLog(`Status not found [${value}]`);\n\t}\n\n\t/**\n\t * Open modal with status filters\n\t */\n\tshowFiltersModal() {\n\t\tconst self = this;\n\t\tconst box = bootbox.dialog({\n\t\t\tshow: 'false',\n\t\t\tmessage: `<div class=\"js-gantt__filter-modal form\" data-js=\"container\">\n\t\t\t\t<div class=\"form-group\">\n\t\t\t\t\t<label>${app.vtranslate(\"JS_PROJECT_STATUSES\", 'Project')}:</label>\n\t\t\t\t\t<select class=\"select2 form-control\" id=\"js-gantt__filter-project\" multiple>\n\t\t\t\t\t\t${self.statuses.Project.map((status) => {\n\t\t\t\treturn `<option value=\"${status.value}\" ${this.filter.status.Project.map(status => status.value).indexOf(status.value) >= 0 ? 'selected' : ''}>${status.label}</option>`;\n\t\t\t})}\n\t\t\t\t\t</select>\n\t\t\t\t</div>\n\t\t\t\t<div class=\"form-group\">\n\t\t\t\t<label>${app.vtranslate(\"JS_MILESTONE_STATUSES\", 'Project')}:</label>\n\t\t\t\t\t<select class=\"select2 form-control\" id=\"js-gantt__filter-milestone\" multiple>\n\t\t\t\t\t\t${self.statuses.ProjectMilestone.map((status) => {\n\t\t\t\treturn `<option value=\"${status.value}\" ${this.filter.status.ProjectMilestone.map(status => status.value).indexOf(status.value) >= 0 ? 'selected' : ''}>${status.label}</option>`;\n\t\t\t})}\n\t\t\t\t\t</select>\n\t\t\t\t</div>\n\t\t\t\t<div class=\"form-group\">\n\t\t\t\t<label>${app.vtranslate(\"JS_TASK_STATUSES\", 'Project')}:</label>\n\t\t\t\t\t<select class=\"select2 form-control\" id=\"js-gantt__filter-task\" multiple>\n\t\t\t\t\t\t${self.statuses.ProjectTask.map((status) => {\n\t\t\t\treturn `<option value=\"${status.value}\" ${this.filter.status.ProjectTask.map(status => status.value).indexOf(status.value) >= 0 ? 'selected' : ''}>${status.label}</option>`;\n\t\t\t})}\n\t\t\t\t\t</select>\n\t\t\t\t</div>\n\t\t\t</div>`,\n\t\t\ttitle: '<span class=\"fas fa-filter\"></span> ' + app.vtranslate('JS_FILTER_BY_STATUSES', 'Project'),\n\t\t\tbuttons: {\n\t\t\t\tsuccess: {\n\t\t\t\t\tlabel: '<span class=\"fas fa-check mr-1\"></span>' + app.vtranslate('JS_UPDATE_GANTT', 'Project'),\n\t\t\t\t\tclassName: \"btn-success\",\n\t\t\t\t\tcallback: function () {\n\t\t\t\t\t\tself.saveFilter({\n\t\t\t\t\t\t\tstatus: {\n\t\t\t\t\t\t\t\tProject: $('#js-gantt__filter-project', this).val().map((status) => {\n\t\t\t\t\t\t\t\t\treturn self.getStatusFromValue(status, 'Project');\n\t\t\t\t\t\t\t\t}),\n\t\t\t\t\t\t\t\tProjectMilestone: $('#js-gantt__filter-milestone', this).val().map((status) => {\n\t\t\t\t\t\t\t\t\treturn self.getStatusFromValue(status, 'ProjectMilestone');\n\t\t\t\t\t\t\t\t}),\n\t\t\t\t\t\t\t\tProjectTask: $('#js-gantt__filter-task', this).val().map((status) => {\n\t\t\t\t\t\t\t\t\treturn self.getStatusFromValue(status, 'ProjectTask');\n\t\t\t\t\t\t\t\t}),\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t});\n\t\t\t\t\t}\n\t\t\t\t},\n\t\t\t\tdanger: {\n\t\t\t\t\tlabel: '<span class=\"fas fa-times mr-1\"></span>' + app.vtranslate('JS_CANCEL'),\n\t\t\t\t\tclassName: \"btn-danger\",\n\t\t\t\t\tcallback: function () {\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t}\n\t\t});\n\t\tApp.Fields.Picklist.showSelect2ElementView($(box).find('.select2'));\n\t\tbox.show();\n\t}\n\n\t/**\n\t * Register events for gantt actions in current container\n\t */\n\tregisterEvents() {\n\t\tconst container = this.container;\n\t\tconst self = this;\n\t\tcontainer.find('.js-gantt__expand-all-btn', container).on('click', function (e) {\n\t\t\te.preventDefault();\n\t\t\tcontainer.trigger('expandAll.gantt');\n\t\t});\n\t\tcontainer.find('.js-gantt__collapse-all-btn', container).on('click', function (e) {\n\t\t\te.preventDefault();\n\t\t\tcontainer.trigger('collapseAll.gantt');\n\t\t});\n\t\tcontainer.find('.js-gantt__zoom-in-btn', container).on('click', function (e) {\n\t\t\te.preventDefault();\n\t\t\tcontainer.trigger('zoomPlus.gantt');\n\t\t});\n\t\tcontainer.find('.js-gantt__zoom-out-btn').on('click', function (e) {\n\t\t\te.preventDefault();\n\t\t\tcontainer.trigger('zoomMinus.gantt');\n\t\t});\n\t\tcontainer.find('.js-gantt__print-btn').on('click', function (e) {\n\t\t\te.preventDefault();\n\t\t\tcontainer.trigger('print.gantt');\n\t\t});\n\t\tcontainer.find('.js-gantt__show-critical-path-btn').on('click', function (e) {\n\t\t\te.preventDefault();\n\t\t\tthis.gantt.gantt.showCriticalPath = !gantt.gantt.showCriticalPath;\n\t\t\tthis.gantt.redraw();\n\t\t}.bind(this));\n\t\tcontainer.find('.js-gantt__resize-0-btn').on('click', function (e) {\n\t\t\te.preventDefault();\n\t\t\tthis.gantt.splitter.resize(.1);\n\t\t}.bind(this));\n\t\tcontainer.find('.js-gantt__resize-50-btn').on('click', function (e) {\n\t\t\te.preventDefault();\n\t\t\tthis.gantt.splitter.resize(50);\n\t\t}.bind(this));\n\t\tcontainer.find('.js-gantt__resize-100-btn').on('click', function (e) {\n\t\t\te.preventDefault();\n\t\t\tthis.gantt.splitter.resize(100);\n\t\t}.bind(this));\n\t\tcontainer.find('.js-gantt__fullscreen-btn').on('click', function (e) {\n\t\t\te.preventDefault();\n\t\t\tcontainer.trigger('fullScreen.gantt');\n\t\t}.bind(this));\n\t\tcontainer.find('.js-gantt__front-filter').on('click', function (e) {\n\t\t\te.preventDefault();\n\t\t\tself.showFiltersModal();\n\t\t});\n\t\tcontainer.find('[data-toggle=\"tooltip\"]').tooltip();\n\t}\n}\n"],"names":["container","projectData","$","registerLanguage","registerTemplates","loadProject","GanttMaster","messages","GANTT_ERROR_LOADING_DATA_TASK_REMOVED","app","vtranslate","INVALID_DATE_FORMAT","GANTT_SEMESTER_SHORT","GANTT_SEMESTER","GANTT_QUARTER_SHORT","GANTT_QUARTER","GANTT_WEEK","GANTT_WEEK_SHORT","Gantt_i18n","YES","NO","INVALID_DATA","ERROR_ON_FIELD","OUT_OF_BOUDARIES","ERR_FIELD_MAX_SIZE_EXCEEDED","WEEK_SHORT","PROCEED","PREV","NEXT","HINT_SKIP","Date","monthNames","App","Fields","fullMonthsTranslated","map","monthAbbreviations","monthsTranslated","dayAbbreviations","daysTranslated","dayNames","fullDaysTranslated","firstDayOfWeek","CONFIG","firstDayOfWeekNo","defaultFormat","dateFormat","today","Number","decimalSeparator","currencyDecimalSeparator","groupingSeparator","currencyGroupingSeparator","currencyFormat","ganttTemplateFunctions","push","type","render","obj","id","isParent","collapsed","level","no","name","canWrite","priority_label","status_label","duration","progress","progressByWorklog","assigned_user_name","hasExternalDep","startIsMilestone","endIsMilestone","task","assig","indexOf","getMillisInHoursMinutes","effort","tasks","parent","children","child","makeTree","tree","flat","flattenTree","moduleName","statuses","current","module","value","normalized_status","length","getBranchesWithStatus","Object","assign","newProjectData","filter","status","hasOwnProperty","activeStatuses","gantt","resourceUrl","init","allTasks","extend","filterProjectData","registerEvents","params","progressInstance","jQuery","progressIndicator","blockInfo","enabled","AppConnector","request","done","response","result","mode","data","filterOptions","reloadData","errorLog","self","box","bootbox","dialog","show","message","Project","label","ProjectMilestone","ProjectTask","title","buttons","success","className","callback","saveFilter","val","getStatusFromValue","danger","Picklist","showSelect2ElementView","find","on","e","preventDefault","trigger","showCriticalPath","redraw","bind","splitter","resize","showFiltersModal","tooltip"],"mappings":"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"}