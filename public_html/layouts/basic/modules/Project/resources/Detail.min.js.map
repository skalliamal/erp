{"version":3,"file":"Detail.min.js","sources":["Detail.js"],"sourcesContent":["/*+***********************************************************************************\n * The contents of this file are subject to the vtiger CRM Public License Version 1.0\n * (\"License\"); You may not use this file except in compliance with the License\n * The Original Code is:  vtiger CRM Open Source\n * The Initial Developer of the Original Code is vtiger.\n * Portions created by vtiger are Copyright (C) vtiger.\n * All Rights Reserved.\n *************************************************************************************/\n'use strict';\n\nVtiger_Detail_Js(\"Project_Detail_Js\", {}, {\n\t/**\n\t * Function to register event for create related record\n\t * in summary view widgets\n\t */\n\tregisterSummaryViewContainerEvents: function (summaryViewContainer) {\n\t\tthis._super(summaryViewContainer);\n\t},\n\t/**\n\t * Function to load module summary of Projects\n\t */\n\tloadModuleSummary: function () {\n\t\tvar summaryParams = {};\n\t\tsummaryParams['module'] = app.getModuleName();\n\t\tsummaryParams['view'] = \"Detail\";\n\t\tsummaryParams['mode'] = \"showModuleSummaryView\";\n\t\tsummaryParams['record'] = jQuery('#recordId').val();\n\t\tAppConnector.request(summaryParams).done(function (data) {\n\t\t\tjQuery('.js-widget-general-info').html(data);\n\t\t});\n\t},\n\t/**\n\t * Load gantt component\n\t */\n\tloadGantt() {\n\t\tlet ganttContainer = $('.c-gantt', this.detailViewContentHolder);\n\t\tif (ganttContainer.length) {\n\t\t\tlet gantt = new Project_Gantt_Js(this.detailViewContentHolder);\n\t\t\tgantt.registerEvents();\n\t\t}\n\t},\n\t/**\n\t * Load gantt component when needed\n\t */\n\tregisterGantt() {\n\t\tthis.loadGantt();\n\t\tapp.event.on('DetailView.Tab.AfterLoad', (e, data, instance) => {\n\t\t\tinstance.detailViewContentHolder.ready(() => {\n\t\t\t\tthis.loadGantt();\n\t\t\t})\n\t\t});\n\t},\n\t/**\n\t * Register events\n\t */\n\tregisterEvents: function () {\n\t\tvar detailContentsHolder = this.getContentHolder();\n\t\tvar thisInstance = this;\n\t\tthis._super();\n\t\tdetailContentsHolder.on('click', '.moreRecentTickets', function () {\n\t\t\tvar recentTicketsTab = thisInstance.getTabByLabel(thisInstance.detailViewRecentTicketsTabLabel);\n\t\t\trecentTicketsTab.trigger('click');\n\t\t});\n\t\tthis.registerGantt();\n\t}\n});\n"],"names":["Vtiger_Detail_Js","registerSummaryViewContainerEvents","summaryViewContainer","_super","loadModuleSummary","summaryParams","app","getModuleName","jQuery","val","AppConnector","request","done","data","html","loadGantt","$","detailViewContentHolder","ganttContainer","length","gantt","registerEvents","registerGantt","event","on","e","instance","ready","getContentHolder","thisInstance","detailContentsHolder","getTabByLabel","detailViewRecentTicketsTabLabel","recentTicketsTab","trigger"],"mappings":";;AAUAA,iBAAiB,mBAAjB,CAAsC,EAAtC,CAA0C,CAKzCC,mCAAoC,WAAUC,CAAV,CAAgC,CACnE,KAAKC,MAAL,CAAYD,CAAZ,EACA,CAPwC,CAWzCE,kBAAmB,YAAY,CAC9B,MAAoB,EAApB,CACAC,SAA0BC,IAAIC,aAAJ,EAFI,CAG9BF,OAAwB,QAHM,CAI9BA,OAAwB,uBAJM,CAK9BA,SAA0BG,OAAO,WAAP,EAAoBC,GAApB,EALI,CAM9BC,aAAaC,OAAb,CAAqBN,CAArB,EAAoCO,IAApC,CAAyC,SAAUC,CAAV,CAAgB,CACxDL,OAAO,yBAAP,EAAkCM,IAAlC,CAAuCD,CAAvC,EACA,CAFD,EAGA,CApBwC,CAwBzCE,SAxByC,aAwB7B,CACX,MAAqBC,EAAE,UAAF,CAAc,KAAKC,uBAAnB,CAArB,CACA,GAAIC,EAAeC,MAAnB,CAA2B,CAC1B,MAAY,oBAAA,CAAqB,KAAKF,uBAA1B,CAAZ,CACAG,EAAMC,cAAN,GACA,CACD,CA9BwC,CAkCzCC,aAlCyC,aAkCzB,YACf,KAAKP,SAAL,EADe,CAEfT,IAAIiB,KAAJ,CAAUC,EAAV,CAAa,0BAAb,CAAyC,SAACC,CAAD,CAAIZ,CAAJ,CAAUa,CAAV,CAAuB,CAC/DA,EAAST,uBAAT,CAAiCU,KAAjC,CAAuC,UAAM,CAC5C,EAAKZ,SAAL,GACA,CAFD,EAGA,CAJD,EAKA,CAzCwC,CA6CzCM,eAAgB,YAAY,OACA,KAAKO,gBAAL,EADA,CAEvBC,EAAe,IAFQ,CAG3B,KAAK1B,MAAL,EAH2B,CAI3B2B,EAAqBN,EAArB,CAAwB,OAAxB,CAAiC,oBAAjC,CAAuD,UAAY,CAClE,MAAuBK,EAAaE,aAAb,CAA2BF,EAAaG,+BAAxC,CAAvB,CACAC,EAAiBC,OAAjB,CAAyB,OAAzB,EACA,CAHD,CAJ2B,CAQ3B,KAAKZ,aAAL,GACA,CAtDwC,CAA1C"}